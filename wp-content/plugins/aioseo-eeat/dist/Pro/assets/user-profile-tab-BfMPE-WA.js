var Al=Object.defineProperty;var Ll=(r,t,e)=>t in r?Al(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var Q=(r,t,e)=>Ll(r,typeof t!="symbol"?t+"":t,e);import{R as Js,T as ti,U as Nl,V as Ml,W as Il,X as Ol,a as Hs,b as xa,Y as Jr,Z as Li,$ as ka,S as Us,a0 as ql,i as zs,a1 as Ea,a2 as Vs,a3 as Rl,a4 as Ni,a5 as Bl,a6 as jl,a7 as js,a8 as Pl,a9 as $l,aa as Dl,ab as Eo,ac as Hl,ad as Sa,c as dn,M as Ht,ae as Pn,af as Ta,ag as Dn,ah as So,D as Kt,d as wt,o as ft,e as ot,l as Ji,x as Ul,E as se,h as Jt,P as jn,G as to,F as zr,J as Wr,K as ei,ai as tr,t as qt,f as ct,L as zl,g as Kr,N as Vl,j as Ne,w as St,H as Fs,aj as Fl,y as Zs,ak as Zl,al as Wl,am as Kl,B as ui,z as To,an as Gl,_ as pt,s as hi,k as J,ao as Yl,ap as Xl,n as Ql,q as Jl,r as tc}from"./js/translations.D3ZBGWgj.js";import{f as eo,B as er,i as ec,g as Aa,_ as La,c as nc,h as di,b as ve,C as fi,e as Ao,d as rc,l as sc}from"./js/Plus.BHhf3OVe.js";import{w as ic,x as oc,t as ac,B as pi,u as lc,v as cc}from"./js/Select.CaKTg4m6.js";import{C as Na,G as Ma}from"./js/constants.Di9i7zic.js";import{B as mi}from"./js/Toggle.Bke9I-V4.js";var Mi=Js(ti,"WeakMap");function uc(r,t){for(var e=-1,n=r==null?0:r.length;++e<n&&t(r[e],e,r)!==!1;);return r}var hc=Nl(Object.keys,Object),dc=Object.prototype,fc=dc.hasOwnProperty;function pc(r){if(!Ml(r))return hc(r);var t=[];for(var e in Object(r))fc.call(r,e)&&e!="constructor"&&t.push(e);return t}function mc(r){return Ol(r)?Il(r):pc(r)}function gc(r,t){for(var e=-1,n=t.length,s=r.length;++e<n;)r[s+e]=t[e];return r}function bc(r,t){for(var e=-1,n=r==null?0:r.length,s=0,i=[];++e<n;){var a=r[e];t(a,e,r)&&(i[s++]=a)}return i}function vc(){return[]}var yc=Object.prototype,_c=yc.propertyIsEnumerable,Lo=Object.getOwnPropertySymbols,wc=Lo?function(r){return r==null?[]:(r=Object(r),bc(Lo(r),function(t){return _c.call(r,t)}))}:vc;function Cc(r,t,e){var n=t(r);return Hs(r)?n:gc(n,e(r))}function Ii(r){return Cc(r,mc,wc)}var Oi=Js(ti,"DataView"),qi=Js(ti,"Promise"),Ri=Js(ti,"Set"),No="[object Map]",xc="[object Object]",Mo="[object Promise]",Io="[object Set]",Oo="[object WeakMap]",qo="[object DataView]",kc=Jr(Oi),Ec=Jr(Li),Sc=Jr(qi),Tc=Jr(Ri),Ac=Jr(Mi),Me=xa;(Oi&&Me(new Oi(new ArrayBuffer(1)))!=qo||Li&&Me(new Li)!=No||qi&&Me(qi.resolve())!=Mo||Ri&&Me(new Ri)!=Io||Mi&&Me(new Mi)!=Oo)&&(Me=function(r){var t=xa(r),e=t==xc?r.constructor:void 0,n=e?Jr(e):"";if(n)switch(n){case kc:return qo;case Ec:return No;case Sc:return Mo;case Tc:return Io;case Ac:return Oo}return t});var Lc=Object.prototype,Nc=Lc.hasOwnProperty;function Mc(r){var t=r.length,e=new r.constructor(t);return t&&typeof r[0]=="string"&&Nc.call(r,"index")&&(e.index=r.index,e.input=r.input),e}function Ic(r,t){var e=ka(r.buffer);return new r.constructor(e,r.byteOffset,r.byteLength)}var Oc=/\w*$/;function qc(r){var t=new r.constructor(r.source,Oc.exec(r));return t.lastIndex=r.lastIndex,t}var Ro=Us?Us.prototype:void 0,Bo=Ro?Ro.valueOf:void 0;function Rc(r){return Bo?Object(Bo.call(r)):{}}var Bc="[object Boolean]",jc="[object Date]",Pc="[object Map]",$c="[object Number]",Dc="[object RegExp]",Hc="[object Set]",Uc="[object String]",zc="[object Symbol]",Vc="[object ArrayBuffer]",Fc="[object DataView]",Zc="[object Float32Array]",Wc="[object Float64Array]",Kc="[object Int8Array]",Gc="[object Int16Array]",Yc="[object Int32Array]",Xc="[object Uint8Array]",Qc="[object Uint8ClampedArray]",Jc="[object Uint16Array]",tu="[object Uint32Array]";function eu(r,t,e){var n=r.constructor;switch(t){case Vc:return ka(r);case Bc:case jc:return new n(+r);case Fc:return Ic(r);case Zc:case Wc:case Kc:case Gc:case Yc:case Xc:case Qc:case Jc:case tu:return ql(r,e);case Pc:return new n;case $c:case Uc:return new n(r);case Dc:return qc(r);case Hc:return new n;case zc:return Rc(r)}}var nu="[object Map]";function ru(r){return zs(r)&&Me(r)==nu}var jo=Vs&&Vs.isMap,su=jo?Ea(jo):ru,iu="[object Set]";function ou(r){return zs(r)&&Me(r)==iu}var Po=Vs&&Vs.isSet,au=Po?Ea(Po):ou,lu=1,Ia="[object Arguments]",cu="[object Array]",uu="[object Boolean]",hu="[object Date]",du="[object Error]",Oa="[object Function]",fu="[object GeneratorFunction]",pu="[object Map]",mu="[object Number]",qa="[object Object]",gu="[object RegExp]",bu="[object Set]",vu="[object String]",yu="[object Symbol]",_u="[object WeakMap]",wu="[object ArrayBuffer]",Cu="[object DataView]",xu="[object Float32Array]",ku="[object Float64Array]",Eu="[object Int8Array]",Su="[object Int16Array]",Tu="[object Int32Array]",Au="[object Uint8Array]",Lu="[object Uint8ClampedArray]",Nu="[object Uint16Array]",Mu="[object Uint32Array]",Lt={};Lt[Ia]=Lt[cu]=Lt[wu]=Lt[Cu]=Lt[uu]=Lt[hu]=Lt[xu]=Lt[ku]=Lt[Eu]=Lt[Su]=Lt[Tu]=Lt[pu]=Lt[mu]=Lt[qa]=Lt[gu]=Lt[bu]=Lt[vu]=Lt[yu]=Lt[Au]=Lt[Lu]=Lt[Nu]=Lt[Mu]=!0;Lt[du]=Lt[Oa]=Lt[_u]=!1;function Ps(r,t,e,n,s,i){var a,l=t&lu;if(a!==void 0)return a;if(!Rl(r))return r;var u=Hs(r);if(u)a=Mc(r);else{var p=Me(r),v=p==Oa||p==fu;if(Ni(r))return Bl(r,l);if(p==qa||p==Ia||v&&!s)a=v?{}:jl(r);else{if(!Lt[p])return s?r:{};a=eu(r,p,l)}}i||(i=new js);var C=i.get(r);if(C)return C;i.set(r,a),au(r)?r.forEach(function(E){a.add(Ps(E,t,e,E,r,i))}):su(r)&&r.forEach(function(E,T){a.set(T,Ps(E,t,e,T,r,i))});var _=Ii,k=u?void 0:_(r);return uc(k||r,function(E,T){k&&(T=E,E=r[T]),Pl(a,T,Ps(E,t,e,T,r,i))}),a}var Iu=1,Ou=4;function Vr(r){return Ps(r,Iu|Ou)}var qu="__lodash_hash_undefined__";function Ru(r){return this.__data__.set(r,qu),this}function Bu(r){return this.__data__.has(r)}function Ws(r){var t=-1,e=r==null?0:r.length;for(this.__data__=new $l;++t<e;)this.add(r[t])}Ws.prototype.add=Ws.prototype.push=Ru;Ws.prototype.has=Bu;function ju(r,t){for(var e=-1,n=r==null?0:r.length;++e<n;)if(t(r[e],e,r))return!0;return!1}function Pu(r,t){return r.has(t)}var $u=1,Du=2;function Ra(r,t,e,n,s,i){var a=e&$u,l=r.length,u=t.length;if(l!=u&&!(a&&u>l))return!1;var p=i.get(r),v=i.get(t);if(p&&v)return p==t&&v==r;var C=-1,_=!0,k=e&Du?new Ws:void 0;for(i.set(r,t),i.set(t,r);++C<l;){var E=r[C],T=t[C];if(n)var N=a?n(T,E,C,t,r,i):n(E,T,C,r,t,i);if(N!==void 0){if(N)continue;_=!1;break}if(k){if(!ju(t,function(M,D){if(!Pu(k,D)&&(E===M||s(E,M,e,n,i)))return k.push(D)})){_=!1;break}}else if(!(E===T||s(E,T,e,n,i))){_=!1;break}}return i.delete(r),i.delete(t),_}function Hu(r){var t=-1,e=Array(r.size);return r.forEach(function(n,s){e[++t]=[s,n]}),e}function Uu(r){var t=-1,e=Array(r.size);return r.forEach(function(n){e[++t]=n}),e}var zu=1,Vu=2,Fu="[object Boolean]",Zu="[object Date]",Wu="[object Error]",Ku="[object Map]",Gu="[object Number]",Yu="[object RegExp]",Xu="[object Set]",Qu="[object String]",Ju="[object Symbol]",th="[object ArrayBuffer]",eh="[object DataView]",$o=Us?Us.prototype:void 0,gi=$o?$o.valueOf:void 0;function nh(r,t,e,n,s,i,a){switch(e){case eh:if(r.byteLength!=t.byteLength||r.byteOffset!=t.byteOffset)return!1;r=r.buffer,t=t.buffer;case th:return!(r.byteLength!=t.byteLength||!i(new Eo(r),new Eo(t)));case Fu:case Zu:case Gu:return Dl(+r,+t);case Wu:return r.name==t.name&&r.message==t.message;case Yu:case Qu:return r==t+"";case Ku:var l=Hu;case Xu:var u=n&zu;if(l||(l=Uu),r.size!=t.size&&!u)return!1;var p=a.get(r);if(p)return p==t;n|=Vu,a.set(r,t);var v=Ra(l(r),l(t),n,s,i,a);return a.delete(r),v;case Ju:if(gi)return gi.call(r)==gi.call(t)}return!1}var rh=1,sh=Object.prototype,ih=sh.hasOwnProperty;function oh(r,t,e,n,s,i){var a=e&rh,l=Ii(r),u=l.length,p=Ii(t),v=p.length;if(u!=v&&!a)return!1;for(var C=u;C--;){var _=l[C];if(!(a?_ in t:ih.call(t,_)))return!1}var k=i.get(r),E=i.get(t);if(k&&E)return k==t&&E==r;var T=!0;i.set(r,t),i.set(t,r);for(var N=a;++C<u;){_=l[C];var M=r[_],D=t[_];if(n)var z=a?n(D,M,_,t,r,i):n(M,D,_,r,t,i);if(!(z===void 0?M===D||s(M,D,e,n,i):z)){T=!1;break}N||(N=_=="constructor")}if(T&&!N){var P=r.constructor,B=t.constructor;P!=B&&"constructor"in r&&"constructor"in t&&!(typeof P=="function"&&P instanceof P&&typeof B=="function"&&B instanceof B)&&(T=!1)}return i.delete(r),i.delete(t),T}var ah=1,Do="[object Arguments]",Ho="[object Array]",As="[object Object]",lh=Object.prototype,Uo=lh.hasOwnProperty;function ch(r,t,e,n,s,i){var a=Hs(r),l=Hs(t),u=a?Ho:Me(r),p=l?Ho:Me(t);u=u==Do?As:u,p=p==Do?As:p;var v=u==As,C=p==As,_=u==p;if(_&&Ni(r)){if(!Ni(t))return!1;a=!0,v=!1}if(_&&!v)return i||(i=new js),a||Hl(r)?Ra(r,t,e,n,s,i):nh(r,t,u,e,n,s,i);if(!(e&ah)){var k=v&&Uo.call(r,"__wrapped__"),E=C&&Uo.call(t,"__wrapped__");if(k||E){var T=k?r.value():r,N=E?t.value():t;return i||(i=new js),s(T,N,e,n,i)}}return _?(i||(i=new js),oh(r,t,e,n,s,i)):!1}function Ba(r,t,e,n,s){return r===t?!0:r==null||t==null||!zs(r)&&!zs(t)?r!==r&&t!==t:ch(r,t,e,n,Ba,s)}function no(r,t){return Ba(r,t)}const Or="aioseo-eeat",uh=r=>{const t=Sa();if(!t.tags.length)return[];const e=t.context[r];if(!e)return t.tags.filter(u=>!u.context||u.context.includes("all"));const n=[];let s=[];if(e.forEach(u=>{t.tags.filter(v=>v.id===u).forEach(v=>{if(v.context){if(!v.context.includes("all")&&!v.context.includes(r))return;n.push(v.id)}v&&!v.deprecated&&s.push({...v})})}),n.length){const u=[];s.forEach((p,v)=>{n.includes(p.id)&&!p.context&&u.push(v)});for(let p=u.length-1;0<=p;p--)s.splice(u[p],1)}const i=dn(),a=i.aioseo.postData.postTypes.find(u=>u.name+"Title"===r||u.name+"Description"===r||"breadcrumbs-post-type-"+u.name===r);if(a&&(s=s.map(u=>(u.name=u.name.replace("Post",a.singular),u.description=u.description.replace("page/post",a.singular.toLowerCase()),u)),a.name==="product")){const u=s.findIndex(p=>p.id==="post_excerpt");u!==-1&&(s[u].name=Ht("Product Short Description",Or),s[u].description=Ht("A short description for your product.",Or),s[u].value=Ht("Sample short description for your product.",Or))}const l=i.aioseo.postData.taxonomies.find(u=>u.name+"Title"===r||u.name+"Description"===r||"breadcrumbs-taxonomy-"+u.name===r);return l&&(s=s.map(u=>(u.name=u.name.replace("Category",l.singular),u))),(r==="dateTitle"||r==="dateDescription")&&(s=s.map(u=>(u.name=u.name.replace("Category",Ht("Archive",Or)),u.name=u.name.replace("Post",Ht("Archive",Or)),u.description=u.description.replace("page/post",Ht("archive",Or)),u))),s.sort((u,p)=>u.name<p.name?-1:u.name>p.name?1:0)},hh=(r,t,e)=>{switch(e){case"title":switch(r){case"taxonomies":return["taxonomy_title","separator_sa","site_title"];case"archives":switch(t){case"author":return["author_name","separator_sa","site_title"];case"search":return["search_term","separator_sa","site_title"];case"date":default:return["archive_title","separator_sa","site_title"]}default:return["post_title","separator_sa","site_title"]}case"description":switch(r){case"taxonomies":return["taxonomy_title","separator_sa","taxonomy_description"];case"attachment":return["attachment_caption","separator_sa","site_title"];case"archives":switch(t){case"author":return["author_name","separator_sa","site_title"];case"search":return["search_term","separator_sa","site_title"];case"date":default:return["archive_title","separator_sa","site_title"]}default:return t==="attachment"?["attachment_caption","separator_sa","site_title"]:t==="product"?["post_excerpt","post_content"]:["post_excerpt","post_content","separator_sa"]}}},Bi={context:uh,getDefaultTags:hh},dh=r=>{const{invalidClosingTags:t,invalidOpeningTags:e,tagNamePattern:n}=ja(r);let s=r;return t.forEach(i=>{s=`<${i.match(n)[1]}>`+s}),e.forEach(i=>{const a=i.match(n)[1];s=s+`</${a}>`}),s},fh=(r,t)=>{const{invalidClosingTags:e,invalidOpeningTags:n,tagNamePattern:s}=ja(r);return e.forEach(i=>{const a=i.match(s)[1],l=new RegExp(`^<${a}>`);t=t.replace(l,"")}),n.forEach(i=>{const a=i.match(s)[1],l=new RegExp(`<\\/${a}>$`);t=t.replace(l,"")}),t},ja=r=>{const t=new RegExp(/(<[^<>]*>)/),e=new RegExp(/<\s?\/[^<>]*>/),n=new RegExp(/<\s?\/?([^<\s>]*).*?>/,"s"),s=r.split(t),i=[];s.forEach(p=>{p.match(t)&&i.push(p)});const a=[];i.forEach((p,v)=>{if(!p)return;if(p.match(e)){a.push(p),i[v]="";return}const C=p.match(n)[1];let _=!1;i.forEach((k,E)=>{if(v===E||!k||_||!k.match(e))return;const T=k.match(n)[1];if(C===T){i[v]="",i[E]="",_=!0;return}a.push(p),i[v]=""})});const l=[],u=[];return a.forEach(p=>{if(p.match(t)){if(p.match(e)){u.push(p);return}l.push(p)}}),{invalidClosingTags:u,invalidOpeningTags:l,tagNamePattern:n}};var st=(r=>(r[r.TYPE=3]="TYPE",r[r.LEVEL=12]="LEVEL",r[r.ATTRIBUTE=13]="ATTRIBUTE",r[r.BLOT=14]="BLOT",r[r.INLINE=7]="INLINE",r[r.BLOCK=11]="BLOCK",r[r.BLOCK_BLOT=10]="BLOCK_BLOT",r[r.INLINE_BLOT=6]="INLINE_BLOT",r[r.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",r[r.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",r[r.ANY=15]="ANY",r))(st||{});class Ge{constructor(t,e,n={}){this.attrName=t,this.keyName=e;const s=st.TYPE&st.ATTRIBUTE;this.scope=n.scope!=null?n.scope&st.LEVEL|s:st.ATTRIBUTE,n.whitelist!=null&&(this.whitelist=n.whitelist)}static keys(t){return Array.from(t.attributes).map(e=>e.name)}add(t,e){return this.canAdd(t,e)?(t.setAttribute(this.keyName,e),!0):!1}canAdd(t,e){return this.whitelist==null?!0:typeof e=="string"?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1}remove(t){t.removeAttribute(this.keyName)}value(t){const e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""}}class Fr extends Error{constructor(t){t="[Parchment] "+t,super(t),this.message=t,this.name=this.constructor.name}}const Pa=class ji{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,e=!1){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(e){let n=null;try{n=t.parentNode}catch{return null}return this.find(n,e)}return null}create(t,e,n){const s=this.query(e);if(s==null)throw new Fr(`Unable to create ${e} blot`);const i=s,a=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:i.create(n),l=new i(t,a,n);return ji.blots.set(l.domNode,l),l}find(t,e=!1){return ji.find(t,e)}query(t,e=st.ANY){let n;return typeof t=="string"?n=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?n=this.types.text:typeof t=="number"?t&st.LEVEL&st.BLOCK?n=this.types.block:t&st.LEVEL&st.INLINE&&(n=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some(s=>(n=this.classes[s],!!n)),n=n||this.tags[t.tagName]),n==null?null:"scope"in n&&e&st.LEVEL&n.scope&&e&st.TYPE&n.scope?n:null}register(...t){return t.map(e=>{const n="blotName"in e,s="attrName"in e;if(!n&&!s)throw new Fr("Invalid definition");if(n&&e.blotName==="abstract")throw new Fr("Cannot register abstract class");const i=n?e.blotName:s?e.attrName:void 0;return this.types[i]=e,s?typeof e.keyName=="string"&&(this.attributes[e.keyName]=e):n&&(e.className&&(this.classes[e.className]=e),e.tagName&&(Array.isArray(e.tagName)?e.tagName=e.tagName.map(a=>a.toUpperCase()):e.tagName=e.tagName.toUpperCase(),(Array.isArray(e.tagName)?e.tagName:[e.tagName]).forEach(a=>{(this.tags[a]==null||e.className==null)&&(this.tags[a]=e)}))),e})}};Pa.blots=new WeakMap;let Gr=Pa;function zo(r,t){return(r.getAttribute("class")||"").split(/\s+/).filter(e=>e.indexOf(`${t}-`)===0)}class ph extends Ge{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map(e=>e.split("-").slice(0,-1).join("-"))}add(t,e){return this.canAdd(t,e)?(this.remove(t),t.classList.add(`${this.keyName}-${e}`),!0):!1}remove(t){zo(t,this.keyName).forEach(e=>{t.classList.remove(e)}),t.classList.length===0&&t.removeAttribute("class")}value(t){const e=(zo(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""}}const Re=ph;function bi(r){const t=r.split("-"),e=t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("");return t[0]+e}class mh extends Ge{static keys(t){return(t.getAttribute("style")||"").split(";").map(e=>e.split(":")[0].trim())}add(t,e){return this.canAdd(t,e)?(t.style[bi(this.keyName)]=e,!0):!1}remove(t){t.style[bi(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){const e=t.style[bi(this.keyName)];return this.canAdd(t,e)?e:""}}const Un=mh;class gh{constructor(t){this.attributes={},this.domNode=t,this.build()}attribute(t,e){e?t.add(this.domNode,e)&&(t.value(this.domNode)!=null?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};const t=Gr.find(this.domNode);if(t==null)return;const e=Ge.keys(this.domNode),n=Re.keys(this.domNode),s=Un.keys(this.domNode);e.concat(n).concat(s).forEach(i=>{const a=t.scroll.query(i,st.ATTRIBUTE);a instanceof Ge&&(this.attributes[a.attrName]=a)})}copy(t){Object.keys(this.attributes).forEach(e=>{const n=this.attributes[e].value(this.domNode);t.format(e,n)})}move(t){this.copy(t),Object.keys(this.attributes).forEach(e=>{this.attributes[e].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((t,e)=>(t[e]=this.attributes[e].value(this.domNode),t),{})}}const ni=gh,$a=class{constructor(t,e){this.scroll=t,this.domNode=e,Gr.blots.set(e,this),this.prev=null,this.next=null}static create(t){if(this.tagName==null)throw new Fr("Blot definition missing tagName");let e,n;return Array.isArray(this.tagName)?(typeof t=="string"?(n=t.toUpperCase(),parseInt(n,10).toString()===n&&(n=parseInt(n,10))):typeof t=="number"&&(n=t),typeof n=="number"?e=document.createElement(this.tagName[n-1]):n&&this.tagName.indexOf(n)>-1?e=document.createElement(n):e=document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e}get statics(){return this.constructor}attach(){}clone(){const t=this.domNode.cloneNode(!1);return this.scroll.create(t)}detach(){this.parent!=null&&this.parent.removeChild(this),Gr.blots.delete(this.domNode)}deleteAt(t,e){this.isolate(t,e).remove()}formatAt(t,e,n,s){const i=this.isolate(t,e);if(this.scroll.query(n,st.BLOT)!=null&&s)i.wrap(n,s);else if(this.scroll.query(n,st.ATTRIBUTE)!=null){const a=this.scroll.create(this.statics.scope);i.wrap(a),a.format(n,s)}}insertAt(t,e,n){const s=n==null?this.scroll.create("text",e):this.scroll.create(e,n),i=this.split(t);this.parent.insertBefore(s,i||void 0)}isolate(t,e){const n=this.split(t);if(n==null)throw new Error("Attempt to isolate at end");return n.split(e),n}length(){return 1}offset(t=this.parent){return this.parent==null||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,e){const n=typeof t=="string"?this.scroll.create(t,e):t;return this.parent!=null&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n}split(t,e){return t===0?this:this.next}update(t,e){}wrap(t,e){const n=typeof t=="string"?this.scroll.create(t,e):t;if(this.parent!=null&&this.parent.insertBefore(n,this.next||void 0),typeof n.appendChild!="function")throw new Fr(`Cannot wrap ${t}`);return n.appendChild(this),n}};$a.blotName="abstract";let Da=$a;const Ha=class extends Da{static value(t){return!0}index(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1}position(t,e){let n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};Ha.scope=st.INLINE_BLOT;let bh=Ha;const te=bh;class vh{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const e=t.slice(1);this.append(...e)}}at(t){const e=this.iterator();let n=e();for(;n&&t>0;)t-=1,n=e();return n}contains(t){const e=this.iterator();let n=e();for(;n;){if(n===t)return!0;n=e()}return!1}indexOf(t){const e=this.iterator();let n=e(),s=0;for(;n;){if(n===t)return s;s+=1,n=e()}return-1}insertBefore(t,e){t!=null&&(this.remove(t),t.next=e,e!=null?(t.prev=e.prev,e.prev!=null&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):this.tail!=null?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let e=0,n=this.head;for(;n!=null;){if(n===t)return e;e+=n.length(),n=n.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const e=t;return t!=null&&(t=t.next),e}}find(t,e=!1){const n=this.iterator();let s=n();for(;s;){const i=s.length();if(t<i||e&&t===i&&(s.next==null||s.next.length()!==0))return[s,t];t-=i,s=n()}return[null,0]}forEach(t){const e=this.iterator();let n=e();for(;n;)t(n),n=e()}forEachAt(t,e,n){if(e<=0)return;const[s,i]=this.find(t);let a=t-i;const l=this.iterator(s);let u=l();for(;u&&a<t+e;){const p=u.length();t>a?n(u,t-a,Math.min(e,a+p-t)):n(u,0,Math.min(p,t+e-a)),a+=p,u=l()}}map(t){return this.reduce((e,n)=>(e.push(t(n)),e),[])}reduce(t,e){const n=this.iterator();let s=n();for(;s;)e=t(e,s),s=n();return e}}function Vo(r,t){const e=t.find(r);if(e)return e;try{return t.create(r)}catch{const n=t.create(st.INLINE);return Array.from(r.childNodes).forEach(s=>{n.domNode.appendChild(s)}),r.parentNode&&r.parentNode.replaceChild(n.domNode,r),n.attach(),n}}const Ua=class Bn extends Da{constructor(t,e){super(t,e),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach(t=>{t.attach()})}attachUI(t){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=t,Bn.uiClass&&this.uiNode.classList.add(Bn.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new vh,Array.from(this.domNode.childNodes).filter(t=>t!==this.uiNode).reverse().forEach(t=>{try{const e=Vo(t,this.scroll);this.insertBefore(e,this.children.head||void 0)}catch(e){if(e instanceof Fr)return;throw e}})}deleteAt(t,e){if(t===0&&e===this.length())return this.remove();this.children.forEachAt(t,e,(n,s,i)=>{n.deleteAt(s,i)})}descendant(t,e=0){const[n,s]=this.children.find(e);return t.blotName==null&&t(n)||t.blotName!=null&&n instanceof t?[n,s]:n instanceof Bn?n.descendant(t,s):[null,-1]}descendants(t,e=0,n=Number.MAX_VALUE){let s=[],i=n;return this.children.forEachAt(e,n,(a,l,u)=>{(t.blotName==null&&t(a)||t.blotName!=null&&a instanceof t)&&s.push(a),a instanceof Bn&&(s=s.concat(a.descendants(t,l,i))),i-=u}),s}detach(){this.children.forEach(t=>{t.detach()}),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach(e=>{t||this.statics.allowedChildren.some(n=>e instanceof n)||(e.statics.scope===st.BLOCK_BLOT?(e.next!=null&&this.splitAfter(e),e.prev!=null&&this.splitAfter(e.prev),e.parent.unwrap(),t=!0):e instanceof Bn?e.unwrap():e.remove())})}formatAt(t,e,n,s){this.children.forEachAt(t,e,(i,a,l)=>{i.formatAt(a,l,n,s)})}insertAt(t,e,n){const[s,i]=this.children.find(t);if(s)s.insertAt(i,e,n);else{const a=n==null?this.scroll.create("text",e):this.scroll.create(e,n);this.appendChild(a)}}insertBefore(t,e){t.parent!=null&&t.parent.children.remove(t);let n=null;this.children.insertBefore(t,e||null),t.parent=this,e!=null&&(n=e.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==n)&&this.domNode.insertBefore(t.domNode,n),t.attach()}length(){return this.children.reduce((t,e)=>t+e.length(),0)}moveChildren(t,e){this.children.forEach(n=>{t.insertBefore(n,e)})}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const e=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(e)}else this.remove()}path(t,e=!1){const[n,s]=this.children.find(t,e),i=[[this,t]];return n instanceof Bn?i.concat(n.path(s,e)):(n!=null&&i.push([n,s]),i)}removeChild(t){this.children.remove(t)}replaceWith(t,e){const n=typeof t=="string"?this.scroll.create(t,e):t;return n instanceof Bn&&this.moveChildren(n),super.replaceWith(n)}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const n=this.clone();return this.parent&&this.parent.insertBefore(n,this.next||void 0),this.children.forEachAt(t,this.length(),(s,i,a)=>{const l=s.split(i,e);l!=null&&n.appendChild(l)}),n}splitAfter(t){const e=this.clone();for(;t.next!=null;)e.appendChild(t.next);return this.parent&&this.parent.insertBefore(e,this.next||void 0),e}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,e){const n=[],s=[];t.forEach(i=>{i.target===this.domNode&&i.type==="childList"&&(n.push(...i.addedNodes),s.push(...i.removedNodes))}),s.forEach(i=>{if(i.parentNode!=null&&i.tagName!=="IFRAME"&&document.body.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const a=this.scroll.find(i);a!=null&&(a.domNode.parentNode==null||a.domNode.parentNode===this.domNode)&&a.detach()}),n.filter(i=>i.parentNode===this.domNode&&i!==this.uiNode).sort((i,a)=>i===a?0:i.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(i=>{let a=null;i.nextSibling!=null&&(a=this.scroll.find(i.nextSibling));const l=Vo(i,this.scroll);(l.next!==a||l.next==null)&&(l.parent!=null&&l.parent.removeChild(this),this.insertBefore(l,a||void 0))}),this.enforceAllowedChildren()}};Ua.uiClass="";let yh=Ua;const Oe=yh;function _h(r,t){if(Object.keys(r).length!==Object.keys(t).length)return!1;for(const e in r)if(r[e]!==t[e])return!1;return!0}const jr=class Pr extends Oe{static create(t){return super.create(t)}static formats(t,e){const n=e.query(Pr.blotName);if(!(n!=null&&t.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new ni(this.domNode)}format(t,e){if(t===this.statics.blotName&&!e)this.children.forEach(n=>{n instanceof Pr||(n=n.wrap(Pr.blotName,!0)),this.attributes.copy(n)}),this.unwrap();else{const n=this.scroll.query(t,st.INLINE);if(n==null)return;n instanceof Ge?this.attributes.attribute(n,e):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e)}}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,n,s){this.formats()[n]!=null||this.scroll.query(n,st.ATTRIBUTE)?this.isolate(t,e).format(n,s):super.formatAt(t,e,n,s)}optimize(t){super.optimize(t);const e=this.formats();if(Object.keys(e).length===0)return this.unwrap();const n=this.next;n instanceof Pr&&n.prev===this&&_h(e,n.formats())&&(n.moveChildren(this),n.remove())}replaceWith(t,e){const n=super.replaceWith(t,e);return this.attributes.copy(n),n}update(t,e){super.update(t,e),t.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}wrap(t,e){const n=super.wrap(t,e);return n instanceof Pr&&this.attributes.move(n),n}};jr.allowedChildren=[jr,te],jr.blotName="inline",jr.scope=st.INLINE_BLOT,jr.tagName="SPAN";let wh=jr;const ro=wh,$r=class Pi extends Oe{static create(t){return super.create(t)}static formats(t,e){const n=e.query(Pi.blotName);if(!(n!=null&&t.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new ni(this.domNode)}format(t,e){const n=this.scroll.query(t,st.BLOCK);n!=null&&(n instanceof Ge?this.attributes.attribute(n,e):t===this.statics.blotName&&!e?this.replaceWith(Pi.blotName):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e))}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,n,s){this.scroll.query(n,st.BLOCK)!=null?this.format(n,s):super.formatAt(t,e,n,s)}insertAt(t,e,n){if(n==null||this.scroll.query(e,st.INLINE)!=null)super.insertAt(t,e,n);else{const s=this.split(t);if(s!=null){const i=this.scroll.create(e,n);s.parent.insertBefore(i,s)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(t,e){const n=super.replaceWith(t,e);return this.attributes.copy(n),n}update(t,e){super.update(t,e),t.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}};$r.blotName="block",$r.scope=st.BLOCK_BLOT,$r.tagName="P",$r.allowedChildren=[ro,$r,te];let Ch=$r;const bs=Ch,$i=class extends Oe{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,e){super.deleteAt(t,e),this.enforceAllowedChildren()}formatAt(t,e,n,s){super.formatAt(t,e,n,s),this.enforceAllowedChildren()}insertAt(t,e,n){super.insertAt(t,e,n),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};$i.blotName="container",$i.scope=st.BLOCK_BLOT;let xh=$i;const ri=xh;class kh extends te{static formats(t,e){}format(t,e){super.formatAt(0,this.length(),t,e)}formatAt(t,e,n,s){t===0&&e===this.length()?this.format(n,s):super.formatAt(t,e,n,s)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const pe=kh,Eh={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},Sh=100,Dr=class extends Oe{constructor(t,e){super(null,e),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver(n=>{this.update(n)}),this.observer.observe(this.domNode,Eh),this.attach()}create(t,e){return this.registry.create(this,t,e)}find(t,e=!1){const n=this.registry.find(t,e);return n?n.scroll===this?n:e?this.find(n.scroll.domNode.parentNode,!0):null:null}query(t,e=st.ANY){return this.registry.query(t,e)}register(...t){return this.registry.register(...t)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,e){this.update(),t===0&&e===this.length()?this.children.forEach(n=>{n.remove()}):super.deleteAt(t,e)}formatAt(t,e,n,s){this.update(),super.formatAt(t,e,n,s)}insertAt(t,e,n){this.update(),super.insertAt(t,e,n)}optimize(t=[],e={}){super.optimize(e);const n=e.mutationsMap||new WeakMap;let s=Array.from(this.observer.takeRecords());for(;s.length>0;)t.push(s.pop());const i=(u,p=!0)=>{u==null||u===this||u.domNode.parentNode!=null&&(n.has(u.domNode)||n.set(u.domNode,[]),p&&i(u.parent))},a=u=>{n.has(u.domNode)&&(u instanceof Oe&&u.children.forEach(a),n.delete(u.domNode),u.optimize(e))};let l=t;for(let u=0;l.length>0;u+=1){if(u>=Sh)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach(p=>{const v=this.find(p.target,!0);v!=null&&(v.domNode===p.target&&(p.type==="childList"?(i(this.find(p.previousSibling,!1)),Array.from(p.addedNodes).forEach(C=>{const _=this.find(C,!1);i(_,!1),_ instanceof Oe&&_.children.forEach(k=>{i(k,!1)})})):p.type==="attributes"&&i(v.prev)),i(v))}),this.children.forEach(a),l=Array.from(this.observer.takeRecords()),s=l.slice();s.length>0;)t.push(s.pop())}}update(t,e={}){t=t||this.observer.takeRecords();const n=new WeakMap;t.map(s=>{const i=this.find(s.target,!0);return i==null?null:n.has(i.domNode)?(n.get(i.domNode).push(s),null):(n.set(i.domNode,[s]),i)}).forEach(s=>{s!=null&&s!==this&&n.has(s.domNode)&&s.update(n.get(s.domNode)||[],e)}),e.mutationsMap=n,n.has(this.domNode)&&super.update(n.get(this.domNode),e),this.optimize(t,e)}};Dr.blotName="scroll",Dr.defaultChild=bs,Dr.allowedChildren=[bs,ri],Dr.scope=st.BLOCK_BLOT,Dr.tagName="DIV";let Th=Dr;const so=Th,Di=class za extends te{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,e){super(t,e),this.text=this.statics.value(this.domNode)}deleteAt(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)}index(t,e){return this.domNode===t?e:-1}insertAt(t,e,n){n==null?(this.text=this.text.slice(0,t)+e+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,e,n)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof za&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,e=!1){return[this.domNode,t]}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const n=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next||void 0),this.text=this.statics.value(this.domNode),n}update(t,e){t.some(n=>n.type==="characterData"&&n.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Di.blotName="text",Di.scope=st.INLINE_BLOT;let Ah=Di;const Ks=Ah,Lh=Object.freeze(Object.defineProperty({__proto__:null,Attributor:Ge,AttributorStore:ni,BlockBlot:bs,ClassAttributor:Re,ContainerBlot:ri,EmbedBlot:pe,InlineBlot:ro,LeafBlot:te,ParentBlot:Oe,Registry:Gr,Scope:st,ScrollBlot:so,StyleAttributor:Un,TextBlot:Ks},Symbol.toStringTag,{value:"Module"}));var Hi={exports:{}},fe=-1,ie=1,Ut=0;function vs(r,t,e,n,s){if(r===t)return r?[[Ut,r]]:[];if(e!=null){var i=Ph(r,t,e);if(i)return i}var a=io(r,t),l=r.substring(0,a);r=r.substring(a),t=t.substring(a),a=si(r,t);var u=r.substring(r.length-a);r=r.substring(0,r.length-a),t=t.substring(0,t.length-a);var p=Nh(r,t);return l&&p.unshift([Ut,l]),u&&p.push([Ut,u]),oo(p,s),n&&Oh(p),p}function Nh(r,t){var e;if(!r)return[[ie,t]];if(!t)return[[fe,r]];var n=r.length>t.length?r:t,s=r.length>t.length?t:r,i=n.indexOf(s);if(i!==-1)return e=[[ie,n.substring(0,i)],[Ut,s],[ie,n.substring(i+s.length)]],r.length>t.length&&(e[0][0]=e[2][0]=fe),e;if(s.length===1)return[[fe,r],[ie,t]];var a=Ih(r,t);if(a){var l=a[0],u=a[1],p=a[2],v=a[3],C=a[4],_=vs(l,p),k=vs(u,v);return _.concat([[Ut,C]],k)}return Mh(r,t)}function Mh(r,t){for(var e=r.length,n=t.length,s=Math.ceil((e+n)/2),i=s,a=2*s,l=new Array(a),u=new Array(a),p=0;p<a;p++)l[p]=-1,u[p]=-1;l[i+1]=0,u[i+1]=0;for(var v=e-n,C=v%2!==0,_=0,k=0,E=0,T=0,N=0;N<s;N++){for(var M=-N+_;M<=N-k;M+=2){var D=i+M,z;M===-N||M!==N&&l[D-1]<l[D+1]?z=l[D+1]:z=l[D-1]+1;for(var P=z-M;z<e&&P<n&&r.charAt(z)===t.charAt(P);)z++,P++;if(l[D]=z,z>e)k+=2;else if(P>n)_+=2;else if(C){var B=i+v-M;if(B>=0&&B<a&&u[B]!==-1){var V=e-u[B];if(z>=V)return Fo(r,t,z,P)}}}for(var G=-N+E;G<=N-T;G+=2){var B=i+G,V;G===-N||G!==N&&u[B-1]<u[B+1]?V=u[B+1]:V=u[B-1]+1;for(var mt=V-G;V<e&&mt<n&&r.charAt(e-V-1)===t.charAt(n-mt-1);)V++,mt++;if(u[B]=V,V>e)T+=2;else if(mt>n)E+=2;else if(!C){var D=i+v-G;if(D>=0&&D<a&&l[D]!==-1){var z=l[D],P=i+z-D;if(V=e-V,z>=V)return Fo(r,t,z,P)}}}}return[[fe,r],[ie,t]]}function Fo(r,t,e,n){var s=r.substring(0,e),i=t.substring(0,n),a=r.substring(e),l=t.substring(n),u=vs(s,i),p=vs(a,l);return u.concat(p)}function io(r,t){if(!r||!t||r.charAt(0)!==t.charAt(0))return 0;for(var e=0,n=Math.min(r.length,t.length),s=n,i=0;e<s;)r.substring(i,s)==t.substring(i,s)?(e=s,i=e):n=s,s=Math.floor((n-e)/2+e);return Va(r.charCodeAt(s-1))&&s--,s}function Zo(r,t){var e=r.length,n=t.length;if(e==0||n==0)return 0;e>n?r=r.substring(e-n):e<n&&(t=t.substring(0,e));var s=Math.min(e,n);if(r==t)return s;for(var i=0,a=1;;){var l=r.substring(s-a),u=t.indexOf(l);if(u==-1)return i;a+=u,(u==0||r.substring(s-a)==t.substring(0,a))&&(i=a,a++)}}function si(r,t){if(!r||!t||r.slice(-1)!==t.slice(-1))return 0;for(var e=0,n=Math.min(r.length,t.length),s=n,i=0;e<s;)r.substring(r.length-s,r.length-i)==t.substring(t.length-s,t.length-i)?(e=s,i=e):n=s,s=Math.floor((n-e)/2+e);return Fa(r.charCodeAt(r.length-s))&&s--,s}function Ih(r,t){var e=r.length>t.length?r:t,n=r.length>t.length?t:r;if(e.length<4||n.length*2<e.length)return null;function s(k,E,T){for(var N=k.substring(T,T+Math.floor(k.length/4)),M=-1,D="",z,P,B,V;(M=E.indexOf(N,M+1))!==-1;){var G=io(k.substring(T),E.substring(M)),mt=si(k.substring(0,T),E.substring(0,M));D.length<mt+G&&(D=E.substring(M-mt,M)+E.substring(M,M+G),z=k.substring(0,T-mt),P=k.substring(T+G),B=E.substring(0,M-mt),V=E.substring(M+G))}return D.length*2>=k.length?[z,P,B,V,D]:null}var i=s(e,n,Math.ceil(e.length/4)),a=s(e,n,Math.ceil(e.length/2)),l;if(!i&&!a)return null;a?i?l=i[4].length>a[4].length?i:a:l=a:l=i;var u,p,v,C;r.length>t.length?(u=l[0],p=l[1],v=l[2],C=l[3]):(v=l[0],C=l[1],u=l[2],p=l[3]);var _=l[4];return[u,p,v,C,_]}function Oh(r){for(var t=!1,e=[],n=0,s=null,i=0,a=0,l=0,u=0,p=0;i<r.length;)r[i][0]==Ut?(e[n++]=i,a=u,l=p,u=0,p=0,s=r[i][1]):(r[i][0]==ie?u+=r[i][1].length:p+=r[i][1].length,s&&s.length<=Math.max(a,l)&&s.length<=Math.max(u,p)&&(r.splice(e[n-1],0,[fe,s]),r[e[n-1]+1][0]=ie,n--,n--,i=n>0?e[n-1]:-1,a=0,l=0,u=0,p=0,s=null,t=!0)),i++;for(t&&oo(r),Bh(r),i=1;i<r.length;){if(r[i-1][0]==fe&&r[i][0]==ie){var v=r[i-1][1],C=r[i][1],_=Zo(v,C),k=Zo(C,v);_>=k?(_>=v.length/2||_>=C.length/2)&&(r.splice(i,0,[Ut,C.substring(0,_)]),r[i-1][1]=v.substring(0,v.length-_),r[i+1][1]=C.substring(_),i++):(k>=v.length/2||k>=C.length/2)&&(r.splice(i,0,[Ut,v.substring(0,k)]),r[i-1][0]=ie,r[i-1][1]=C.substring(0,C.length-k),r[i+1][0]=fe,r[i+1][1]=v.substring(k),i++),i++}i++}}var Wo=/[^a-zA-Z0-9]/,Ko=/\s/,Go=/[\r\n]/,qh=/\n\r?\n$/,Rh=/^\r?\n\r?\n/;function Bh(r){function t(k,E){if(!k||!E)return 6;var T=k.charAt(k.length-1),N=E.charAt(0),M=T.match(Wo),D=N.match(Wo),z=M&&T.match(Ko),P=D&&N.match(Ko),B=z&&T.match(Go),V=P&&N.match(Go),G=B&&k.match(qh),mt=V&&E.match(Rh);return G||mt?5:B||V?4:M&&!z&&P?3:z||P?2:M||D?1:0}for(var e=1;e<r.length-1;){if(r[e-1][0]==Ut&&r[e+1][0]==Ut){var n=r[e-1][1],s=r[e][1],i=r[e+1][1],a=si(n,s);if(a){var l=s.substring(s.length-a);n=n.substring(0,n.length-a),s=l+s.substring(0,s.length-a),i=l+i}for(var u=n,p=s,v=i,C=t(n,s)+t(s,i);s.charAt(0)===i.charAt(0);){n+=s.charAt(0),s=s.substring(1)+i.charAt(0),i=i.substring(1);var _=t(n,s)+t(s,i);_>=C&&(C=_,u=n,p=s,v=i)}r[e-1][1]!=u&&(u?r[e-1][1]=u:(r.splice(e-1,1),e--),r[e][1]=p,v?r[e+1][1]=v:(r.splice(e+1,1),e--))}e++}}function oo(r,t){r.push([Ut,""]);for(var e=0,n=0,s=0,i="",a="",l;e<r.length;){if(e<r.length-1&&!r[e][1]){r.splice(e,1);continue}switch(r[e][0]){case ie:s++,a+=r[e][1],e++;break;case fe:n++,i+=r[e][1],e++;break;case Ut:var u=e-s-n-1;if(t){if(u>=0&&Wa(r[u][1])){var p=r[u][1].slice(-1);if(r[u][1]=r[u][1].slice(0,-1),i=p+i,a=p+a,!r[u][1]){r.splice(u,1),e--;var v=u-1;r[v]&&r[v][0]===ie&&(s++,a=r[v][1]+a,v--),r[v]&&r[v][0]===fe&&(n++,i=r[v][1]+i,v--),u=v}}if(Za(r[e][1])){var p=r[e][1].charAt(0);r[e][1]=r[e][1].slice(1),i+=p,a+=p}}if(e<r.length-1&&!r[e][1]){r.splice(e,1);break}if(i.length>0||a.length>0){i.length>0&&a.length>0&&(l=io(a,i),l!==0&&(u>=0?r[u][1]+=a.substring(0,l):(r.splice(0,0,[Ut,a.substring(0,l)]),e++),a=a.substring(l),i=i.substring(l)),l=si(a,i),l!==0&&(r[e][1]=a.substring(a.length-l)+r[e][1],a=a.substring(0,a.length-l),i=i.substring(0,i.length-l)));var C=s+n;i.length===0&&a.length===0?(r.splice(e-C,C),e=e-C):i.length===0?(r.splice(e-C,C,[ie,a]),e=e-C+1):a.length===0?(r.splice(e-C,C,[fe,i]),e=e-C+1):(r.splice(e-C,C,[fe,i],[ie,a]),e=e-C+2)}e!==0&&r[e-1][0]===Ut?(r[e-1][1]+=r[e][1],r.splice(e,1)):e++,s=0,n=0,i="",a="";break}}r[r.length-1][1]===""&&r.pop();var _=!1;for(e=1;e<r.length-1;)r[e-1][0]===Ut&&r[e+1][0]===Ut&&(r[e][1].substring(r[e][1].length-r[e-1][1].length)===r[e-1][1]?(r[e][1]=r[e-1][1]+r[e][1].substring(0,r[e][1].length-r[e-1][1].length),r[e+1][1]=r[e-1][1]+r[e+1][1],r.splice(e-1,1),_=!0):r[e][1].substring(0,r[e+1][1].length)==r[e+1][1]&&(r[e-1][1]+=r[e+1][1],r[e][1]=r[e][1].substring(r[e+1][1].length)+r[e+1][1],r.splice(e+1,1),_=!0)),e++;_&&oo(r,t)}function Va(r){return r>=55296&&r<=56319}function Fa(r){return r>=56320&&r<=57343}function Za(r){return Fa(r.charCodeAt(0))}function Wa(r){return Va(r.charCodeAt(r.length-1))}function jh(r){for(var t=[],e=0;e<r.length;e++)r[e][1].length>0&&t.push(r[e]);return t}function vi(r,t,e,n){return Wa(r)||Za(n)?null:jh([[Ut,r],[fe,t],[ie,e],[Ut,n]])}function Ph(r,t,e){var n=typeof e=="number"?{index:e,length:0}:e.oldRange,s=typeof e=="number"?null:e.newRange,i=r.length,a=t.length;if(n.length===0&&(s===null||s.length===0)){var l=n.index,u=r.slice(0,l),p=r.slice(l),v=s?s.index:null;t:{var C=l+a-i;if(v!==null&&v!==C||C<0||C>a)break t;var _=t.slice(0,C),k=t.slice(C);if(k!==p)break t;var E=Math.min(l,C),T=u.slice(0,E),N=_.slice(0,E);if(T!==N)break t;var M=u.slice(E),D=_.slice(E);return vi(T,M,D,p)}t:{if(v!==null&&v!==l)break t;var z=l,_=t.slice(0,z),k=t.slice(z);if(_!==u)break t;var P=Math.min(i-z,a-z),B=p.slice(p.length-P),V=k.slice(k.length-P);if(B!==V)break t;var M=p.slice(0,p.length-P),D=k.slice(0,k.length-P);return vi(u,M,D,B)}}if(n.length>0&&s&&s.length===0)t:{var T=r.slice(0,n.index),B=r.slice(n.index+n.length),E=T.length,P=B.length;if(a<E+P)break t;var N=t.slice(0,E),V=t.slice(a-P);if(T!==N||B!==V)break t;var M=r.slice(E,i-P),D=t.slice(E,a-P);return vi(T,M,D,B)}return null}function ii(r,t,e,n){return vs(r,t,e,n,!0)}ii.INSERT=ie;ii.DELETE=fe;ii.EQUAL=Ut;var $h=ii,Gs={exports:{}};Gs.exports;(function(r,t){var e=200,n="__lodash_hash_undefined__",s=9007199254740991,i="[object Arguments]",a="[object Array]",l="[object Boolean]",u="[object Date]",p="[object Error]",v="[object Function]",C="[object GeneratorFunction]",_="[object Map]",k="[object Number]",E="[object Object]",T="[object Promise]",N="[object RegExp]",M="[object Set]",D="[object String]",z="[object Symbol]",P="[object WeakMap]",B="[object ArrayBuffer]",V="[object DataView]",G="[object Float32Array]",mt="[object Float64Array]",Tt="[object Int8Array]",Pt="[object Int16Array]",me="[object Int32Array]",zt="[object Uint8Array]",kt="[object Uint8ClampedArray]",Pe="[object Uint16Array]",Ye="[object Uint32Array]",it=/[\\^$.*+?()[\]{}|]/g,or=/\w*$/,Xe=/^\[object .+?Constructor\]$/,ar=/^(?:0|[1-9]\d*)$/,Ct={};Ct[i]=Ct[a]=Ct[B]=Ct[V]=Ct[l]=Ct[u]=Ct[G]=Ct[mt]=Ct[Tt]=Ct[Pt]=Ct[me]=Ct[_]=Ct[k]=Ct[E]=Ct[N]=Ct[M]=Ct[D]=Ct[z]=Ct[zt]=Ct[kt]=Ct[Pe]=Ct[Ye]=!0,Ct[p]=Ct[v]=Ct[P]=!1;var gn=typeof Pn=="object"&&Pn&&Pn.Object===Object&&Pn,lr=typeof self=="object"&&self&&self.Object===Object&&self,ae=gn||lr||Function("return this")(),le=t&&!t.nodeType&&t,xt=le&&!0&&r&&!r.nodeType&&r,bn=xt&&xt.exports===le;function vn(o,h){return o.set(h[0],h[1]),o}function Vt(o,h){return o.add(h),o}function ne(o,h){for(var b=-1,x=o?o.length:0;++b<x&&h(o[b],b,o)!==!1;);return o}function ke(o,h){for(var b=-1,x=h.length,j=o.length;++b<x;)o[j+b]=h[b];return o}function yn(o,h,b,x){for(var j=-1,q=o?o.length:0;++j<q;)b=h(b,o[j],j,o);return b}function _n(o,h){for(var b=-1,x=Array(o);++b<o;)x[b]=h(b);return x}function Qe(o,h){return o==null?void 0:o[h]}function wn(o){var h=!1;if(o!=null&&typeof o.toString!="function")try{h=!!(o+"")}catch{}return h}function Vn(o){var h=-1,b=Array(o.size);return o.forEach(function(x,j){b[++h]=[j,x]}),b}function $e(o,h){return function(b){return o(h(b))}}function Fn(o){var h=-1,b=Array(o.size);return o.forEach(function(x){b[++h]=x}),b}var cr=Array.prototype,Cn=Function.prototype,Je=Object.prototype,xn=ae["__core-js_shared__"],kn=function(){var o=/[^.]+$/.exec(xn&&xn.keys&&xn.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),Zn=Cn.toString,ce=Je.hasOwnProperty,tn=Je.toString,ts=RegExp("^"+Zn.call(ce).replace(it,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),De=bn?ae.Buffer:void 0,En=ae.Symbol,R=ae.Uint8Array,Rt=$e(Object.getPrototypeOf,Object),Sn=Object.create,ur=Je.propertyIsEnumerable,hr=cr.splice,Wn=Object.getOwnPropertySymbols,en=De?De.isBuffer:void 0,Tn=$e(Object.keys,Object),It=he(ae,"DataView"),He=he(ae,"Map"),re=he(ae,"Promise"),Gt=he(ae,"Set"),Ot=he(ae,"WeakMap"),ut=he(Object,"create"),nn=Zt(It),Ue=Zt(He),An=Zt(re),rn=Zt(Gt),Ln=Zt(Ot),Ee=En?En.prototype:void 0,ze=Ee?Ee.valueOf:void 0;function Se(o){var h=-1,b=o?o.length:0;for(this.clear();++h<b;){var x=o[h];this.set(x[0],x[1])}}function dr(){this.__data__=ut?ut(null):{}}function fr(o){return this.has(o)&&delete this.__data__[o]}function pr(o){var h=this.__data__;if(ut){var b=h[o];return b===n?void 0:b}return ce.call(h,o)?h[o]:void 0}function Nn(o){var h=this.__data__;return ut?h[o]!==void 0:ce.call(h,o)}function sn(o,h){var b=this.__data__;return b[o]=ut&&h===void 0?n:h,this}Se.prototype.clear=dr,Se.prototype.delete=fr,Se.prototype.get=pr,Se.prototype.has=Nn,Se.prototype.set=sn;function At(o){var h=-1,b=o?o.length:0;for(this.clear();++h<b;){var x=o[h];this.set(x[0],x[1])}}function mr(){this.__data__=[]}function es(o){var h=this.__data__,b=an(h,o);if(b<0)return!1;var x=h.length-1;return b==x?h.pop():hr.call(h,b,1),!0}function Kn(o){var h=this.__data__,b=an(h,o);return b<0?void 0:h[b][1]}function gr(o){return an(this.__data__,o)>-1}function ns(o,h){var b=this.__data__,x=an(b,o);return x<0?b.push([o,h]):b[x][1]=h,this}At.prototype.clear=mr,At.prototype.delete=es,At.prototype.get=Kn,At.prototype.has=gr,At.prototype.set=ns;function Dt(o){var h=-1,b=o?o.length:0;for(this.clear();++h<b;){var x=o[h];this.set(x[0],x[1])}}function Mn(){this.__data__={hash:new Se,map:new(He||At),string:new Se}}function Gn(o){return cn(this,o).delete(o)}function rs(o){return cn(this,o).get(o)}function br(o){return cn(this,o).has(o)}function ss(o,h){return cn(this,o).set(o,h),this}Dt.prototype.clear=Mn,Dt.prototype.delete=Gn,Dt.prototype.get=rs,Dt.prototype.has=br,Dt.prototype.set=ss;function Ft(o){this.__data__=new At(o)}function vr(){this.__data__=new At}function yr(o){return this.__data__.delete(o)}function is(o){return this.__data__.get(o)}function _r(o){return this.__data__.has(o)}function Yn(o,h){var b=this.__data__;if(b instanceof At){var x=b.__data__;if(!He||x.length<e-1)return x.push([o,h]),this;b=this.__data__=new Dt(x)}return b.set(o,h),this}Ft.prototype.clear=vr,Ft.prototype.delete=yr,Ft.prototype.get=is,Ft.prototype.has=_r,Ft.prototype.set=Yn;function on(o,h){var b=Rn(o)||We(o)?_n(o.length,String):[],x=b.length,j=!!x;for(var q in o)ce.call(o,q)&&!(j&&(q=="length"||Ar(q,x)))&&b.push(q);return b}function In(o,h,b){var x=o[h];(!(ce.call(o,h)&&Mr(x,b))||b===void 0&&!(h in o))&&(o[h]=b)}function an(o,h){for(var b=o.length;b--;)if(Mr(o[b][0],h))return b;return-1}function ue(o,h){return o&&Ze(h,S(h),o)}function On(o,h,b,x,j,q,U){var Z;if(x&&(Z=q?x(o,j,q,U):x(o)),Z!==void 0)return Z;if(!y(o))return o;var Y=Rn(o);if(Y){if(Z=cs(o),!h)return Er(o,Z)}else{var tt=Te(o),X=tt==v||tt==C;if(g(o))return Ve(o,h);if(tt==E||tt==i||X&&!q){if(wn(o))return q?o:{};if(Z=be(X?{}:o),!h)return Sr(o,ue(Z,o))}else{if(!Ct[tt])return q?o:{};Z=Tr(o,tt,On,h)}}U||(U=new Ft);var K=U.get(o);if(K)return K;if(U.set(o,Z),!Y)var at=b?ls(o):S(o);return ne(at||o,function(F,ht){at&&(ht=F,F=o[ht]),In(Z,ht,On(F,h,b,x,ht,o,U))}),Z}function wr(o){return y(o)?Sn(o):{}}function Cr(o,h,b){var x=h(o);return Rn(o)?x:ke(x,b(o))}function os(o){return tn.call(o)}function xr(o){if(!y(o)||us(o))return!1;var h=f(o)||wn(o)?ts:Xe;return h.test(Zt(o))}function qn(o){if(!Nr(o))return Tn(o);var h=[];for(var b in Object(o))ce.call(o,b)&&b!="constructor"&&h.push(b);return h}function Ve(o,h){if(h)return o.slice();var b=new o.constructor(o.length);return o.copy(b),b}function Xn(o){var h=new o.constructor(o.byteLength);return new R(h).set(new R(o)),h}function Fe(o,h){var b=h?Xn(o.buffer):o.buffer;return new o.constructor(b,o.byteOffset,o.byteLength)}function ln(o,h,b){var x=h?b(Vn(o),!0):Vn(o);return yn(x,vn,new o.constructor)}function Qn(o){var h=new o.constructor(o.source,or.exec(o));return h.lastIndex=o.lastIndex,h}function as(o,h,b){var x=h?b(Fn(o),!0):Fn(o);return yn(x,Vt,new o.constructor)}function kr(o){return ze?Object(ze.call(o)):{}}function Jn(o,h){var b=h?Xn(o.buffer):o.buffer;return new o.constructor(b,o.byteOffset,o.length)}function Er(o,h){var b=-1,x=o.length;for(h||(h=Array(x));++b<x;)h[b]=o[b];return h}function Ze(o,h,b,x){b||(b={});for(var j=-1,q=h.length;++j<q;){var U=h[j],Z=void 0;In(b,U,Z===void 0?o[U]:Z)}return b}function Sr(o,h){return Ze(o,ge(o),h)}function ls(o){return Cr(o,S,ge)}function cn(o,h){var b=o.__data__;return Lr(h)?b[typeof h=="string"?"string":"hash"]:b.map}function he(o,h){var b=Qe(o,h);return xr(b)?b:void 0}var ge=Wn?$e(Wn,Object):L,Te=os;(It&&Te(new It(new ArrayBuffer(1)))!=V||He&&Te(new He)!=_||re&&Te(re.resolve())!=T||Gt&&Te(new Gt)!=M||Ot&&Te(new Ot)!=P)&&(Te=function(o){var h=tn.call(o),b=h==E?o.constructor:void 0,x=b?Zt(b):void 0;if(x)switch(x){case nn:return V;case Ue:return _;case An:return T;case rn:return M;case Ln:return P}return h});function cs(o){var h=o.length,b=o.constructor(h);return h&&typeof o[0]=="string"&&ce.call(o,"index")&&(b.index=o.index,b.input=o.input),b}function be(o){return typeof o.constructor=="function"&&!Nr(o)?wr(Rt(o)):{}}function Tr(o,h,b,x){var j=o.constructor;switch(h){case B:return Xn(o);case l:case u:return new j(+o);case V:return Fe(o,x);case G:case mt:case Tt:case Pt:case me:case zt:case kt:case Pe:case Ye:return Jn(o,x);case _:return ln(o,x,b);case k:case D:return new j(o);case N:return Qn(o);case M:return as(o,x,b);case z:return kr(o)}}function Ar(o,h){return h=h??s,!!h&&(typeof o=="number"||ar.test(o))&&o>-1&&o%1==0&&o<h}function Lr(o){var h=typeof o;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?o!=="__proto__":o===null}function us(o){return!!kn&&kn in o}function Nr(o){var h=o&&o.constructor,b=typeof h=="function"&&h.prototype||Je;return o===b}function Zt(o){if(o!=null){try{return Zn.call(o)}catch{}try{return o+""}catch{}}return""}function un(o){return On(o,!0,!0)}function Mr(o,h){return o===h||o!==o&&h!==h}function We(o){return d(o)&&ce.call(o,"callee")&&(!ur.call(o,"callee")||tn.call(o)==i)}var Rn=Array.isArray;function c(o){return o!=null&&m(o.length)&&!f(o)}function d(o){return w(o)&&c(o)}var g=en||I;function f(o){var h=y(o)?tn.call(o):"";return h==v||h==C}function m(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=s}function y(o){var h=typeof o;return!!o&&(h=="object"||h=="function")}function w(o){return!!o&&typeof o=="object"}function S(o){return c(o)?on(o):qn(o)}function L(){return[]}function I(){return!1}r.exports=un})(Gs,Gs.exports);var Ka=Gs.exports,Ys={exports:{}};Ys.exports;(function(r,t){var e=200,n="__lodash_hash_undefined__",s=1,i=2,a=9007199254740991,l="[object Arguments]",u="[object Array]",p="[object AsyncFunction]",v="[object Boolean]",C="[object Date]",_="[object Error]",k="[object Function]",E="[object GeneratorFunction]",T="[object Map]",N="[object Number]",M="[object Null]",D="[object Object]",z="[object Promise]",P="[object Proxy]",B="[object RegExp]",V="[object Set]",G="[object String]",mt="[object Symbol]",Tt="[object Undefined]",Pt="[object WeakMap]",me="[object ArrayBuffer]",zt="[object DataView]",kt="[object Float32Array]",Pe="[object Float64Array]",Ye="[object Int8Array]",it="[object Int16Array]",or="[object Int32Array]",Xe="[object Uint8Array]",ar="[object Uint8ClampedArray]",Ct="[object Uint16Array]",gn="[object Uint32Array]",lr=/[\\^$.*+?()[\]{}|]/g,ae=/^\[object .+?Constructor\]$/,le=/^(?:0|[1-9]\d*)$/,xt={};xt[kt]=xt[Pe]=xt[Ye]=xt[it]=xt[or]=xt[Xe]=xt[ar]=xt[Ct]=xt[gn]=!0,xt[l]=xt[u]=xt[me]=xt[v]=xt[zt]=xt[C]=xt[_]=xt[k]=xt[T]=xt[N]=xt[D]=xt[B]=xt[V]=xt[G]=xt[Pt]=!1;var bn=typeof Pn=="object"&&Pn&&Pn.Object===Object&&Pn,vn=typeof self=="object"&&self&&self.Object===Object&&self,Vt=bn||vn||Function("return this")(),ne=t&&!t.nodeType&&t,ke=ne&&!0&&r&&!r.nodeType&&r,yn=ke&&ke.exports===ne,_n=yn&&bn.process,Qe=function(){try{return _n&&_n.binding&&_n.binding("util")}catch{}}(),wn=Qe&&Qe.isTypedArray;function Vn(o,h){for(var b=-1,x=o==null?0:o.length,j=0,q=[];++b<x;){var U=o[b];h(U,b,o)&&(q[j++]=U)}return q}function $e(o,h){for(var b=-1,x=h.length,j=o.length;++b<x;)o[j+b]=h[b];return o}function Fn(o,h){for(var b=-1,x=o==null?0:o.length;++b<x;)if(h(o[b],b,o))return!0;return!1}function cr(o,h){for(var b=-1,x=Array(o);++b<o;)x[b]=h(b);return x}function Cn(o){return function(h){return o(h)}}function Je(o,h){return o.has(h)}function xn(o,h){return o==null?void 0:o[h]}function kn(o){var h=-1,b=Array(o.size);return o.forEach(function(x,j){b[++h]=[j,x]}),b}function Zn(o,h){return function(b){return o(h(b))}}function ce(o){var h=-1,b=Array(o.size);return o.forEach(function(x){b[++h]=x}),b}var tn=Array.prototype,ts=Function.prototype,De=Object.prototype,En=Vt["__core-js_shared__"],R=ts.toString,Rt=De.hasOwnProperty,Sn=function(){var o=/[^.]+$/.exec(En&&En.keys&&En.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),ur=De.toString,hr=RegExp("^"+R.call(Rt).replace(lr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wn=yn?Vt.Buffer:void 0,en=Vt.Symbol,Tn=Vt.Uint8Array,It=De.propertyIsEnumerable,He=tn.splice,re=en?en.toStringTag:void 0,Gt=Object.getOwnPropertySymbols,Ot=Wn?Wn.isBuffer:void 0,ut=Zn(Object.keys,Object),nn=ge(Vt,"DataView"),Ue=ge(Vt,"Map"),An=ge(Vt,"Promise"),rn=ge(Vt,"Set"),Ln=ge(Vt,"WeakMap"),Ee=ge(Object,"create"),ze=Zt(nn),Se=Zt(Ue),dr=Zt(An),fr=Zt(rn),pr=Zt(Ln),Nn=en?en.prototype:void 0,sn=Nn?Nn.valueOf:void 0;function At(o){var h=-1,b=o==null?0:o.length;for(this.clear();++h<b;){var x=o[h];this.set(x[0],x[1])}}function mr(){this.__data__=Ee?Ee(null):{},this.size=0}function es(o){var h=this.has(o)&&delete this.__data__[o];return this.size-=h?1:0,h}function Kn(o){var h=this.__data__;if(Ee){var b=h[o];return b===n?void 0:b}return Rt.call(h,o)?h[o]:void 0}function gr(o){var h=this.__data__;return Ee?h[o]!==void 0:Rt.call(h,o)}function ns(o,h){var b=this.__data__;return this.size+=this.has(o)?0:1,b[o]=Ee&&h===void 0?n:h,this}At.prototype.clear=mr,At.prototype.delete=es,At.prototype.get=Kn,At.prototype.has=gr,At.prototype.set=ns;function Dt(o){var h=-1,b=o==null?0:o.length;for(this.clear();++h<b;){var x=o[h];this.set(x[0],x[1])}}function Mn(){this.__data__=[],this.size=0}function Gn(o){var h=this.__data__,b=Ve(h,o);if(b<0)return!1;var x=h.length-1;return b==x?h.pop():He.call(h,b,1),--this.size,!0}function rs(o){var h=this.__data__,b=Ve(h,o);return b<0?void 0:h[b][1]}function br(o){return Ve(this.__data__,o)>-1}function ss(o,h){var b=this.__data__,x=Ve(b,o);return x<0?(++this.size,b.push([o,h])):b[x][1]=h,this}Dt.prototype.clear=Mn,Dt.prototype.delete=Gn,Dt.prototype.get=rs,Dt.prototype.has=br,Dt.prototype.set=ss;function Ft(o){var h=-1,b=o==null?0:o.length;for(this.clear();++h<b;){var x=o[h];this.set(x[0],x[1])}}function vr(){this.size=0,this.__data__={hash:new At,map:new(Ue||Dt),string:new At}}function yr(o){var h=he(this,o).delete(o);return this.size-=h?1:0,h}function is(o){return he(this,o).get(o)}function _r(o){return he(this,o).has(o)}function Yn(o,h){var b=he(this,o),x=b.size;return b.set(o,h),this.size+=b.size==x?0:1,this}Ft.prototype.clear=vr,Ft.prototype.delete=yr,Ft.prototype.get=is,Ft.prototype.has=_r,Ft.prototype.set=Yn;function on(o){var h=-1,b=o==null?0:o.length;for(this.__data__=new Ft;++h<b;)this.add(o[h])}function In(o){return this.__data__.set(o,n),this}function an(o){return this.__data__.has(o)}on.prototype.add=on.prototype.push=In,on.prototype.has=an;function ue(o){var h=this.__data__=new Dt(o);this.size=h.size}function On(){this.__data__=new Dt,this.size=0}function wr(o){var h=this.__data__,b=h.delete(o);return this.size=h.size,b}function Cr(o){return this.__data__.get(o)}function os(o){return this.__data__.has(o)}function xr(o,h){var b=this.__data__;if(b instanceof Dt){var x=b.__data__;if(!Ue||x.length<e-1)return x.push([o,h]),this.size=++b.size,this;b=this.__data__=new Ft(x)}return b.set(o,h),this.size=b.size,this}ue.prototype.clear=On,ue.prototype.delete=wr,ue.prototype.get=Cr,ue.prototype.has=os,ue.prototype.set=xr;function qn(o,h){var b=We(o),x=!b&&Mr(o),j=!b&&!x&&c(o),q=!b&&!x&&!j&&w(o),U=b||x||j||q,Z=U?cr(o.length,String):[],Y=Z.length;for(var tt in o)Rt.call(o,tt)&&!(U&&(tt=="length"||j&&(tt=="offset"||tt=="parent")||q&&(tt=="buffer"||tt=="byteLength"||tt=="byteOffset")||Tr(tt,Y)))&&Z.push(tt);return Z}function Ve(o,h){for(var b=o.length;b--;)if(un(o[b][0],h))return b;return-1}function Xn(o,h,b){var x=h(o);return We(o)?x:$e(x,b(o))}function Fe(o){return o==null?o===void 0?Tt:M:re&&re in Object(o)?Te(o):Nr(o)}function ln(o){return y(o)&&Fe(o)==l}function Qn(o,h,b,x,j){return o===h?!0:o==null||h==null||!y(o)&&!y(h)?o!==o&&h!==h:as(o,h,b,x,Qn,j)}function as(o,h,b,x,j,q){var U=We(o),Z=We(h),Y=U?u:be(o),tt=Z?u:be(h);Y=Y==l?D:Y,tt=tt==l?D:tt;var X=Y==D,K=tt==D,at=Y==tt;if(at&&c(o)){if(!c(h))return!1;U=!0,X=!1}if(at&&!X)return q||(q=new ue),U||w(o)?Ze(o,h,b,x,j,q):Sr(o,h,Y,b,x,j,q);if(!(b&s)){var F=X&&Rt.call(o,"__wrapped__"),ht=K&&Rt.call(h,"__wrapped__");if(F||ht){var vt=F?o.value():o,dt=ht?h.value():h;return q||(q=new ue),j(vt,dt,b,x,q)}}return at?(q||(q=new ue),ls(o,h,b,x,j,q)):!1}function kr(o){if(!m(o)||Lr(o))return!1;var h=g(o)?hr:ae;return h.test(Zt(o))}function Jn(o){return y(o)&&f(o.length)&&!!xt[Fe(o)]}function Er(o){if(!us(o))return ut(o);var h=[];for(var b in Object(o))Rt.call(o,b)&&b!="constructor"&&h.push(b);return h}function Ze(o,h,b,x,j,q){var U=b&s,Z=o.length,Y=h.length;if(Z!=Y&&!(U&&Y>Z))return!1;var tt=q.get(o);if(tt&&q.get(h))return tt==h;var X=-1,K=!0,at=b&i?new on:void 0;for(q.set(o,h),q.set(h,o);++X<Z;){var F=o[X],ht=h[X];if(x)var vt=U?x(ht,F,X,h,o,q):x(F,ht,X,o,h,q);if(vt!==void 0){if(vt)continue;K=!1;break}if(at){if(!Fn(h,function(dt,Nt){if(!Je(at,Nt)&&(F===dt||j(F,dt,b,x,q)))return at.push(Nt)})){K=!1;break}}else if(!(F===ht||j(F,ht,b,x,q))){K=!1;break}}return q.delete(o),q.delete(h),K}function Sr(o,h,b,x,j,q,U){switch(b){case zt:if(o.byteLength!=h.byteLength||o.byteOffset!=h.byteOffset)return!1;o=o.buffer,h=h.buffer;case me:return!(o.byteLength!=h.byteLength||!q(new Tn(o),new Tn(h)));case v:case C:case N:return un(+o,+h);case _:return o.name==h.name&&o.message==h.message;case B:case G:return o==h+"";case T:var Z=kn;case V:var Y=x&s;if(Z||(Z=ce),o.size!=h.size&&!Y)return!1;var tt=U.get(o);if(tt)return tt==h;x|=i,U.set(o,h);var X=Ze(Z(o),Z(h),x,j,q,U);return U.delete(o),X;case mt:if(sn)return sn.call(o)==sn.call(h)}return!1}function ls(o,h,b,x,j,q){var U=b&s,Z=cn(o),Y=Z.length,tt=cn(h),X=tt.length;if(Y!=X&&!U)return!1;for(var K=Y;K--;){var at=Z[K];if(!(U?at in h:Rt.call(h,at)))return!1}var F=q.get(o);if(F&&q.get(h))return F==h;var ht=!0;q.set(o,h),q.set(h,o);for(var vt=U;++K<Y;){at=Z[K];var dt=o[at],Nt=h[at];if(x)var bt=U?x(Nt,dt,at,h,o,q):x(dt,Nt,at,o,h,q);if(!(bt===void 0?dt===Nt||j(dt,Nt,b,x,q):bt)){ht=!1;break}vt||(vt=at=="constructor")}if(ht&&!vt){var Bt=o.constructor,jt=h.constructor;Bt!=jt&&"constructor"in o&&"constructor"in h&&!(typeof Bt=="function"&&Bt instanceof Bt&&typeof jt=="function"&&jt instanceof jt)&&(ht=!1)}return q.delete(o),q.delete(h),ht}function cn(o){return Xn(o,S,cs)}function he(o,h){var b=o.__data__;return Ar(h)?b[typeof h=="string"?"string":"hash"]:b.map}function ge(o,h){var b=xn(o,h);return kr(b)?b:void 0}function Te(o){var h=Rt.call(o,re),b=o[re];try{o[re]=void 0;var x=!0}catch{}var j=ur.call(o);return x&&(h?o[re]=b:delete o[re]),j}var cs=Gt?function(o){return o==null?[]:(o=Object(o),Vn(Gt(o),function(h){return It.call(o,h)}))}:L,be=Fe;(nn&&be(new nn(new ArrayBuffer(1)))!=zt||Ue&&be(new Ue)!=T||An&&be(An.resolve())!=z||rn&&be(new rn)!=V||Ln&&be(new Ln)!=Pt)&&(be=function(o){var h=Fe(o),b=h==D?o.constructor:void 0,x=b?Zt(b):"";if(x)switch(x){case ze:return zt;case Se:return T;case dr:return z;case fr:return V;case pr:return Pt}return h});function Tr(o,h){return h=h??a,!!h&&(typeof o=="number"||le.test(o))&&o>-1&&o%1==0&&o<h}function Ar(o){var h=typeof o;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?o!=="__proto__":o===null}function Lr(o){return!!Sn&&Sn in o}function us(o){var h=o&&o.constructor,b=typeof h=="function"&&h.prototype||De;return o===b}function Nr(o){return ur.call(o)}function Zt(o){if(o!=null){try{return R.call(o)}catch{}try{return o+""}catch{}}return""}function un(o,h){return o===h||o!==o&&h!==h}var Mr=ln(function(){return arguments}())?ln:function(o){return y(o)&&Rt.call(o,"callee")&&!It.call(o,"callee")},We=Array.isArray;function Rn(o){return o!=null&&f(o.length)&&!g(o)}var c=Ot||I;function d(o,h){return Qn(o,h)}function g(o){if(!m(o))return!1;var h=Fe(o);return h==k||h==E||h==p||h==P}function f(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=a}function m(o){var h=typeof o;return o!=null&&(h=="object"||h=="function")}function y(o){return o!=null&&typeof o=="object"}var w=wn?Cn(wn):Jn;function S(o){return Rn(o)?qn(o):Er(o)}function L(){return[]}function I(){return!1}r.exports=d})(Ys,Ys.exports);var Ga=Ys.exports,ao={};Object.defineProperty(ao,"__esModule",{value:!0});const Dh=Ka,Hh=Ga;var Ui;(function(r){function t(i={},a={},l=!1){typeof i!="object"&&(i={}),typeof a!="object"&&(a={});let u=Dh(a);l||(u=Object.keys(u).reduce((p,v)=>(u[v]!=null&&(p[v]=u[v]),p),{}));for(const p in i)i[p]!==void 0&&a[p]===void 0&&(u[p]=i[p]);return Object.keys(u).length>0?u:void 0}r.compose=t;function e(i={},a={}){typeof i!="object"&&(i={}),typeof a!="object"&&(a={});const l=Object.keys(i).concat(Object.keys(a)).reduce((u,p)=>(Hh(i[p],a[p])||(u[p]=a[p]===void 0?null:a[p]),u),{});return Object.keys(l).length>0?l:void 0}r.diff=e;function n(i={},a={}){i=i||{};const l=Object.keys(a).reduce((u,p)=>(a[p]!==i[p]&&i[p]!==void 0&&(u[p]=a[p]),u),{});return Object.keys(i).reduce((u,p)=>(i[p]!==a[p]&&a[p]===void 0&&(u[p]=null),u),l)}r.invert=n;function s(i,a,l=!1){if(typeof i!="object")return a;if(typeof a!="object")return;if(!l)return a;const u=Object.keys(a).reduce((p,v)=>(i[v]===void 0&&(p[v]=a[v]),p),{});return Object.keys(u).length>0?u:void 0}r.transform=s})(Ui||(Ui={}));ao.default=Ui;var oi={};Object.defineProperty(oi,"__esModule",{value:!0});var zi;(function(r){function t(e){return typeof e.delete=="number"?e.delete:typeof e.retain=="number"?e.retain:typeof e.retain=="object"&&e.retain!==null?1:typeof e.insert=="string"?e.insert.length:1}r.length=t})(zi||(zi={}));oi.default=zi;var lo={};Object.defineProperty(lo,"__esModule",{value:!0});const Yo=oi;class Uh{constructor(t){this.ops=t,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(t){t||(t=1/0);const e=this.ops[this.index];if(e){const n=this.offset,s=Yo.default.length(e);if(t>=s-n?(t=s-n,this.index+=1,this.offset=0):this.offset+=t,typeof e.delete=="number")return{delete:t};{const i={};return e.attributes&&(i.attributes=e.attributes),typeof e.retain=="number"?i.retain=t:typeof e.retain=="object"&&e.retain!==null?i.retain=e.retain:typeof e.insert=="string"?i.insert=e.insert.substr(n,t):i.insert=e.insert,i}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?Yo.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const t=this.ops[this.index];return t?typeof t.delete=="number"?"delete":typeof t.retain=="number"||typeof t.retain=="object"&&t.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const t=this.offset,e=this.index,n=this.next(),s=this.ops.slice(this.index);return this.offset=t,this.index=e,[n].concat(s)}}else return[]}}lo.default=Uh;(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeMap=t.OpIterator=t.Op=void 0;const e=$h,n=Ka,s=Ga,i=ao;t.AttributeMap=i.default;const a=oi;t.Op=a.default;const l=lo;t.OpIterator=l.default;const u="\0",p=(C,_)=>{if(typeof C!="object"||C===null)throw new Error(`cannot retain a ${typeof C}`);if(typeof _!="object"||_===null)throw new Error(`cannot retain a ${typeof _}`);const k=Object.keys(C)[0];if(!k||k!==Object.keys(_)[0])throw new Error(`embed types not matched: ${k} != ${Object.keys(_)[0]}`);return[k,C[k],_[k]]};class v{constructor(_){Array.isArray(_)?this.ops=_:_!=null&&Array.isArray(_.ops)?this.ops=_.ops:this.ops=[]}static registerEmbed(_,k){this.handlers[_]=k}static unregisterEmbed(_){delete this.handlers[_]}static getHandler(_){const k=this.handlers[_];if(!k)throw new Error(`no handlers for embed type "${_}"`);return k}insert(_,k){const E={};return typeof _=="string"&&_.length===0?this:(E.insert=_,k!=null&&typeof k=="object"&&Object.keys(k).length>0&&(E.attributes=k),this.push(E))}delete(_){return _<=0?this:this.push({delete:_})}retain(_,k){if(typeof _=="number"&&_<=0)return this;const E={retain:_};return k!=null&&typeof k=="object"&&Object.keys(k).length>0&&(E.attributes=k),this.push(E)}push(_){let k=this.ops.length,E=this.ops[k-1];if(_=n(_),typeof E=="object"){if(typeof _.delete=="number"&&typeof E.delete=="number")return this.ops[k-1]={delete:E.delete+_.delete},this;if(typeof E.delete=="number"&&_.insert!=null&&(k-=1,E=this.ops[k-1],typeof E!="object"))return this.ops.unshift(_),this;if(s(_.attributes,E.attributes)){if(typeof _.insert=="string"&&typeof E.insert=="string")return this.ops[k-1]={insert:E.insert+_.insert},typeof _.attributes=="object"&&(this.ops[k-1].attributes=_.attributes),this;if(typeof _.retain=="number"&&typeof E.retain=="number")return this.ops[k-1]={retain:E.retain+_.retain},typeof _.attributes=="object"&&(this.ops[k-1].attributes=_.attributes),this}}return k===this.ops.length?this.ops.push(_):this.ops.splice(k,0,_),this}chop(){const _=this.ops[this.ops.length-1];return _&&typeof _.retain=="number"&&!_.attributes&&this.ops.pop(),this}filter(_){return this.ops.filter(_)}forEach(_){this.ops.forEach(_)}map(_){return this.ops.map(_)}partition(_){const k=[],E=[];return this.forEach(T=>{(_(T)?k:E).push(T)}),[k,E]}reduce(_,k){return this.ops.reduce(_,k)}changeLength(){return this.reduce((_,k)=>k.insert?_+a.default.length(k):k.delete?_-k.delete:_,0)}length(){return this.reduce((_,k)=>_+a.default.length(k),0)}slice(_=0,k=1/0){const E=[],T=new l.default(this.ops);let N=0;for(;N<k&&T.hasNext();){let M;N<_?M=T.next(_-N):(M=T.next(k-N),E.push(M)),N+=a.default.length(M)}return new v(E)}compose(_){const k=new l.default(this.ops),E=new l.default(_.ops),T=[],N=E.peek();if(N!=null&&typeof N.retain=="number"&&N.attributes==null){let D=N.retain;for(;k.peekType()==="insert"&&k.peekLength()<=D;)D-=k.peekLength(),T.push(k.next());N.retain-D>0&&E.next(N.retain-D)}const M=new v(T);for(;k.hasNext()||E.hasNext();)if(E.peekType()==="insert")M.push(E.next());else if(k.peekType()==="delete")M.push(k.next());else{const D=Math.min(k.peekLength(),E.peekLength()),z=k.next(D),P=E.next(D);if(P.retain){const B={};if(typeof z.retain=="number")B.retain=typeof P.retain=="number"?D:P.retain;else if(typeof P.retain=="number")z.retain==null?B.insert=z.insert:B.retain=z.retain;else{const G=z.retain==null?"insert":"retain",[mt,Tt,Pt]=p(z[G],P.retain),me=v.getHandler(mt);B[G]={[mt]:me.compose(Tt,Pt,G==="retain")}}const V=i.default.compose(z.attributes,P.attributes,typeof z.retain=="number");if(V&&(B.attributes=V),M.push(B),!E.hasNext()&&s(M.ops[M.ops.length-1],B)){const G=new v(k.rest());return M.concat(G).chop()}}else typeof P.delete=="number"&&(typeof z.retain=="number"||typeof z.retain=="object"&&z.retain!==null)&&M.push(P)}return M.chop()}concat(_){const k=new v(this.ops.slice());return _.ops.length>0&&(k.push(_.ops[0]),k.ops=k.ops.concat(_.ops.slice(1))),k}diff(_,k){if(this.ops===_.ops)return new v;const E=[this,_].map(z=>z.map(P=>{if(P.insert!=null)return typeof P.insert=="string"?P.insert:u;const B=z===_?"on":"with";throw new Error("diff() called "+B+" non-document")}).join("")),T=new v,N=e(E[0],E[1],k,!0),M=new l.default(this.ops),D=new l.default(_.ops);return N.forEach(z=>{let P=z[1].length;for(;P>0;){let B=0;switch(z[0]){case e.INSERT:B=Math.min(D.peekLength(),P),T.push(D.next(B));break;case e.DELETE:B=Math.min(P,M.peekLength()),M.next(B),T.delete(B);break;case e.EQUAL:B=Math.min(M.peekLength(),D.peekLength(),P);const V=M.next(B),G=D.next(B);s(V.insert,G.insert)?T.retain(B,i.default.diff(V.attributes,G.attributes)):T.push(G).delete(B);break}P-=B}}),T.chop()}eachLine(_,k=`
`){const E=new l.default(this.ops);let T=new v,N=0;for(;E.hasNext();){if(E.peekType()!=="insert")return;const M=E.peek(),D=a.default.length(M)-E.peekLength(),z=typeof M.insert=="string"?M.insert.indexOf(k,D)-D:-1;if(z<0)T.push(E.next());else if(z>0)T.push(E.next(z));else{if(_(T,E.next(1).attributes||{},N)===!1)return;N+=1,T=new v}}T.length()>0&&_(T,{},N)}invert(_){const k=new v;return this.reduce((E,T)=>{if(T.insert)k.delete(a.default.length(T));else{if(typeof T.retain=="number"&&T.attributes==null)return k.retain(T.retain),E+T.retain;if(T.delete||typeof T.retain=="number"){const N=T.delete||T.retain;return _.slice(E,E+N).forEach(D=>{T.delete?k.push(D):T.retain&&T.attributes&&k.retain(a.default.length(D),i.default.invert(T.attributes,D.attributes))}),E+N}else if(typeof T.retain=="object"&&T.retain!==null){const N=_.slice(E,E+1),M=new l.default(N.ops).next(),[D,z,P]=p(T.retain,M.insert),B=v.getHandler(D);return k.retain({[D]:B.invert(z,P)},i.default.invert(T.attributes,M.attributes)),E+1}}return E},0),k.chop()}transform(_,k=!1){if(k=!!k,typeof _=="number")return this.transformPosition(_,k);const E=_,T=new l.default(this.ops),N=new l.default(E.ops),M=new v;for(;T.hasNext()||N.hasNext();)if(T.peekType()==="insert"&&(k||N.peekType()!=="insert"))M.retain(a.default.length(T.next()));else if(N.peekType()==="insert")M.push(N.next());else{const D=Math.min(T.peekLength(),N.peekLength()),z=T.next(D),P=N.next(D);if(z.delete)continue;if(P.delete)M.push(P);else{const B=z.retain,V=P.retain;let G=typeof V=="object"&&V!==null?V:D;if(typeof B=="object"&&B!==null&&typeof V=="object"&&V!==null){const mt=Object.keys(B)[0];if(mt===Object.keys(V)[0]){const Tt=v.getHandler(mt);Tt&&(G={[mt]:Tt.transform(B[mt],V[mt],k)})}}M.retain(G,i.default.transform(z.attributes,P.attributes,k))}}return M.chop()}transformPosition(_,k=!1){k=!!k;const E=new l.default(this.ops);let T=0;for(;E.hasNext()&&T<=_;){const N=E.peekLength(),M=E.peekType();if(E.next(),M==="delete"){_-=Math.min(N,_-T);continue}else M==="insert"&&(T<_||!k)&&(_+=N);T+=N}return _}}v.Op=a.default,v.OpIterator=l.default,v.AttributeMap=i.default,v.handlers={},t.default=v,r.exports=v,r.exports.default=v})(Hi,Hi.exports);var xe=Hi.exports;const rt=Ta(xe);class Be extends pe{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}Be.blotName="break";Be.tagName="BR";let qe=class extends Ks{};function ai(r){return r.replace(/[&<>"']/g,t=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[t])}var de;let zn=(de=class extends ro{static compare(t,e){const n=de.order.indexOf(t),s=de.order.indexOf(e);return n>=0||s>=0?n-s:t===e?0:t<e?-1:1}formatAt(t,e,n,s){if(de.compare(this.statics.blotName,n)<0&&this.scroll.query(n,st.BLOT)){const i=this.isolate(t,e);s&&i.wrap(n,s)}else super.formatAt(t,e,n,s)}optimize(t){if(super.optimize(t),this.parent instanceof de&&de.compare(this.statics.blotName,this.parent.statics.blotName)>0){const e=this.parent.isolate(this.offset(),this.length());this.moveChildren(e),e.wrap(this)}}},Q(de,"allowedChildren",[de,Be,pe,qe]),Q(de,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]),de);const Xo=1;class Wt extends bs{constructor(){super(...arguments);Q(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=Ya(this)),this.cache.delta}deleteAt(e,n){super.deleteAt(e,n),this.cache={}}formatAt(e,n,s,i){n<=0||(this.scroll.query(s,st.BLOCK)?e+n===this.length()&&this.format(s,i):super.formatAt(e,Math.min(n,this.length()-e-1),s,i),this.cache={})}insertAt(e,n,s){if(s!=null){super.insertAt(e,n,s),this.cache={};return}if(n.length===0)return;const i=n.split(`
`),a=i.shift();a.length>0&&(e<this.length()-1||this.children.tail==null?super.insertAt(Math.min(e,this.length()-1),a):this.children.tail.insertAt(this.children.tail.length(),a),this.cache={});let l=this;i.reduce((u,p)=>(l=l.split(u,!0),l.insertAt(0,p),p.length),e+a.length)}insertBefore(e,n){const{head:s}=this.children;super.insertBefore(e,n),s instanceof Be&&s.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+Xo),this.cache.length}moveChildren(e,n){super.moveChildren(e,n),this.cache={}}optimize(e){super.optimize(e),this.cache={}}path(e){return super.path(e,!0)}removeChild(e){super.removeChild(e),this.cache={}}split(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n&&(e===0||e>=this.length()-Xo)){const i=this.clone();return e===0?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}const s=super.split(e,n);return this.cache={},s}}Wt.blotName="block";Wt.tagName="P";Wt.defaultChild=Be;Wt.allowedChildren=[Be,zn,pe,qe];class Ce extends pe{attach(){super.attach(),this.attributes=new ni(this.domNode)}delta(){return new rt().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(t,e){const n=this.scroll.query(t,st.BLOCK_ATTRIBUTE);n!=null&&this.attributes.attribute(n,e)}formatAt(t,e,n,s){this.format(n,s)}insertAt(t,e,n){if(n!=null){super.insertAt(t,e,n);return}const s=e.split(`
`),i=s.pop(),a=s.map(u=>{const p=this.scroll.create(Wt.blotName);return p.insertAt(0,u),p}),l=this.split(t);a.forEach(u=>{this.parent.insertBefore(u,l)}),i&&this.parent.insertBefore(this.scroll.create("text",i),l)}}Ce.scope=st.BLOCK_BLOT;function Ya(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r.descendants(te).reduce((e,n)=>n.length()===0?e:e.insert(n.value(),_e(n,{},t)),new rt).insert(`
`,_e(r))}function _e(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return r==null||("formats"in r&&typeof r.formats=="function"&&(t={...t,...r.formats()},e&&delete t["code-token"]),r.parent==null||r.parent.statics.blotName==="scroll"||r.parent.statics.scope!==r.statics.scope)?t:_e(r.parent,t,e)}const ye=class ye extends pe{static value(){}constructor(t,e,n){super(t,e),this.selection=n,this.textNode=document.createTextNode(ye.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(t,e){if(this.savedLength!==0){super.format(t,e);return}let n=this,s=0;for(;n!=null&&n.statics.scope!==st.BLOCK_BLOT;)s+=n.offset(n.parent),n=n.parent;n!=null&&(this.savedLength=ye.CONTENTS.length,n.optimize(),n.formatAt(s,ye.CONTENTS.length,t,e),this.savedLength=0)}index(t,e){return t===this.textNode?0:super.index(t,e)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const t=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const e=this.prev instanceof qe?this.prev:null,n=e?e.length():0,s=this.next instanceof qe?this.next:null,i=s?s.text:"",{textNode:a}=this,l=a.data.split(ye.CONTENTS).join("");a.data=ye.CONTENTS;let u;if(e)u=e,(l||s)&&(e.insertAt(e.length(),l+i),s&&s.remove());else if(s)u=s,s.insertAt(0,l);else{const p=document.createTextNode(l);u=this.scroll.create(p),this.parent.insertBefore(u,this)}if(this.remove(),t){const p=(_,k)=>e&&_===e.domNode?k:_===a?n+k-1:s&&_===s.domNode?n+l.length+k:null,v=p(t.start.node,t.start.offset),C=p(t.end.node,t.end.offset);if(v!==null&&C!==null)return{startNode:u.domNode,startOffset:v,endNode:u.domNode,endOffset:C}}return null}update(t,e){if(t.some(n=>n.type==="characterData"&&n.target===this.textNode)){const n=this.restore();n&&(e.range=n)}}optimize(t){super.optimize(t);let{parent:e}=this;for(;e;){if(e.domNode.tagName==="A"){this.savedLength=ye.CONTENTS.length,e.isolate(this.offset(e),this.length()).unwrap(),this.savedLength=0;break}e=e.parent}}value(){return""}};Q(ye,"blotName","cursor"),Q(ye,"className","ql-cursor"),Q(ye,"tagName","span"),Q(ye,"CONTENTS","\uFEFF");let Yr=ye;var Xa={exports:{}};(function(r){var t=Object.prototype.hasOwnProperty,e="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(e=!1));function s(u,p,v){this.fn=u,this.context=p,this.once=v||!1}function i(u,p,v,C,_){if(typeof v!="function")throw new TypeError("The listener must be a function");var k=new s(v,C||u,_),E=e?e+p:p;return u._events[E]?u._events[E].fn?u._events[E]=[u._events[E],k]:u._events[E].push(k):(u._events[E]=k,u._eventsCount++),u}function a(u,p){--u._eventsCount===0?u._events=new n:delete u._events[p]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var p=[],v,C;if(this._eventsCount===0)return p;for(C in v=this._events)t.call(v,C)&&p.push(e?C.slice(1):C);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(v)):p},l.prototype.listeners=function(p){var v=e?e+p:p,C=this._events[v];if(!C)return[];if(C.fn)return[C.fn];for(var _=0,k=C.length,E=new Array(k);_<k;_++)E[_]=C[_].fn;return E},l.prototype.listenerCount=function(p){var v=e?e+p:p,C=this._events[v];return C?C.fn?1:C.length:0},l.prototype.emit=function(p,v,C,_,k,E){var T=e?e+p:p;if(!this._events[T])return!1;var N=this._events[T],M=arguments.length,D,z;if(N.fn){switch(N.once&&this.removeListener(p,N.fn,void 0,!0),M){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,v),!0;case 3:return N.fn.call(N.context,v,C),!0;case 4:return N.fn.call(N.context,v,C,_),!0;case 5:return N.fn.call(N.context,v,C,_,k),!0;case 6:return N.fn.call(N.context,v,C,_,k,E),!0}for(z=1,D=new Array(M-1);z<M;z++)D[z-1]=arguments[z];N.fn.apply(N.context,D)}else{var P=N.length,B;for(z=0;z<P;z++)switch(N[z].once&&this.removeListener(p,N[z].fn,void 0,!0),M){case 1:N[z].fn.call(N[z].context);break;case 2:N[z].fn.call(N[z].context,v);break;case 3:N[z].fn.call(N[z].context,v,C);break;case 4:N[z].fn.call(N[z].context,v,C,_);break;default:if(!D)for(B=1,D=new Array(M-1);B<M;B++)D[B-1]=arguments[B];N[z].fn.apply(N[z].context,D)}}return!0},l.prototype.on=function(p,v,C){return i(this,p,v,C,!1)},l.prototype.once=function(p,v,C){return i(this,p,v,C,!0)},l.prototype.removeListener=function(p,v,C,_){var k=e?e+p:p;if(!this._events[k])return this;if(!v)return a(this,k),this;var E=this._events[k];if(E.fn)E.fn===v&&(!_||E.once)&&(!C||E.context===C)&&a(this,k);else{for(var T=0,N=[],M=E.length;T<M;T++)(E[T].fn!==v||_&&!E[T].once||C&&E[T].context!==C)&&N.push(E[T]);N.length?this._events[k]=N.length===1?N[0]:N:a(this,k)}return this},l.prototype.removeAllListeners=function(p){var v;return p?(v=e?e+p:p,this._events[v]&&a(this,v)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=e,l.EventEmitter=l,r.exports=l})(Xa);var zh=Xa.exports;const Vh=Ta(zh),Vi=new WeakMap,Fi=["error","warn","log","info"];let Zi="warn";function Qa(r){if(Zi&&Fi.indexOf(r)<=Fi.indexOf(Zi)){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];console[r](...e)}}function mn(r){return Fi.reduce((t,e)=>(t[e]=Qa.bind(console,e,r),t),{})}mn.level=r=>{Zi=r};Qa.level=mn.level;const yi=mn("quill:events"),Fh=["selectionchange","mousedown","mouseup","click"];Fh.forEach(r=>{document.addEventListener(r,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Array.from(document.querySelectorAll(".ql-container")).forEach(s=>{const i=Vi.get(s);i&&i.emitter&&i.emitter.handleDOM(...e)})})});class et extends Vh{constructor(){super(),this.domListeners={},this.on("error",yi.error)}emit(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return yi.log.call(yi,...e),super.emit(...e)}handleDOM(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];(this.domListeners[t.type]||[]).forEach(i=>{let{node:a,handler:l}=i;(t.target===a||a.contains(t.target))&&l(t,...n)})}listenDOM(t,e,n){this.domListeners[t]||(this.domListeners[t]=[]),this.domListeners[t].push({node:e,handler:n})}}Q(et,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),Q(et,"sources",{API:"api",SILENT:"silent",USER:"user"});const _i=mn("quill:selection");class nr{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=t,this.length=e}}class Zh{constructor(t,e){this.emitter=e,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new nr(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,et.sources.USER),1)}),this.emitter.on(et.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const n=this.getNativeRange();n!=null&&n.start.node!==this.cursor.textNode&&this.emitter.once(et.events.SCROLL_UPDATE,(s,i)=>{try{this.root.contains(n.start.node)&&this.root.contains(n.end.node)&&this.setNativeRange(n.start.node,n.start.offset,n.end.node,n.end.offset);const a=i.some(l=>l.type==="characterData"||l.type==="childList"||l.type==="attributes"&&l.target===this.root);this.update(a?et.sources.SILENT:s)}catch{}})}),this.emitter.on(et.events.SCROLL_OPTIMIZE,(n,s)=>{if(s.range){const{startNode:i,startOffset:a,endNode:l,endOffset:u}=s.range;this.setNativeRange(i,a,l,u),this.update(et.sources.SILENT)}}),this.update(et.sources.SILENT)}handleComposition(){this.emitter.on(et.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(et.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout(()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(et.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(t,e){this.scroll.update();const n=this.getNativeRange();if(!(n==null||!n.native.collapsed||this.scroll.query(t,st.BLOCK))){if(n.start.node!==this.cursor.textNode){const s=this.scroll.find(n.start.node,!1);if(s==null)return;if(s instanceof te){const i=s.split(n.start.offset);s.parent.insertBefore(this.cursor,i)}else s.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const n=this.scroll.length();t=Math.min(t,n-1),e=Math.min(t+e,n-1)-t;let s,[i,a]=this.scroll.leaf(t);if(i==null)return null;if(e>0&&a===i.length()){const[v]=this.scroll.leaf(t+1);if(v){const[C]=this.scroll.line(t),[_]=this.scroll.line(t+1);C===_&&(i=v,a=0)}}[s,a]=i.position(a,!0);const l=document.createRange();if(e>0)return l.setStart(s,a),[i,a]=this.scroll.leaf(t+e),i==null?null:([s,a]=i.position(a,!0),l.setEnd(s,a),l.getBoundingClientRect());let u="left",p;if(s instanceof Text){if(!s.data.length)return null;a<s.data.length?(l.setStart(s,a),l.setEnd(s,a+1)):(l.setStart(s,a-1),l.setEnd(s,a),u="right"),p=l.getBoundingClientRect()}else{if(!(i.domNode instanceof Element))return null;p=i.domNode.getBoundingClientRect(),a>0&&(u="right")}return{bottom:p.top+p.height,height:p.height,left:p[u],right:p[u],top:p.top,width:0}}getNativeRange(){const t=document.getSelection();if(t==null||t.rangeCount<=0)return null;const e=t.getRangeAt(0);if(e==null)return null;const n=this.normalizeNative(e);return _i.info("getNativeRange",n),n}getRange(){const t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected)return[null,null];const e=this.getNativeRange();return e==null?[null,null]:[this.normalizedToRange(e),e]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&wi(this.root,document.activeElement)}normalizedToRange(t){const e=[[t.start.node,t.start.offset]];t.native.collapsed||e.push([t.end.node,t.end.offset]);const n=e.map(a=>{const[l,u]=a,p=this.scroll.find(l,!0),v=p.offset(this.scroll);return u===0?v:p instanceof te?v+p.index(l,u):v+p.length()}),s=Math.min(Math.max(...n),this.scroll.length()-1),i=Math.min(s,...n);return new nr(i,s-i)}normalizeNative(t){if(!wi(this.root,t.startContainer)||!t.collapsed&&!wi(this.root,t.endContainer))return null;const e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach(n=>{let{node:s,offset:i}=n;for(;!(s instanceof Text)&&s.childNodes.length>0;)if(s.childNodes.length>i)s=s.childNodes[i],i=0;else if(s.childNodes.length===i)s=s.lastChild,s instanceof Text?i=s.data.length:s.childNodes.length>0?i=s.childNodes.length:i=s.childNodes.length+1;else break;n.node=s,n.offset=i}),e}rangeToNative(t){const e=this.scroll.length(),n=(s,i)=>{s=Math.min(e-1,s);const[a,l]=this.scroll.leaf(s);return a?a.position(l,i):[null,-1]};return[...n(t.index,!1),...n(t.index+t.length,!0)]}setNativeRange(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(_i.info("setNativeRange",t,e,n,s),t!=null&&(this.root.parentNode==null||t.parentNode==null||n.parentNode==null))return;const a=document.getSelection();if(a!=null)if(t!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:l}=this.getNativeRange()||{};if(l==null||i||t!==l.startContainer||e!==l.startOffset||n!==l.endContainer||s!==l.endOffset){t instanceof Element&&t.tagName==="BR"&&(e=Array.from(t.parentNode.childNodes).indexOf(t),t=t.parentNode),n instanceof Element&&n.tagName==="BR"&&(s=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode);const u=document.createRange();u.setStart(t,e),u.setEnd(n,s),a.removeAllRanges(),a.addRange(u)}}else a.removeAllRanges(),this.root.blur()}setRange(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:et.sources.API;if(typeof e=="string"&&(n=e,e=!1),_i.info("setRange",t),t!=null){const s=this.rangeToNative(t);this.setNativeRange(...s,e)}else this.setNativeRange(null);this.update(n)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:et.sources.USER;const e=this.lastRange,[n,s]=this.getRange();if(this.lastRange=n,this.lastNative=s,this.lastRange!=null&&(this.savedRange=this.lastRange),!no(e,this.lastRange)){if(!this.composing&&s!=null&&s.native.collapsed&&s.start.node!==this.cursor.textNode){const a=this.cursor.restore();a&&this.setNativeRange(a.startNode,a.startOffset,a.endNode,a.endOffset)}const i=[et.events.SELECTION_CHANGE,Vr(this.lastRange),Vr(e),t];this.emitter.emit(et.events.EDITOR_CHANGE,...i),t!==et.sources.SILENT&&this.emitter.emit(...i)}}}function wi(r,t){try{t.parentNode}catch{return!1}return r.contains(t)}const Wh=/^[ -~]*$/;class Kh{constructor(t){this.scroll=t,this.delta=this.getDelta()}applyDelta(t){this.scroll.update();let e=this.scroll.length();this.scroll.batchStart();const n=Qo(t),s=new rt;return Yh(n.ops.slice()).reduce((a,l)=>{const u=xe.Op.length(l);let p=l.attributes||{},v=!1,C=!1;if(l.insert!=null){if(s.retain(u),typeof l.insert=="string"){const E=l.insert;C=!E.endsWith(`
`)&&(e<=a||!!this.scroll.descendant(Ce,a)[0]),this.scroll.insertAt(a,E);const[T,N]=this.scroll.line(a);let M=Dn({},_e(T));if(T instanceof Wt){const[D]=T.descendant(te,N);D&&(M=Dn(M,_e(D)))}p=xe.AttributeMap.diff(M,p)||{}}else if(typeof l.insert=="object"){const E=Object.keys(l.insert)[0];if(E==null)return a;const T=this.scroll.query(E,st.INLINE)!=null;if(T)(e<=a||this.scroll.descendant(Ce,a)[0])&&(C=!0);else if(a>0){const[N,M]=this.scroll.descendant(te,a-1);N instanceof qe?N.value()[M]!==`
`&&(v=!0):N instanceof pe&&N.statics.scope===st.INLINE_BLOT&&(v=!0)}if(this.scroll.insertAt(a,E,l.insert[E]),T){const[N]=this.scroll.descendant(te,a);if(N){const M=Dn({},_e(N));p=xe.AttributeMap.diff(M,p)||{}}}}e+=u}else if(s.push(l),l.retain!==null&&typeof l.retain=="object"){const E=Object.keys(l.retain)[0];if(E==null)return a;this.scroll.updateEmbedAt(a,E,l.retain[E])}Object.keys(p).forEach(E=>{this.scroll.formatAt(a,u,E,p[E])});const _=v?1:0,k=C?1:0;return e+=_+k,s.retain(_),s.delete(k),a+u+_+k},0),s.reduce((a,l)=>typeof l.delete=="number"?(this.scroll.deleteAt(a,l.delete),a):a+xe.Op.length(l),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(n)}deleteText(t,e){return this.scroll.deleteAt(t,e),this.update(new rt().retain(t).delete(e))}formatLine(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(n).forEach(i=>{this.scroll.lines(t,Math.max(e,1)).forEach(a=>{a.format(i,n[i])})}),this.scroll.optimize();const s=new rt().retain(t).retain(e,Vr(n));return this.update(s)}formatText(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(n).forEach(i=>{this.scroll.formatAt(t,e,i,n[i])});const s=new rt().retain(t).retain(e,Vr(n));return this.update(s)}getContents(t,e){return this.delta.slice(t,t+e)}getDelta(){return this.scroll.lines().reduce((t,e)=>t.concat(e.delta()),new rt)}getFormat(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=[],s=[];e===0?this.scroll.path(t).forEach(l=>{const[u]=l;u instanceof Wt?n.push(u):u instanceof te&&s.push(u)}):(n=this.scroll.lines(t,e),s=this.scroll.descendants(te,t,e));const[i,a]=[n,s].map(l=>{const u=l.shift();if(u==null)return{};let p=_e(u);for(;Object.keys(p).length>0;){const v=l.shift();if(v==null)return p;p=Gh(_e(v),p)}return p});return{...i,...a}}getHTML(t,e){const[n,s]=this.scroll.line(t);if(n){const i=n.length();return n.length()>=s+e&&!(s===0&&e===i)?ys(n,s,e,!0):ys(this.scroll,t,e,!0)}return""}getText(t,e){return this.getContents(t,e).filter(n=>typeof n.insert=="string").map(n=>n.insert).join("")}insertContents(t,e){const n=Qo(e),s=new rt().retain(t).concat(n);return this.scroll.insertContents(t,n),this.update(s)}insertEmbed(t,e,n){return this.scroll.insertAt(t,e,n),this.update(new rt().retain(t).insert({[e]:n}))}insertText(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e=e.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(t,e),Object.keys(n).forEach(s=>{this.scroll.formatAt(t,e.length,s,n[s])}),this.update(new rt().retain(t).insert(e,Vr(n)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const t=this.scroll.children.head;if((t==null?void 0:t.statics.blotName)!==Wt.blotName)return!1;const e=t;return e.children.length>1?!1:e.children.head instanceof Be}removeFormat(t,e){const n=this.getText(t,e),[s,i]=this.scroll.line(t+e);let a=0,l=new rt;s!=null&&(a=s.length()-i,l=s.delta().slice(i,i+a-1).insert(`
`));const p=this.getContents(t,e+a).diff(new rt().insert(n).concat(l)),v=new rt().retain(t).concat(p);return this.applyDelta(v)}update(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const s=this.delta;if(e.length===1&&e[0].type==="characterData"&&e[0].target.data.match(Wh)&&this.scroll.find(e[0].target)){const i=this.scroll.find(e[0].target),a=_e(i),l=i.offset(this.scroll),u=e[0].oldValue.replace(Yr.CONTENTS,""),p=new rt().insert(u),v=new rt().insert(i.value()),C=n&&{oldRange:Jo(n.oldRange,-l),newRange:Jo(n.newRange,-l)};t=new rt().retain(l).concat(p.diff(v,C)).reduce((k,E)=>E.insert?k.insert(E.insert,a):k.push(E),new rt),this.delta=s.compose(t)}else this.delta=this.getDelta(),(!t||!no(s.compose(t),this.delta))&&(t=s.diff(this.delta,n));return t}}function Hr(r,t,e){if(r.length===0){const[k]=Ci(e.pop());return t<=0?`</li></${k}>`:`</li></${k}>${Hr([],t-1,e)}`}const[{child:n,offset:s,length:i,indent:a,type:l},...u]=r,[p,v]=Ci(l);if(a>t)return e.push(l),a===t+1?`<${p}><li${v}>${ys(n,s,i)}${Hr(u,a,e)}`:`<${p}><li>${Hr(r,t+1,e)}`;const C=e[e.length-1];if(a===t&&l===C)return`</li><li${v}>${ys(n,s,i)}${Hr(u,a,e)}`;const[_]=Ci(e.pop());return`</li></${_}>${Hr(r,t-1,e)}`}function ys(r,t,e){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in r&&typeof r.html=="function")return r.html(t,e);if(r instanceof qe)return ai(r.value().slice(t,t+e));if(r instanceof Oe){if(r.statics.blotName==="list-container"){const p=[];return r.children.forEachAt(t,e,(v,C,_)=>{const k="formats"in v&&typeof v.formats=="function"?v.formats():{};p.push({child:v,offset:C,length:_,indent:k.indent||0,type:k.list})}),Hr(p,-1,[])}const s=[];if(r.children.forEachAt(t,e,(p,v,C)=>{s.push(ys(p,v,C))}),n||r.statics.blotName==="list")return s.join("");const{outerHTML:i,innerHTML:a}=r.domNode,[l,u]=i.split(`>${a}<`);return l==="<table"?`<table style="border: 1px solid #000;">${s.join("")}<${u}`:`${l}>${s.join("")}<${u}`}return r.domNode instanceof Element?r.domNode.outerHTML:""}function Gh(r,t){return Object.keys(t).reduce((e,n)=>{if(r[n]==null)return e;const s=t[n];return s===r[n]?e[n]=s:Array.isArray(s)?s.indexOf(r[n])<0?e[n]=s.concat([r[n]]):e[n]=s:e[n]=[s,r[n]],e},{})}function Ci(r){const t=r==="ordered"?"ol":"ul";switch(r){case"checked":return[t,' data-list="checked"'];case"unchecked":return[t,' data-list="unchecked"'];default:return[t,""]}}function Qo(r){return r.reduce((t,e)=>{if(typeof e.insert=="string"){const n=e.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return t.insert(n,e.attributes)}return t.push(e)},new rt)}function Jo(r,t){let{index:e,length:n}=r;return new nr(e+t,n)}function Yh(r){const t=[];return r.forEach(e=>{typeof e.insert=="string"?e.insert.split(`
`).forEach((s,i)=>{i&&t.push({insert:`
`,attributes:e.attributes}),s&&t.push({insert:s,attributes:e.attributes})}):t.push(e)}),t}class je{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=t,this.options=e}}Q(je,"DEFAULTS",{});const Ls="\uFEFF";let co=class extends pe{constructor(t,e){super(t,e),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(n=>{this.contentNode.appendChild(n)}),this.leftGuard=document.createTextNode(Ls),this.rightGuard=document.createTextNode(Ls),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(t,e){return t===this.leftGuard?0:t===this.rightGuard?1:super.index(t,e)}restore(t){let e=null,n;const s=t.data.split(Ls).join("");if(t===this.leftGuard)if(this.prev instanceof qe){const i=this.prev.length();this.prev.insertAt(i,s),e={startNode:this.prev.domNode,startOffset:i+s.length}}else n=document.createTextNode(s),this.parent.insertBefore(this.scroll.create(n),this),e={startNode:n,startOffset:s.length};else t===this.rightGuard&&(this.next instanceof qe?(this.next.insertAt(0,s),e={startNode:this.next.domNode,startOffset:s.length}):(n=document.createTextNode(s),this.parent.insertBefore(this.scroll.create(n),this.next),e={startNode:n,startOffset:s.length}));return t.data=Ls,e}update(t,e){t.forEach(n=>{if(n.type==="characterData"&&(n.target===this.leftGuard||n.target===this.rightGuard)){const s=this.restore(n.target);s&&(e.range=s)}})}};class Xh{constructor(t,e){Q(this,"isComposing",!1);this.scroll=t,this.emitter=e,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",t=>{this.isComposing||this.handleCompositionStart(t)}),this.scroll.domNode.addEventListener("compositionend",t=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(t)})})}handleCompositionStart(t){const e=t.target instanceof Node?this.scroll.find(t.target,!0):null;e&&!(e instanceof co)&&(this.emitter.emit(et.events.COMPOSITION_BEFORE_START,t),this.scroll.batchStart(),this.emitter.emit(et.events.COMPOSITION_START,t),this.isComposing=!0)}handleCompositionEnd(t){this.emitter.emit(et.events.COMPOSITION_BEFORE_END,t),this.scroll.batchEnd(),this.emitter.emit(et.events.COMPOSITION_END,t),this.isComposing=!1}}const ms=class ms{constructor(t,e){Q(this,"modules",{});this.quill=t,this.options=e}init(){Object.keys(this.options.modules).forEach(t=>{this.modules[t]==null&&this.addModule(t)})}addModule(t){const e=this.quill.constructor.import(`modules/${t}`);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}};Q(ms,"DEFAULTS",{modules:{}}),Q(ms,"themes",{default:ms});let Xr=ms;const Qh=r=>r.parentElement||r.getRootNode().host||null,Jh=r=>{const t=r.getBoundingClientRect(),e="offsetWidth"in r&&Math.abs(t.width)/r.offsetWidth||1,n="offsetHeight"in r&&Math.abs(t.height)/r.offsetHeight||1;return{top:t.top,right:t.left+r.clientWidth*e,bottom:t.top+r.clientHeight*n,left:t.left}},Ns=r=>{const t=parseInt(r,10);return Number.isNaN(t)?0:t},ta=(r,t,e,n,s,i)=>r<e&&t>n?0:r<e?-(e-r+s):t>n?t-r>n-e?r+s-e:t-n+i:0,t1=(r,t)=>{var i,a,l;const e=r.ownerDocument;let n=t,s=r;for(;s;){const u=s===e.body,p=u?{top:0,right:((i=window.visualViewport)==null?void 0:i.width)??e.documentElement.clientWidth,bottom:((a=window.visualViewport)==null?void 0:a.height)??e.documentElement.clientHeight,left:0}:Jh(s),v=getComputedStyle(s),C=ta(n.left,n.right,p.left,p.right,Ns(v.scrollPaddingLeft),Ns(v.scrollPaddingRight)),_=ta(n.top,n.bottom,p.top,p.bottom,Ns(v.scrollPaddingTop),Ns(v.scrollPaddingBottom));if(C||_)if(u)(l=e.defaultView)==null||l.scrollBy(C,_);else{const{scrollLeft:k,scrollTop:E}=s;_&&(s.scrollTop+=_),C&&(s.scrollLeft+=C);const T=s.scrollLeft-k,N=s.scrollTop-E;n={left:n.left-T,top:n.top-N,right:n.right-T,bottom:n.bottom-N}}s=u||v.position==="fixed"?null:Qh(s)}},e1=100,n1=["block","break","cursor","inline","scroll","text"],r1=(r,t,e)=>{const n=new Gr;return n1.forEach(s=>{const i=t.query(s);i&&n.register(i)}),r.forEach(s=>{let i=t.query(s);i||e.error(`Cannot register "${s}" specified in "formats" config. Are you sure it was registered?`);let a=0;for(;i;)if(n.register(i),i="blotName"in i?i.requiredContainer??null:null,a+=1,a>e1){e.error(`Cycle detected in registering blot requiredContainer: "${s}"`);break}}),n},Zr=mn("quill"),Ms=new Gr;Oe.uiClass="ql-ui";const Le=class Le{static debug(t){t===!0&&(t="log"),mn.level(t)}static find(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Vi.get(t)||Ms.find(t,e)}static import(t){return this.imports[t]==null&&Zr.error(`Cannot import ${t}. Are you sure it was registered?`),this.imports[t]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const t=arguments.length<=0?void 0:arguments[0],e=!!(!(arguments.length<=1)&&arguments[1]),n="attrName"in t?t.attrName:t.blotName;typeof n=="string"?this.register(`formats/${n}`,t,e):Object.keys(t).forEach(s=>{this.register(s,t[s],e)})}else{const t=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1],n=!!(!(arguments.length<=2)&&arguments[2]);this.imports[t]!=null&&!n&&Zr.warn(`Overwriting ${t} with`,e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&e&&typeof e!="boolean"&&e.blotName!=="abstract"&&Ms.register(e),typeof e.register=="function"&&e.register(Ms)}}constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=s1(t,e),this.container=this.options.container,this.container==null){Zr.error("Invalid Quill container",t);return}this.options.debug&&Le.debug(this.options.debug);const n=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",Vi.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new et;const s=so.blotName,i=this.options.registry.query(s);if(!i||!("blotName"in i))throw new Error(`Cannot initialize Quill without "${s}" blot`);if(this.scroll=new i(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new Kh(this.scroll),this.selection=new Zh(this.scroll,this.emitter),this.composition=new Xh(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(et.events.EDITOR_CHANGE,a=>{a===et.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(et.events.SCROLL_UPDATE,(a,l)=>{const u=this.selection.lastRange,[p]=this.selection.getRange(),v=u&&p?{oldRange:u,newRange:p}:void 0;Ae.call(this,()=>this.editor.update(null,l,v),a)}),this.emitter.on(et.events.SCROLL_EMBED_UPDATE,(a,l)=>{const u=this.selection.lastRange,[p]=this.selection.getRange(),v=u&&p?{oldRange:u,newRange:p}:void 0;Ae.call(this,()=>{const C=new rt().retain(a.offset(this)).retain({[a.statics.blotName]:l});return this.editor.update(C,[],v)},Le.sources.USER)}),n){const a=this.clipboard.convert({html:`${n}<p><br></p>`,text:`
`});this.setContents(a)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof t=="string"){const n=t;t=document.createElement("div"),t.classList.add(n)}return this.container.insertBefore(t,e),t}blur(){this.selection.setRange(null)}deleteText(t,e,n){return[t,e,,n]=hn(t,e,n),Ae.call(this,()=>this.editor.deleteText(t,e),n,t,-1*e)}disable(){this.enable(!1)}editReadOnly(t){this.allowReadOnlyEdits=!0;const e=t();return this.allowReadOnlyEdits=!1,e}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}focus(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),t.preventScroll||this.scrollSelectionIntoView()}format(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:et.sources.API;return Ae.call(this,()=>{const s=this.getSelection(!0);let i=new rt;if(s==null)return i;if(this.scroll.query(t,st.BLOCK))i=this.editor.formatLine(s.index,s.length,{[t]:e});else{if(s.length===0)return this.selection.format(t,e),i;i=this.editor.formatText(s.index,s.length,{[t]:e})}return this.setSelection(s,et.sources.SILENT),i},n)}formatLine(t,e,n,s,i){let a;return[t,e,a,i]=hn(t,e,n,s,i),Ae.call(this,()=>this.editor.formatLine(t,e,a),i,t,0)}formatText(t,e,n,s,i){let a;return[t,e,a,i]=hn(t,e,n,s,i),Ae.call(this,()=>this.editor.formatText(t,e,a),i,t,0)}getBounds(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=null;if(typeof t=="number"?n=this.selection.getBounds(t,e):n=this.selection.getBounds(t.index,t.length),!n)return null;const s=this.container.getBoundingClientRect();return{bottom:n.bottom-s.top,height:n.height,left:n.left-s.left,right:n.right-s.left,top:n.top-s.top,width:n.width}}getContents(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-t;return[t,e]=hn(t,e),this.editor.getContents(t,e)}getFormat(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof t=="number"?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof t!="number"?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}getModule(t){return this.theme.modules[t]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(e=e??this.getLength()-t),[t,e]=hn(t,e),this.editor.getHTML(t,e)}getText(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(e=e??this.getLength()-t),[t,e]=hn(t,e),this.editor.getText(t,e)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,e,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Le.sources.API;return Ae.call(this,()=>this.editor.insertEmbed(t,e,n),s,t)}insertText(t,e,n,s,i){let a;return[t,,a,i]=hn(t,0,n,s,i),Ae.call(this,()=>this.editor.insertText(t,e,a),i,t,e.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(t,e,n){return[t,e,,n]=hn(t,e,n),Ae.call(this,()=>this.editor.removeFormat(t,e),n,t)}scrollRectIntoView(t){t1(this.root,t)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const t=this.selection.lastRange,e=t&&this.selection.getBounds(t.index,t.length);e&&this.scrollRectIntoView(e)}setContents(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:et.sources.API;return Ae.call(this,()=>{t=new rt(t);const n=this.getLength(),s=this.editor.deleteText(0,n),i=this.editor.insertContents(0,t),a=this.editor.deleteText(this.getLength()-1,1);return s.compose(i).compose(a)},e)}setSelection(t,e,n){t==null?this.selection.setRange(null,e||Le.sources.API):([t,e,,n]=hn(t,e,n),this.selection.setRange(new nr(Math.max(0,t),e),n),n!==et.sources.SILENT&&this.scrollSelectionIntoView())}setText(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:et.sources.API;const n=new rt().insert(t);return this.setContents(n,e)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:et.sources.USER;const e=this.scroll.update(t);return this.selection.update(t),e}updateContents(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:et.sources.API;return Ae.call(this,()=>(t=new rt(t),this.editor.applyDelta(t)),e,!0)}};Q(Le,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Ms,theme:"default"}),Q(Le,"events",et.events),Q(Le,"sources",et.sources),Q(Le,"version","2.0.2"),Q(Le,"imports",{delta:rt,parchment:Lh,"core/module":je,"core/theme":Xr});let A=Le;function ea(r){return typeof r=="string"?document.querySelector(r):r}function xi(r){return Object.entries(r??{}).reduce((t,e)=>{let[n,s]=e;return{...t,[n]:s===!0?{}:s}},{})}function na(r){return Object.fromEntries(Object.entries(r).filter(t=>t[1]!==void 0))}function s1(r,t){const e=ea(r);if(!e)throw new Error("Invalid Quill container");const s=!t.theme||t.theme===A.DEFAULTS.theme?Xr:A.import(`themes/${t.theme}`);if(!s)throw new Error(`Invalid theme ${t.theme}. Did you register it?`);const{modules:i,...a}=A.DEFAULTS,{modules:l,...u}=s.DEFAULTS;let p=xi(t.modules);p!=null&&p.toolbar&&p.toolbar.constructor!==Object&&(p={...p,toolbar:{container:p.toolbar}});const v=Dn({},xi(i),xi(l),p),C={...a,...na(u),...na(t)};let _=t.registry;return _?t.formats&&Zr.warn('Ignoring "formats" option because "registry" is specified'):_=t.formats?r1(t.formats,C.registry,Zr):C.registry,{...C,registry:_,container:e,theme:s,modules:Object.entries(v).reduce((k,E)=>{let[T,N]=E;if(!N)return k;const M=A.import(`modules/${T}`);return M==null?(Zr.error(`Cannot load ${T} module. Are you sure you registered it?`),k):{...k,[T]:Dn({},M.DEFAULTS||{},N)}},{}),bounds:ea(C.bounds)}}function Ae(r,t,e,n){if(!this.isEnabled()&&t===et.sources.USER&&!this.allowReadOnlyEdits)return new rt;let s=e==null?null:this.getSelection();const i=this.editor.delta,a=r();if(s!=null&&(e===!0&&(e=s.index),n==null?s=ra(s,a,t):n!==0&&(s=ra(s,e,n,t)),this.setSelection(s,et.sources.SILENT)),a.length()>0){const l=[et.events.TEXT_CHANGE,a,i,t];this.emitter.emit(et.events.EDITOR_CHANGE,...l),t!==et.sources.SILENT&&this.emitter.emit(...l)}return a}function hn(r,t,e,n,s){let i={};return typeof r.index=="number"&&typeof r.length=="number"?typeof t!="number"?(s=n,n=e,e=t,t=r.length,r=r.index):(t=r.length,r=r.index):typeof t!="number"&&(s=n,n=e,e=t,t=0),typeof e=="object"?(i=e,s=n):typeof e=="string"&&(n!=null?i[e]=n:s=e),s=s||et.sources.API,[r,t,i,s]}function ra(r,t,e,n){const s=typeof e=="number"?e:0;if(r==null)return null;let i,a;return t&&typeof t.transformPosition=="function"?[i,a]=[r.index,r.index+r.length].map(l=>t.transformPosition(l,n!==et.sources.USER)):[i,a]=[r.index,r.index+r.length].map(l=>l<t||l===t&&n===et.sources.USER?l:s>=0?l+s:Math.max(t,l+s)),new nr(i,a-i)}class rr extends ri{}function sa(r){return r instanceof Wt||r instanceof Ce}function ia(r){return typeof r.updateContent=="function"}class Ur extends so{constructor(t,e,n){let{emitter:s}=n;super(t,e),this.emitter=s,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",i=>this.handleDragStart(i))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const t=this.batch;this.batch=!1,this.update(t)}emitMount(t){this.emitter.emit(et.events.SCROLL_BLOT_MOUNT,t)}emitUnmount(t){this.emitter.emit(et.events.SCROLL_BLOT_UNMOUNT,t)}emitEmbedUpdate(t,e){this.emitter.emit(et.events.SCROLL_EMBED_UPDATE,t,e)}deleteAt(t,e){const[n,s]=this.line(t),[i]=this.line(t+e);if(super.deleteAt(t,e),i!=null&&n!==i&&s>0){if(n instanceof Ce||i instanceof Ce){this.optimize();return}const a=i.children.head instanceof Be?null:i.children.head;n.moveChildren(i,a),n.remove()}this.optimize()}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",t?"true":"false")}formatAt(t,e,n,s){super.formatAt(t,e,n,s),this.optimize()}insertAt(t,e,n){if(t>=this.length())if(n==null||this.scroll.query(e,st.BLOCK)==null){const s=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(s),n==null&&e.endsWith(`
`)?s.insertAt(0,e.slice(0,-1),n):s.insertAt(0,e,n)}else{const s=this.scroll.create(e,n);this.appendChild(s)}else super.insertAt(t,e,n);this.optimize()}insertBefore(t,e){if(t.statics.scope===st.INLINE_BLOT){const n=this.scroll.create(this.statics.defaultChild.blotName);n.appendChild(t),super.insertBefore(n,e)}else super.insertBefore(t,e)}insertContents(t,e){const n=this.deltaToRenderBlocks(e.concat(new rt().insert(`
`))),s=n.pop();if(s==null)return;this.batchStart();const i=n.shift();if(i){const u=i.type==="block"&&(i.delta.length()===0||!this.descendant(Ce,t)[0]&&t<this.length()),p=i.type==="block"?i.delta:new rt().insert({[i.key]:i.value});ki(this,t,p);const v=i.type==="block"?1:0,C=t+p.length()+v;u&&this.insertAt(C-1,`
`);const _=_e(this.line(t)[0]),k=xe.AttributeMap.diff(_,i.attributes)||{};Object.keys(k).forEach(E=>{this.formatAt(C-1,1,E,k[E])}),t=C}let[a,l]=this.children.find(t);if(n.length&&(a&&(a=a.split(l),l=0),n.forEach(u=>{if(u.type==="block"){const p=this.createBlock(u.attributes,a||void 0);ki(p,0,u.delta)}else{const p=this.create(u.key,u.value);this.insertBefore(p,a||void 0),Object.keys(u.attributes).forEach(v=>{p.format(v,u.attributes[v])})}})),s.type==="block"&&s.delta.length()){const u=a?a.offset(a.scroll)+l:this.length();ki(this,u,s.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(t){const e=this.path(t).pop();if(!e)return[null,-1];const[n,s]=e;return n instanceof te?[n,s]:[null,-1]}line(t){return t===this.length()?this.line(t-1):this.descendant(sa,t)}lines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const n=(s,i,a)=>{let l=[],u=a;return s.children.forEachAt(i,a,(p,v,C)=>{sa(p)?l.push(p):p instanceof ri&&(l=l.concat(n(p,v,u))),u-=C}),l};return n(this,t,e)}optimize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(t,e),t.length>0&&this.emitter.emit(et.events.SCROLL_OPTIMIZE,t,e))}path(t){return super.path(t).slice(1)}remove(){}update(t){if(this.batch){Array.isArray(t)&&(this.batch=this.batch.concat(t));return}let e=et.sources.USER;typeof t=="string"&&(e=t),Array.isArray(t)||(t=this.observer.takeRecords()),t=t.filter(n=>{let{target:s}=n;const i=this.find(s,!0);return i&&!ia(i)}),t.length>0&&this.emitter.emit(et.events.SCROLL_BEFORE_UPDATE,e,t),super.update(t.concat([])),t.length>0&&this.emitter.emit(et.events.SCROLL_UPDATE,e,t)}updateEmbedAt(t,e,n){const[s]=this.descendant(i=>i instanceof Ce,t);s&&s.statics.blotName===e&&ia(s)&&s.updateContent(n)}handleDragStart(t){t.preventDefault()}deltaToRenderBlocks(t){const e=[];let n=new rt;return t.forEach(s=>{const i=s==null?void 0:s.insert;if(i)if(typeof i=="string"){const a=i.split(`
`);a.slice(0,-1).forEach(u=>{n.insert(u,s.attributes),e.push({type:"block",delta:n,attributes:s.attributes??{}}),n=new rt});const l=a[a.length-1];l&&n.insert(l,s.attributes)}else{const a=Object.keys(i)[0];if(!a)return;this.query(a,st.INLINE)?n.push(s):(n.length()&&e.push({type:"block",delta:n,attributes:{}}),n=new rt,e.push({type:"blockEmbed",key:a,value:i[a],attributes:s.attributes??{}}))}}),n.length()&&e.push({type:"block",delta:n,attributes:{}}),e}createBlock(t,e){let n;const s={};Object.entries(t).forEach(l=>{let[u,p]=l;this.query(u,st.BLOCK&st.BLOT)!=null?n=u:s[u]=p});const i=this.create(n||this.statics.defaultChild.blotName,n?t[n]:void 0);this.insertBefore(i,e||void 0);const a=i.length();return Object.entries(s).forEach(l=>{let[u,p]=l;i.formatAt(0,a,u,p)}),i}}Q(Ur,"blotName","scroll"),Q(Ur,"className","ql-editor"),Q(Ur,"tagName","DIV"),Q(Ur,"defaultChild",Wt),Q(Ur,"allowedChildren",[Wt,Ce,rr]);function ki(r,t,e){e.reduce((n,s)=>{const i=xe.Op.length(s);let a=s.attributes||{};if(s.insert!=null){if(typeof s.insert=="string"){const l=s.insert;r.insertAt(n,l);const[u]=r.descendant(te,n),p=_e(u);a=xe.AttributeMap.diff(p,a)||{}}else if(typeof s.insert=="object"){const l=Object.keys(s.insert)[0];if(l==null)return n;if(r.insertAt(n,l,s.insert[l]),r.scroll.query(l,st.INLINE)!=null){const[p]=r.descendant(te,n),v=_e(p);a=xe.AttributeMap.diff(v,a)||{}}}}return Object.keys(a).forEach(l=>{r.formatAt(n,i,l,a[l])}),n+i},t)}const uo={scope:st.BLOCK,whitelist:["right","center","justify"]},i1=new Ge("align","align",uo),Ja=new Re("align","ql-align",uo),tl=new Un("align","text-align",uo);class el extends Un{value(t){let e=super.value(t);return e.startsWith("rgb(")?(e=e.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${e.split(",").map(s=>`00${parseInt(s,10).toString(16)}`.slice(-2)).join("")}`):e}}const o1=new Re("color","ql-color",{scope:st.INLINE}),ho=new el("color","color",{scope:st.INLINE}),a1=new Re("background","ql-bg",{scope:st.INLINE}),fo=new el("background","background-color",{scope:st.INLINE});class sr extends rr{static create(t){const e=super.create(t);return e.setAttribute("spellcheck","false"),e}code(t,e){return this.children.map(n=>n.length()<=1?"":n.domNode.innerText).join(`
`).slice(t,t+e)}html(t,e){return`<pre>
${ai(this.code(t,e))}
</pre>`}}class ee extends Wt{static register(){A.register(sr)}}Q(ee,"TAB","  ");class po extends zn{}po.blotName="code";po.tagName="CODE";ee.blotName="code-block";ee.className="ql-code-block";ee.tagName="DIV";sr.blotName="code-block-container";sr.className="ql-code-block-container";sr.tagName="DIV";sr.allowedChildren=[ee];ee.allowedChildren=[qe,Be,Yr];ee.requiredContainer=sr;const mo={scope:st.BLOCK,whitelist:["rtl"]},nl=new Ge("direction","dir",mo),rl=new Re("direction","ql-direction",mo),sl=new Un("direction","direction",mo),il={scope:st.INLINE,whitelist:["serif","monospace"]},ol=new Re("font","ql-font",il);class l1 extends Un{value(t){return super.value(t).replace(/["']/g,"")}}const al=new l1("font","font-family",il),ll=new Re("size","ql-size",{scope:st.INLINE,whitelist:["small","large","huge"]}),cl=new Un("size","font-size",{scope:st.INLINE,whitelist:["10px","18px","32px"]}),c1=mn("quill:keyboard"),u1=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class li extends je{static match(t,e){return["altKey","ctrlKey","metaKey","shiftKey"].some(n=>!!e[n]!==t[n]&&e[n]!==null)?!1:e.key===t.key||e.key===t.which}constructor(t,e){super(t,e),this.bindings={},Object.keys(this.options.bindings).forEach(n=>{this.options.bindings[n]&&this.addBinding(this.options.bindings[n])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=d1(t);if(s==null){c1.warn("Attempted to add invalid keyboard binding",s);return}typeof e=="function"&&(e={handler:e}),typeof n=="function"&&(n={handler:n}),(Array.isArray(s.key)?s.key:[s.key]).forEach(a=>{const l={...s,key:a,...e,...n};this.bindings[l.key]=this.bindings[l.key]||[],this.bindings[l.key].push(l)})}listen(){this.quill.root.addEventListener("keydown",t=>{if(t.defaultPrevented||t.isComposing||t.keyCode===229&&(t.key==="Enter"||t.key==="Backspace"))return;const s=(this.bindings[t.key]||[]).concat(this.bindings[t.which]||[]).filter(M=>li.match(t,M));if(s.length===0)return;const i=A.find(t.target,!0);if(i&&i.scroll!==this.quill.scroll)return;const a=this.quill.getSelection();if(a==null||!this.quill.hasFocus())return;const[l,u]=this.quill.getLine(a.index),[p,v]=this.quill.getLeaf(a.index),[C,_]=a.length===0?[p,v]:this.quill.getLeaf(a.index+a.length),k=p instanceof Ks?p.value().slice(0,v):"",E=C instanceof Ks?C.value().slice(_):"",T={collapsed:a.length===0,empty:a.length===0&&l.length()<=1,format:this.quill.getFormat(a),line:l,offset:u,prefix:k,suffix:E,event:t};s.some(M=>{if(M.collapsed!=null&&M.collapsed!==T.collapsed||M.empty!=null&&M.empty!==T.empty||M.offset!=null&&M.offset!==T.offset)return!1;if(Array.isArray(M.format)){if(M.format.every(D=>T.format[D]==null))return!1}else if(typeof M.format=="object"&&!Object.keys(M.format).every(D=>M.format[D]===!0?T.format[D]!=null:M.format[D]===!1?T.format[D]==null:no(M.format[D],T.format[D])))return!1;return M.prefix!=null&&!M.prefix.test(T.prefix)||M.suffix!=null&&!M.suffix.test(T.suffix)?!1:M.handler.call(this,a,T,M)!==!0})&&t.preventDefault()})}handleBackspace(t,e){const n=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;if(t.index===0||this.quill.getLength()<=1)return;let s={};const[i]=this.quill.getLine(t.index);let a=new rt().retain(t.index-n).delete(n);if(e.offset===0){const[l]=this.quill.getLine(t.index-1);if(l&&!(l.statics.blotName==="block"&&l.length()<=1)){const p=i.formats(),v=this.quill.getFormat(t.index-1,1);if(s=xe.AttributeMap.diff(p,v)||{},Object.keys(s).length>0){const C=new rt().retain(t.index+i.length()-2).retain(1,s);a=a.compose(C)}}}this.quill.updateContents(a,A.sources.USER),this.quill.focus()}handleDelete(t,e){const n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(t.index>=this.quill.getLength()-n)return;let s={};const[i]=this.quill.getLine(t.index);let a=new rt().retain(t.index).delete(n);if(e.offset>=i.length()-1){const[l]=this.quill.getLine(t.index+1);if(l){const u=i.formats(),p=this.quill.getFormat(t.index,1);s=xe.AttributeMap.diff(u,p)||{},Object.keys(s).length>0&&(a=a.retain(l.length()-1).retain(1,s))}}this.quill.updateContents(a,A.sources.USER),this.quill.focus()}handleDeleteRange(t){go({range:t,quill:this.quill}),this.quill.focus()}handleEnter(t,e){const n=Object.keys(e.format).reduce((i,a)=>(this.quill.scroll.query(a,st.BLOCK)&&!Array.isArray(e.format[a])&&(i[a]=e.format[a]),i),{}),s=new rt().retain(t.index).delete(t.length).insert(`
`,n);this.quill.updateContents(s,A.sources.USER),this.quill.setSelection(t.index+1,A.sources.SILENT),this.quill.focus()}}const h1={bindings:{bold:Ei("bold"),italic:Ei("italic"),underline:Ei("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(r,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","+1",A.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(r,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","-1",A.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(r,t){t.format.indent!=null?this.quill.format("indent","-1",A.sources.USER):t.format.list!=null&&this.quill.format("list",!1,A.sources.USER)}},"indent code-block":oa(!0),"outdent code-block":oa(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(r){this.quill.deleteText(r.index-1,1,A.sources.USER)}},tab:{key:"Tab",handler(r,t){if(t.format.table)return!0;this.quill.history.cutoff();const e=new rt().retain(r.index).delete(r.length).insert("	");return this.quill.updateContents(e,A.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(r.index+1,A.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,A.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(r,t){const e={list:!1};t.format.indent&&(e.indent=!1),this.quill.formatLine(r.index,r.length,e,A.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(r){const[t,e]=this.quill.getLine(r.index),n={...t.formats(),list:"checked"},s=new rt().retain(r.index).insert(`
`,n).retain(t.length()-e-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,A.sources.USER),this.quill.setSelection(r.index+1,A.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(r,t){const[e,n]=this.quill.getLine(r.index),s=new rt().retain(r.index).insert(`
`,t.format).retain(e.length()-n-1).retain(1,{header:null});this.quill.updateContents(s,A.sources.USER),this.quill.setSelection(r.index+1,A.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(r){const t=this.quill.getModule("table");if(t){const[e,n,s,i]=t.getTable(r),a=f1(e,n,s,i);if(a==null)return;let l=e.offset();if(a<0){const u=new rt().retain(l).insert(`
`);this.quill.updateContents(u,A.sources.USER),this.quill.setSelection(r.index+1,r.length,A.sources.SILENT)}else if(a>0){l+=e.length();const u=new rt().retain(l).insert(`
`);this.quill.updateContents(u,A.sources.USER),this.quill.setSelection(l,A.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(r,t){const{event:e,line:n}=t,s=n.offset(this.quill.scroll);e.shiftKey?this.quill.setSelection(s-1,A.sources.USER):this.quill.setSelection(s+n.length(),A.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(r,t){if(this.quill.scroll.query("list")==null)return!0;const{length:e}=t.prefix,[n,s]=this.quill.getLine(r.index);if(s>e)return!0;let i;switch(t.prefix.trim()){case"[]":case"[ ]":i="unchecked";break;case"[x]":i="checked";break;case"-":case"*":i="bullet";break;default:i="ordered"}this.quill.insertText(r.index," ",A.sources.USER),this.quill.history.cutoff();const a=new rt().retain(r.index-s).delete(e+1).retain(n.length()-2-s).retain(1,{list:i});return this.quill.updateContents(a,A.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(r.index-e,A.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(r){const[t,e]=this.quill.getLine(r.index);let n=2,s=t;for(;s!=null&&s.length()<=1&&s.formats()["code-block"];)if(s=s.prev,n-=1,n<=0){const i=new rt().retain(r.index+t.length()-e-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(i,A.sources.USER),this.quill.setSelection(r.index-1,A.sources.SILENT),!1}return!0}},"embed left":Is("ArrowLeft",!1),"embed left shift":Is("ArrowLeft",!0),"embed right":Is("ArrowRight",!1),"embed right shift":Is("ArrowRight",!0),"table down":aa(!1),"table up":aa(!0)}};li.DEFAULTS=h1;function oa(r){return{key:"Tab",shiftKey:!r,format:{"code-block":!0},handler(t,e){let{event:n}=e;const s=this.quill.scroll.query("code-block"),{TAB:i}=s;if(t.length===0&&!n.shiftKey){this.quill.insertText(t.index,i,A.sources.USER),this.quill.setSelection(t.index+i.length,A.sources.SILENT);return}const a=t.length===0?this.quill.getLines(t.index,1):this.quill.getLines(t);let{index:l,length:u}=t;a.forEach((p,v)=>{r?(p.insertAt(0,i),v===0?l+=i.length:u+=i.length):p.domNode.textContent.startsWith(i)&&(p.deleteAt(0,i.length),v===0?l-=i.length:u-=i.length)}),this.quill.update(A.sources.USER),this.quill.setSelection(l,u,A.sources.SILENT)}}}function Is(r,t){return{key:r,shiftKey:t,altKey:null,[r==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(n){let{index:s}=n;r==="ArrowRight"&&(s+=n.length+1);const[i]=this.quill.getLeaf(s);return i instanceof pe?(r==="ArrowLeft"?t?this.quill.setSelection(n.index-1,n.length+1,A.sources.USER):this.quill.setSelection(n.index-1,A.sources.USER):t?this.quill.setSelection(n.index,n.length+1,A.sources.USER):this.quill.setSelection(n.index+n.length+1,A.sources.USER),!1):!0}}}function Ei(r){return{key:r[0],shortKey:!0,handler(t,e){this.quill.format(r,!e.format[r],A.sources.USER)}}}function aa(r){return{key:r?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(t,e){const n=r?"prev":"next",s=e.line,i=s.parent[n];if(i!=null){if(i.statics.blotName==="table-row"){let a=i.children.head,l=s;for(;l.prev!=null;)l=l.prev,a=a.next;const u=a.offset(this.quill.scroll)+Math.min(e.offset,a.length()-1);this.quill.setSelection(u,0,A.sources.USER)}}else{const a=s.table()[n];a!=null&&(r?this.quill.setSelection(a.offset(this.quill.scroll)+a.length()-1,0,A.sources.USER):this.quill.setSelection(a.offset(this.quill.scroll),0,A.sources.USER))}return!1}}}function d1(r){if(typeof r=="string"||typeof r=="number")r={key:r};else if(typeof r=="object")r=Vr(r);else return null;return r.shortKey&&(r[u1]=r.shortKey,delete r.shortKey),r}function go(r){let{quill:t,range:e}=r;const n=t.getLines(e);let s={};if(n.length>1){const i=n[0].formats(),a=n[n.length-1].formats();s=xe.AttributeMap.diff(a,i)||{}}t.deleteText(e,A.sources.USER),Object.keys(s).length>0&&t.formatLine(e.index,1,s,A.sources.USER),t.setSelection(e.index,A.sources.SILENT)}function f1(r,t,e,n){return t.prev==null&&t.next==null?e.prev==null&&e.next==null?n===0?-1:1:e.prev==null?-1:1:t.prev==null?-1:t.next==null?1:null}const p1=/font-weight:\s*normal/,m1=["P","OL","UL"],la=r=>r&&m1.includes(r.tagName),g1=r=>{Array.from(r.querySelectorAll("br")).filter(t=>la(t.previousElementSibling)&&la(t.nextElementSibling)).forEach(t=>{var e;(e=t.parentNode)==null||e.removeChild(t)})},b1=r=>{Array.from(r.querySelectorAll('b[style*="font-weight"]')).filter(t=>{var e;return(e=t.getAttribute("style"))==null?void 0:e.match(p1)}).forEach(t=>{var n;const e=r.createDocumentFragment();e.append(...t.childNodes),(n=t.parentNode)==null||n.replaceChild(e,t)})};function v1(r){r.querySelector('[id^="docs-internal-guid-"]')&&(b1(r),g1(r))}const y1=/\bmso-list:[^;]*ignore/i,_1=/\bmso-list:[^;]*\bl(\d+)/i,w1=/\bmso-list:[^;]*\blevel(\d+)/i,C1=(r,t)=>{const e=r.getAttribute("style"),n=e==null?void 0:e.match(_1);if(!n)return null;const s=Number(n[1]),i=e==null?void 0:e.match(w1),a=i?Number(i[1]):1,l=new RegExp(`@list l${s}:level${a}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),u=t.match(l),p=u&&u[1]==="bullet"?"bullet":"ordered";return{id:s,indent:a,type:p,element:r}},x1=r=>{var a,l;const t=Array.from(r.querySelectorAll("[style*=mso-list]")),e=[],n=[];t.forEach(u=>{(u.getAttribute("style")||"").match(y1)?e.push(u):n.push(u)}),e.forEach(u=>{var p;return(p=u.parentNode)==null?void 0:p.removeChild(u)});const s=r.documentElement.innerHTML,i=n.map(u=>C1(u,s)).filter(u=>u);for(;i.length;){const u=[];let p=i.shift();for(;p;)u.push(p),p=i.length&&((a=i[0])==null?void 0:a.element)===p.element.nextElementSibling&&i[0].id===p.id?i.shift():null;const v=document.createElement("ul");u.forEach(k=>{const E=document.createElement("li");E.setAttribute("data-list",k.type),k.indent>1&&E.setAttribute("class",`ql-indent-${k.indent-1}`),E.innerHTML=k.element.innerHTML,v.appendChild(E)});const C=(l=u[0])==null?void 0:l.element,{parentNode:_}=C??{};C&&(_==null||_.replaceChild(v,C)),u.slice(1).forEach(k=>{let{element:E}=k;_==null||_.removeChild(E)})}};function k1(r){r.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&x1(r)}const E1=[k1,v1],S1=r=>{r.documentElement&&E1.forEach(t=>{t(r)})},T1=mn("quill:clipboard"),A1=[[Node.TEXT_NODE,H1],[Node.TEXT_NODE,ua],["br",q1],[Node.ELEMENT_NODE,ua],[Node.ELEMENT_NODE,O1],[Node.ELEMENT_NODE,I1],[Node.ELEMENT_NODE,$1],["li",j1],["ol, ul",P1],["pre",R1],["tr",D1],["b",Si("bold")],["i",Si("italic")],["strike",Si("strike")],["style",B1]],L1=[i1,nl].reduce((r,t)=>(r[t.keyName]=t,r),{}),ca=[tl,fo,ho,sl,al,cl].reduce((r,t)=>(r[t.keyName]=t,r),{});var Ai;let N1=(Ai=class extends je{constructor(t,e){super(t,e),this.quill.root.addEventListener("copy",n=>this.onCaptureCopy(n,!1)),this.quill.root.addEventListener("cut",n=>this.onCaptureCopy(n,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],A1.concat(this.options.matchers??[]).forEach(n=>{let[s,i]=n;this.addMatcher(s,i)})}addMatcher(t,e){this.matchers.push([t,e])}convert(t){let{html:e,text:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(s[ee.blotName])return new rt().insert(n||"",{[ee.blotName]:s[ee.blotName]});if(!e)return new rt().insert(n||"",s);const i=this.convertHTML(e);return Cs(i,`
`)&&(i.ops[i.ops.length-1].attributes==null||s.table)?i.compose(new rt().retain(i.length()-1).delete(1)):i}normalizeHTML(t){S1(t)}convertHTML(t){const e=new DOMParser().parseFromString(t,"text/html");this.normalizeHTML(e);const n=e.body,s=new WeakMap,[i,a]=this.prepareMatching(n,s);return bo(this.quill.scroll,n,i,a,s)}dangerouslyPasteHTML(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:A.sources.API;if(typeof t=="string"){const s=this.convert({html:t,text:""});this.quill.setContents(s,e),this.quill.setSelection(0,A.sources.SILENT)}else{const s=this.convert({html:e,text:""});this.quill.updateContents(new rt().retain(t).concat(s),n),this.quill.setSelection(t+s.length(),A.sources.SILENT)}}onCaptureCopy(t){var a,l;let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t.defaultPrevented)return;t.preventDefault();const[n]=this.quill.selection.getRange();if(n==null)return;const{html:s,text:i}=this.onCopy(n,e);(a=t.clipboardData)==null||a.setData("text/plain",i),(l=t.clipboardData)==null||l.setData("text/html",s),e&&go({range:n,quill:this.quill})}normalizeURIList(t){return t.split(/\r?\n/).filter(e=>e[0]!=="#").join(`
`)}onCapturePaste(t){var a,l,u,p,v;if(t.defaultPrevented||!this.quill.isEnabled())return;t.preventDefault();const e=this.quill.getSelection(!0);if(e==null)return;const n=(a=t.clipboardData)==null?void 0:a.getData("text/html");let s=(l=t.clipboardData)==null?void 0:l.getData("text/plain");if(!n&&!s){const C=(u=t.clipboardData)==null?void 0:u.getData("text/uri-list");C&&(s=this.normalizeURIList(C))}const i=Array.from(((p=t.clipboardData)==null?void 0:p.files)||[]);if(!n&&i.length>0){this.quill.uploader.upload(e,i);return}if(n&&i.length>0){const C=new DOMParser().parseFromString(n,"text/html");if(C.body.childElementCount===1&&((v=C.body.firstElementChild)==null?void 0:v.tagName)==="IMG"){this.quill.uploader.upload(e,i);return}}this.onPaste(e,{html:n,text:s})}onCopy(t){const e=this.quill.getText(t);return{html:this.quill.getSemanticHTML(t),text:e}}onPaste(t,e){let{text:n,html:s}=e;const i=this.quill.getFormat(t.index),a=this.convert({text:n,html:s},i);T1.log("onPaste",a,{text:n,html:s});const l=new rt().retain(t.index).delete(t.length).concat(a);this.quill.updateContents(l,A.sources.USER),this.quill.setSelection(l.length()-t.length,A.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(t,e){const n=[],s=[];return this.matchers.forEach(i=>{const[a,l]=i;switch(a){case Node.TEXT_NODE:s.push(l);break;case Node.ELEMENT_NODE:n.push(l);break;default:Array.from(t.querySelectorAll(a)).forEach(u=>{if(e.has(u)){const p=e.get(u);p==null||p.push(l)}else e.set(u,[l])});break}}),[n,s]}},Q(Ai,"DEFAULTS",{matchers:[]}),Ai);function ir(r,t,e,n){return n.query(t)?r.reduce((s,i)=>{if(!i.insert)return s;if(i.attributes&&i.attributes[t])return s.push(i);const a=e?{[t]:e}:{};return s.insert(i.insert,{...a,...i.attributes})},new rt):r}function Cs(r,t){let e="";for(let n=r.ops.length-1;n>=0&&e.length<t.length;--n){const s=r.ops[n];if(typeof s.insert!="string")break;e=s.insert+e}return e.slice(-1*t.length)===t}function $n(r,t){if(!(r instanceof Element))return!1;const e=t.query(r);return e&&e.prototype instanceof pe?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(r.tagName.toLowerCase())}function M1(r,t){return r.previousElementSibling&&r.nextElementSibling&&!$n(r.previousElementSibling,t)&&!$n(r.nextElementSibling,t)}const Os=new WeakMap;function ul(r){return r==null?!1:(Os.has(r)||(r.tagName==="PRE"?Os.set(r,!0):Os.set(r,ul(r.parentNode))),Os.get(r))}function bo(r,t,e,n,s){return t.nodeType===t.TEXT_NODE?n.reduce((i,a)=>a(t,i,r),new rt):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce((i,a)=>{let l=bo(r,a,e,n,s);return a.nodeType===t.ELEMENT_NODE&&(l=e.reduce((u,p)=>p(a,u,r),l),l=(s.get(a)||[]).reduce((u,p)=>p(a,u,r),l)),i.concat(l)},new rt):new rt}function Si(r){return(t,e,n)=>ir(e,r,!0,n)}function I1(r,t,e){const n=Ge.keys(r),s=Re.keys(r),i=Un.keys(r),a={};return n.concat(s).concat(i).forEach(l=>{let u=e.query(l,st.ATTRIBUTE);u!=null&&(a[u.attrName]=u.value(r),a[u.attrName])||(u=L1[l],u!=null&&(u.attrName===l||u.keyName===l)&&(a[u.attrName]=u.value(r)||void 0),u=ca[l],u!=null&&(u.attrName===l||u.keyName===l)&&(u=ca[l],a[u.attrName]=u.value(r)||void 0))}),Object.entries(a).reduce((l,u)=>{let[p,v]=u;return ir(l,p,v,e)},t)}function O1(r,t,e){const n=e.query(r);if(n==null)return t;if(n.prototype instanceof pe){const s={},i=n.value(r);if(i!=null)return s[n.blotName]=i,new rt().insert(s,n.formats(r,e))}else if(n.prototype instanceof bs&&!Cs(t,`
`)&&t.insert(`
`),"blotName"in n&&"formats"in n&&typeof n.formats=="function")return ir(t,n.blotName,n.formats(r,e),e);return t}function q1(r,t){return Cs(t,`
`)||t.insert(`
`),t}function R1(r,t,e){const n=e.query("code-block"),s=n&&"formats"in n&&typeof n.formats=="function"?n.formats(r,e):!0;return ir(t,"code-block",s,e)}function B1(){return new rt}function j1(r,t,e){const n=e.query(r);if(n==null||n.blotName!=="list"||!Cs(t,`
`))return t;let s=-1,i=r.parentNode;for(;i!=null;)["OL","UL"].includes(i.tagName)&&(s+=1),i=i.parentNode;return s<=0?t:t.reduce((a,l)=>l.insert?l.attributes&&typeof l.attributes.indent=="number"?a.push(l):a.insert(l.insert,{indent:s,...l.attributes||{}}):a,new rt)}function P1(r,t,e){const n=r;let s=n.tagName==="OL"?"ordered":"bullet";const i=n.getAttribute("data-checked");return i&&(s=i==="true"?"checked":"unchecked"),ir(t,"list",s,e)}function ua(r,t,e){if(!Cs(t,`
`)){if($n(r,e)&&(r.childNodes.length>0||r instanceof HTMLParagraphElement))return t.insert(`
`);if(t.length()>0&&r.nextSibling){let n=r.nextSibling;for(;n!=null;){if($n(n,e))return t.insert(`
`);const s=e.query(n);if(s&&s.prototype instanceof Ce)return t.insert(`
`);n=n.firstChild}}}return t}function $1(r,t,e){var i;const n={},s=r.style||{};return s.fontStyle==="italic"&&(n.italic=!0),s.textDecoration==="underline"&&(n.underline=!0),s.textDecoration==="line-through"&&(n.strike=!0),((i=s.fontWeight)!=null&&i.startsWith("bold")||parseInt(s.fontWeight,10)>=700)&&(n.bold=!0),t=Object.entries(n).reduce((a,l)=>{let[u,p]=l;return ir(a,u,p,e)},t),parseFloat(s.textIndent||0)>0?new rt().insert("	").concat(t):t}function D1(r,t,e){var s,i;const n=((s=r.parentElement)==null?void 0:s.tagName)==="TABLE"?r.parentElement:(i=r.parentElement)==null?void 0:i.parentElement;if(n!=null){const l=Array.from(n.querySelectorAll("tr")).indexOf(r)+1;return ir(t,"table",l,e)}return t}function H1(r,t,e){var s;let n=r.data;if(((s=r.parentElement)==null?void 0:s.tagName)==="O:P")return t.insert(n.trim());if(!ul(r)){if(n.trim().length===0&&n.includes(`
`)&&!M1(r,e))return t;const i=(a,l)=>{const u=l.replace(/[^\u00a0]/g,"");return u.length<1&&a?" ":u};n=n.replace(/\r\n/g," ").replace(/\n/g," "),n=n.replace(/\s\s+/g,i.bind(i,!0)),(r.previousSibling==null&&r.parentElement!=null&&$n(r.parentElement,e)||r.previousSibling instanceof Element&&$n(r.previousSibling,e))&&(n=n.replace(/^\s+/,i.bind(i,!1))),(r.nextSibling==null&&r.parentElement!=null&&$n(r.parentElement,e)||r.nextSibling instanceof Element&&$n(r.nextSibling,e))&&(n=n.replace(/\s+$/,i.bind(i,!1)))}return t.insert(n)}class hl extends je{constructor(e,n){super(e,n);Q(this,"lastRecorded",0);Q(this,"ignoreChange",!1);Q(this,"stack",{undo:[],redo:[]});Q(this,"currentRange",null);this.quill.on(A.events.EDITOR_CHANGE,(s,i,a,l)=>{s===A.events.SELECTION_CHANGE?i&&l!==A.sources.SILENT&&(this.currentRange=i):s===A.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||l===A.sources.USER?this.record(i,a):this.transform(i)),this.currentRange=Wi(this.currentRange,i))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",s=>{s.inputType==="historyUndo"?(this.undo(),s.preventDefault()):s.inputType==="historyRedo"&&(this.redo(),s.preventDefault())})}change(e,n){if(this.stack[e].length===0)return;const s=this.stack[e].pop();if(!s)return;const i=this.quill.getContents(),a=s.delta.invert(i);this.stack[n].push({delta:a,range:Wi(s.range,a)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(s.delta,A.sources.USER),this.ignoreChange=!1,this.restoreSelection(s)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(e,n){if(e.ops.length===0)return;this.stack.redo=[];let s=e.invert(n),i=this.currentRange;const a=Date.now();if(this.lastRecorded+this.options.delay>a&&this.stack.undo.length>0){const l=this.stack.undo.pop();l&&(s=s.compose(l.delta),i=l.range)}else this.lastRecorded=a;s.length()!==0&&(this.stack.undo.push({delta:s,range:i}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(e){ha(this.stack.undo,e),ha(this.stack.redo,e)}undo(){this.change("undo","redo")}restoreSelection(e){if(e.range)this.quill.setSelection(e.range,A.sources.USER);else{const n=z1(this.quill.scroll,e.delta);this.quill.setSelection(n,A.sources.USER)}}}Q(hl,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function ha(r,t){let e=t;for(let n=r.length-1;n>=0;n-=1){const s=r[n];r[n]={delta:e.transform(s.delta,!0),range:s.range&&Wi(s.range,e)},e=s.delta.transform(e),r[n].delta.length()===0&&r.splice(n,1)}}function U1(r,t){const e=t.ops[t.ops.length-1];return e==null?!1:e.insert!=null?typeof e.insert=="string"&&e.insert.endsWith(`
`):e.attributes!=null?Object.keys(e.attributes).some(n=>r.query(n,st.BLOCK)!=null):!1}function z1(r,t){const e=t.reduce((s,i)=>s+(i.delete||0),0);let n=t.length()-e;return U1(r,t)&&(n-=1),n}function Wi(r,t){if(!r)return r;const e=t.transformPosition(r.index),n=t.transformPosition(r.index+r.length);return{index:e,length:n-e}}class dl extends je{constructor(t,e){super(t,e),t.root.addEventListener("drop",n=>{var a;n.preventDefault();let s=null;if(document.caretRangeFromPoint)s=document.caretRangeFromPoint(n.clientX,n.clientY);else if(document.caretPositionFromPoint){const l=document.caretPositionFromPoint(n.clientX,n.clientY);s=document.createRange(),s.setStart(l.offsetNode,l.offset),s.setEnd(l.offsetNode,l.offset)}const i=s&&t.selection.normalizeNative(s);if(i){const l=t.selection.normalizedToRange(i);(a=n.dataTransfer)!=null&&a.files&&this.upload(l,n.dataTransfer.files)}})}upload(t,e){const n=[];Array.from(e).forEach(s=>{var i;s&&((i=this.options.mimetypes)!=null&&i.includes(s.type))&&n.push(s)}),n.length>0&&this.options.handler.call(this,t,n)}}dl.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(r,t){if(!this.quill.scroll.query("image"))return;const e=t.map(n=>new Promise(s=>{const i=new FileReader;i.onload=()=>{s(i.result)},i.readAsDataURL(n)}));Promise.all(e).then(n=>{const s=n.reduce((i,a)=>i.insert({image:a}),new rt().retain(r.index).delete(r.length));this.quill.updateContents(s,et.sources.USER),this.quill.setSelection(r.index+n.length,et.sources.SILENT)})}};const V1=["insertText","insertReplacementText"];class F1 extends je{constructor(t,e){super(t,e),t.root.addEventListener("beforeinput",n=>{this.handleBeforeInput(n)}),/Android/i.test(navigator.userAgent)||t.on(A.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(t){go({range:t,quill:this.quill})}replaceText(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(t.length===0)return!1;if(e){const n=this.quill.getFormat(t.index,1);this.deleteRange(t),this.quill.updateContents(new rt().retain(t.index).insert(e,n),A.sources.USER)}else this.deleteRange(t);return this.quill.setSelection(t.index+e.length,0,A.sources.SILENT),!0}handleBeforeInput(t){if(this.quill.composition.isComposing||t.defaultPrevented||!V1.includes(t.inputType))return;const e=t.getTargetRanges?t.getTargetRanges()[0]:null;if(!e||e.collapsed===!0)return;const n=Z1(t);if(n==null)return;const s=this.quill.selection.normalizeNative(e),i=s?this.quill.selection.normalizedToRange(s):null;i&&this.replaceText(i,n)&&t.preventDefault()}handleCompositionStart(){const t=this.quill.getSelection();t&&this.replaceText(t)}}function Z1(r){var t;return typeof r.data=="string"?r.data:(t=r.dataTransfer)!=null&&t.types.includes("text/plain")?r.dataTransfer.getData("text/plain"):null}const W1=/Mac/i.test(navigator.platform),K1=100,G1=r=>!!(r.key==="ArrowLeft"||r.key==="ArrowRight"||r.key==="ArrowUp"||r.key==="ArrowDown"||r.key==="Home"||W1&&r.key==="a"&&r.ctrlKey===!0);class Y1 extends je{constructor(e,n){super(e,n);Q(this,"isListening",!1);Q(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(e,n){let{line:s,event:i}=n;if(!(s instanceof Oe)||!s.uiNode)return!0;const a=getComputedStyle(s.domNode).direction==="rtl";return a&&i.key!=="ArrowRight"||!a&&i.key!=="ArrowLeft"?!0:(this.quill.setSelection(e.index-1,e.length+(i.shiftKey?1:0),A.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",e=>{!e.defaultPrevented&&G1(e)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+K1,this.isListening)return;this.isListening=!0;const e=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",e,{once:!0})}handleSelectionChange(){const e=document.getSelection();if(!e)return;const n=e.getRangeAt(0);if(n.collapsed!==!0||n.startOffset!==0)return;const s=this.quill.scroll.find(n.startContainer);if(!(s instanceof Oe)||!s.uiNode)return;const i=document.createRange();i.setStartAfter(s.uiNode),i.setEndAfter(s.uiNode),e.removeAllRanges(),e.addRange(i)}}A.register({"blots/block":Wt,"blots/block/embed":Ce,"blots/break":Be,"blots/container":rr,"blots/cursor":Yr,"blots/embed":co,"blots/inline":zn,"blots/scroll":Ur,"blots/text":qe,"modules/clipboard":N1,"modules/history":hl,"modules/keyboard":li,"modules/uploader":dl,"modules/input":F1,"modules/uiNode":Y1});class X1 extends Re{add(t,e){let n=0;if(e==="+1"||e==="-1"){const s=this.value(t)||0;n=e==="+1"?s+1:s-1}else typeof e=="number"&&(n=e);return n===0?(this.remove(t),!0):super.add(t,n.toString())}canAdd(t,e){return super.canAdd(t,e)||super.canAdd(t,parseInt(e,10))}value(t){return parseInt(super.value(t),10)||void 0}}const Q1=new X1("indent","ql-indent",{scope:st.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class Ki extends Wt{}Q(Ki,"blotName","blockquote"),Q(Ki,"tagName","blockquote");class Gi extends Wt{static formats(t){return this.tagName.indexOf(t.tagName)+1}}Q(Gi,"blotName","header"),Q(Gi,"tagName",["H1","H2","H3","H4","H5","H6"]);class xs extends rr{}xs.blotName="list-container";xs.tagName="OL";class ks extends Wt{static create(t){const e=super.create();return e.setAttribute("data-list",t),e}static formats(t){return t.getAttribute("data-list")||void 0}static register(){A.register(xs)}constructor(t,e){super(t,e);const n=e.ownerDocument.createElement("span"),s=i=>{if(!t.isEnabled())return;const a=this.statics.formats(e,t);a==="checked"?(this.format("list","unchecked"),i.preventDefault()):a==="unchecked"&&(this.format("list","checked"),i.preventDefault())};n.addEventListener("mousedown",s),n.addEventListener("touchstart",s),this.attachUI(n)}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-list",e):super.format(t,e)}}ks.blotName="list";ks.tagName="LI";xs.allowedChildren=[ks];ks.requiredContainer=xs;class _s extends zn{static create(){return super.create()}static formats(){return!0}optimize(t){super.optimize(t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}Q(_s,"blotName","bold"),Q(_s,"tagName",["STRONG","B"]);var Rs;let J1=(Rs=class extends _s{},Q(Rs,"blotName","italic"),Q(Rs,"tagName",["EM","I"]),Rs);var Br;let Xs=(Br=class extends zn{static create(t){const e=super.create(t);return e.setAttribute("href",this.sanitize(t)),e.setAttribute("rel","noopener noreferrer"),e.setAttribute("target","_blank"),e}static formats(t){return t.getAttribute("href")}static sanitize(t){return fl(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,e){t!==this.statics.blotName||!e?super.format(t,e):this.domNode.setAttribute("href",this.constructor.sanitize(e))}},Q(Br,"blotName","link"),Q(Br,"tagName","A"),Q(Br,"SANITIZED_URL","about:blank"),Q(Br,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]),Br);function fl(r,t){const e=document.createElement("a");e.href=r;const n=e.href.slice(0,e.href.indexOf(":"));return t.indexOf(n)>-1}class Yi extends zn{static create(t){return t==="super"?document.createElement("sup"):t==="sub"?document.createElement("sub"):super.create(t)}static formats(t){if(t.tagName==="SUB")return"sub";if(t.tagName==="SUP")return"super"}}Q(Yi,"blotName","script"),Q(Yi,"tagName",["SUB","SUP"]);class Xi extends _s{}Q(Xi,"blotName","strike"),Q(Xi,"tagName",["S","STRIKE"]);class Qi extends zn{}Q(Qi,"blotName","underline"),Q(Qi,"tagName","U");class $s extends co{static create(t){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const e=super.create(t);return typeof t=="string"&&(window.katex.render(t,e,{throwOnError:!1,errorColor:"#f00"}),e.setAttribute("data-value",t)),e}static value(t){return t.getAttribute("data-value")}html(){const{formula:t}=this.value();return`<span>${t}</span>`}}Q($s,"blotName","formula"),Q($s,"className","ql-formula"),Q($s,"tagName","SPAN");const da=["alt","height","width"];var Bs;let td=(Bs=class extends pe{static create(t){const e=super.create(t);return typeof t=="string"&&e.setAttribute("src",this.sanitize(t)),e}static formats(t){return da.reduce((e,n)=>(t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e),{})}static match(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}static sanitize(t){return fl(t,["http","https","data"])?t:"//:0"}static value(t){return t.getAttribute("src")}format(t,e){da.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}},Q(Bs,"blotName","image"),Q(Bs,"tagName","IMG"),Bs);const fa=["height","width"];class Ds extends Ce{static create(t){const e=super.create(t);return e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen","true"),e.setAttribute("src",this.sanitize(t)),e}static formats(t){return fa.reduce((e,n)=>(t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e),{})}static sanitize(t){return Xs.sanitize(t)}static value(t){return t.getAttribute("src")}format(t,e){fa.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}html(){const{video:t}=this.value();return`<a href="${t}">${t}</a>`}}Q(Ds,"blotName","video"),Q(Ds,"className","ql-video"),Q(Ds,"tagName","IFRAME");const fs=new Re("code-token","hljs",{scope:st.INLINE});class fn extends zn{static formats(t,e){for(;t!=null&&t!==e.domNode;){if(t.classList&&t.classList.contains(ee.className))return super.formats(t,e);t=t.parentNode}}constructor(t,e,n){super(t,e,n),fs.add(this.domNode,n)}format(t,e){t!==fn.blotName?super.format(t,e):e?fs.add(this.domNode,e):(fs.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),fs.value(this.domNode)||this.unwrap()}}fn.blotName="code-token";fn.className="ql-token";class we extends ee{static create(t){const e=super.create(t);return typeof t=="string"&&e.setAttribute("data-language",t),e}static formats(t){return t.getAttribute("data-language")||"plain"}static register(){}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-language",e):super.format(t,e)}replaceWith(t,e){return this.formatAt(0,this.length(),fn.blotName,!1),super.replaceWith(t,e)}}class ps extends sr{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(t,e){t===we.blotName&&(this.forceNext=!0,this.children.forEach(n=>{n.format(t,e)}))}formatAt(t,e,n,s){n===we.blotName&&(this.forceNext=!0),super.formatAt(t,e,n,s)}highlight(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const s=`${Array.from(this.domNode.childNodes).filter(a=>a!==this.uiNode).map(a=>a.textContent).join(`
`)}
`,i=we.formats(this.children.head.domNode);if(e||this.forceNext||this.cachedText!==s){if(s.trim().length>0||this.cachedText==null){const a=this.children.reduce((u,p)=>u.concat(Ya(p,!1)),new rt),l=t(s,i);a.diff(l).reduce((u,p)=>{let{retain:v,attributes:C}=p;return v?(C&&Object.keys(C).forEach(_=>{[we.blotName,fn.blotName].includes(_)&&this.formatAt(u,v,_,C[_])}),u+v):u},0)}this.cachedText=s,this.forceNext=!1}}html(t,e){const[n]=this.children.find(t);return`<pre data-language="${n?we.formats(n.domNode):"plain"}">
${ai(this.code(t,e))}
</pre>`}optimize(t){if(super.optimize(t),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const e=we.formats(this.children.head.domNode);e!==this.uiNode.value&&(this.uiNode.value=e)}}}ps.allowedChildren=[we];we.requiredContainer=ps;we.allowedChildren=[fn,Yr,qe,Be];const ed=(r,t,e)=>{if(typeof r.versionString=="string"){const n=r.versionString.split(".")[0];if(parseInt(n,10)>=11)return r.highlight(e,{language:t}).value}return r.highlight(t,e).value};class pl extends je{static register(){A.register(fn,!0),A.register(we,!0),A.register(ps,!0)}constructor(t,e){if(super(t,e),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((n,s)=>{let{key:i}=s;return n[i]=!0,n},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(A.events.SCROLL_BLOT_MOUNT,t=>{if(!(t instanceof ps))return;const e=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(n=>{let{key:s,label:i}=n;const a=e.ownerDocument.createElement("option");a.textContent=i,a.setAttribute("value",s),e.appendChild(a)}),e.addEventListener("change",()=>{t.format(we.blotName,e.value),this.quill.root.focus(),this.highlight(t,!0)}),t.uiNode==null&&(t.attachUI(e),t.children.head&&(e.value=we.formats(t.children.head.domNode)))})}initTimer(){let t=null;this.quill.on(A.events.SCROLL_OPTIMIZE,()=>{t&&clearTimeout(t),t=setTimeout(()=>{this.highlight(),t=null},this.options.interval)})}highlight(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(A.sources.USER);const n=this.quill.getSelection();(t==null?this.quill.scroll.descendants(ps):[t]).forEach(i=>{i.highlight(this.highlightBlot,e)}),this.quill.update(A.sources.SILENT),n!=null&&this.quill.setSelection(n,A.sources.SILENT)}highlightBlot(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(e=this.languages[e]?e:"plain",e==="plain")return ai(t).split(`
`).reduce((s,i,a)=>(a!==0&&s.insert(`
`,{[ee.blotName]:e}),s.insert(i)),new rt);const n=this.quill.root.ownerDocument.createElement("div");return n.classList.add(ee.className),n.innerHTML=ed(this.options.hljs,e,t),bo(this.quill.scroll,n,[(s,i)=>{const a=fs.value(s);return a?i.compose(new rt().retain(i.length(),{[fn.blotName]:a})):i}],[(s,i)=>s.data.split(`
`).reduce((a,l,u)=>(u!==0&&a.insert(`
`,{[ee.blotName]:e}),a.insert(l)),i)],new WeakMap)}}pl.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const gs=class gs extends Wt{static create(t){const e=super.create();return t?e.setAttribute("data-row",t):e.setAttribute("data-row",vo()),e}static formats(t){if(t.hasAttribute("data-row"))return t.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(t,e){t===gs.blotName&&e?this.domNode.setAttribute("data-row",e):super.format(t,e)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};Q(gs,"blotName","table"),Q(gs,"tagName","TD");let Ie=gs;class pn extends rr{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const t=this.children.head.formats(),e=this.children.tail.formats(),n=this.next.children.head.formats(),s=this.next.children.tail.formats();return t.table===e.table&&t.table===n.table&&t.table===s.table}return!1}optimize(t){super.optimize(t),this.children.forEach(e=>{if(e.next==null)return;const n=e.formats(),s=e.next.formats();if(n.table!==s.table){const i=this.splitAfter(e);i&&i.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}Q(pn,"blotName","table-row"),Q(pn,"tagName","TR");class Ke extends rr{}Q(Ke,"blotName","table-body"),Q(Ke,"tagName","TBODY");class Qr extends rr{balanceCells(){const t=this.descendants(pn),e=t.reduce((n,s)=>Math.max(s.children.length,n),0);t.forEach(n=>{new Array(e-n.children.length).fill(0).forEach(()=>{let s;n.children.head!=null&&(s=Ie.formats(n.children.head.domNode));const i=this.scroll.create(Ie.blotName,s);n.appendChild(i),i.optimize()})})}cells(t){return this.rows().map(e=>e.children.at(t))}deleteColumn(t){const[e]=this.descendant(Ke);e==null||e.children.head==null||e.children.forEach(n=>{const s=n.children.at(t);s!=null&&s.remove()})}insertColumn(t){const[e]=this.descendant(Ke);e==null||e.children.head==null||e.children.forEach(n=>{const s=n.children.at(t),i=Ie.formats(n.children.head.domNode),a=this.scroll.create(Ie.blotName,i);n.insertBefore(a,s)})}insertRow(t){const[e]=this.descendant(Ke);if(e==null||e.children.head==null)return;const n=vo(),s=this.scroll.create(pn.blotName);e.children.head.children.forEach(()=>{const a=this.scroll.create(Ie.blotName,n);s.appendChild(a)});const i=e.children.at(t);e.insertBefore(s,i)}rows(){const t=this.children.head;return t==null?[]:t.children.map(e=>e)}}Q(Qr,"blotName","table-container"),Q(Qr,"tagName","TABLE");Qr.allowedChildren=[Ke];Ke.requiredContainer=Qr;Ke.allowedChildren=[pn];pn.requiredContainer=Ke;pn.allowedChildren=[Ie];Ie.requiredContainer=pn;function vo(){return`row-${Math.random().toString(36).slice(2,6)}`}class nd extends je{static register(){A.register(Ie),A.register(pn),A.register(Ke),A.register(Qr)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(Qr).forEach(t=>{t.balanceCells()})}deleteColumn(){const[t,,e]=this.getTable();e!=null&&(t.deleteColumn(e.cellOffset()),this.quill.update(A.sources.USER))}deleteRow(){const[,t]=this.getTable();t!=null&&(t.remove(),this.quill.update(A.sources.USER))}deleteTable(){const[t]=this.getTable();if(t==null)return;const e=t.offset();t.remove(),this.quill.update(A.sources.USER),this.quill.setSelection(e,A.sources.SILENT)}getTable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(t==null)return[null,null,null,-1];const[e,n]=this.quill.getLine(t.index);if(e==null||e.statics.blotName!==Ie.blotName)return[null,null,null,-1];const s=e.parent;return[s.parent.parent,s,e,n]}insertColumn(t){const e=this.quill.getSelection();if(!e)return;const[n,s,i]=this.getTable(e);if(i==null)return;const a=i.cellOffset();n.insertColumn(a+t),this.quill.update(A.sources.USER);let l=s.rowOffset();t===0&&(l+=1),this.quill.setSelection(e.index+l,e.length,A.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(t){const e=this.quill.getSelection();if(!e)return;const[n,s,i]=this.getTable(e);if(i==null)return;const a=s.rowOffset();n.insertRow(a+t),this.quill.update(A.sources.USER),t>0?this.quill.setSelection(e,A.sources.SILENT):this.quill.setSelection(e.index+s.children.length,e.length,A.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(t,e){const n=this.quill.getSelection();if(n==null)return;const s=new Array(t).fill(0).reduce(i=>{const a=new Array(e).fill(`
`).join("");return i.insert(a,{table:vo()})},new rt().retain(n.index));this.quill.updateContents(s,A.sources.USER),this.quill.setSelection(n.index,A.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(A.events.SCROLL_OPTIMIZE,t=>{t.some(e=>["TD","TR","TBODY","TABLE"].includes(e.target.tagName)?(this.quill.once(A.events.TEXT_CHANGE,(n,s,i)=>{i===A.sources.USER&&this.balanceTables()}),!0):!1)})}}const pa=mn("quill:toolbar");let yo=class extends je{constructor(t,e){var n,s;if(super(t,e),Array.isArray(this.options.container)){const i=document.createElement("div");i.setAttribute("role","toolbar"),rd(i,this.options.container),(s=(n=t.container)==null?void 0:n.parentNode)==null||s.insertBefore(i,t.container),this.container=i}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){pa.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(i=>{var l;const a=(l=this.options.handlers)==null?void 0:l[i];a&&this.addHandler(i,a)}),Array.from(this.container.querySelectorAll("button, select")).forEach(i=>{this.attach(i)}),this.quill.on(A.events.EDITOR_CHANGE,()=>{const[i]=this.quill.selection.getRange();this.update(i)})}addHandler(t,e){this.handlers[t]=e}attach(t){let e=Array.from(t.classList).find(s=>s.indexOf("ql-")===0);if(!e)return;if(e=e.slice(3),t.tagName==="BUTTON"&&t.setAttribute("type","button"),this.handlers[e]==null&&this.quill.scroll.query(e)==null){pa.warn("ignoring attaching to nonexistent format",e,t);return}const n=t.tagName==="SELECT"?"change":"click";t.addEventListener(n,s=>{let i;if(t.tagName==="SELECT"){if(t.selectedIndex<0)return;const l=t.options[t.selectedIndex];l.hasAttribute("selected")?i=!1:i=l.value||!1}else t.classList.contains("ql-active")?i=!1:i=t.value||!t.hasAttribute("value"),s.preventDefault();this.quill.focus();const[a]=this.quill.selection.getRange();if(this.handlers[e]!=null)this.handlers[e].call(this,i);else if(this.quill.scroll.query(e).prototype instanceof pe){if(i=prompt(`Enter ${e}`),!i)return;this.quill.updateContents(new rt().retain(a.index).delete(a.length).insert({[e]:i}),A.sources.USER)}else this.quill.format(e,i,A.sources.USER);this.update(a)}),this.controls.push([e,t])}update(t){const e=t==null?{}:this.quill.getFormat(t);this.controls.forEach(n=>{const[s,i]=n;if(i.tagName==="SELECT"){let a=null;if(t==null)a=null;else if(e[s]==null)a=i.querySelector("option[selected]");else if(!Array.isArray(e[s])){let l=e[s];typeof l=="string"&&(l=l.replace(/"/g,'\\"')),a=i.querySelector(`option[value="${l}"]`)}a==null?(i.value="",i.selectedIndex=-1):a.selected=!0}else if(t==null)i.classList.remove("ql-active"),i.setAttribute("aria-pressed","false");else if(i.hasAttribute("value")){const a=e[s],l=a===i.getAttribute("value")||a!=null&&a.toString()===i.getAttribute("value")||a==null&&!i.getAttribute("value");i.classList.toggle("ql-active",l),i.setAttribute("aria-pressed",l.toString())}else{const a=e[s]!=null;i.classList.toggle("ql-active",a),i.setAttribute("aria-pressed",a.toString())}})}};yo.DEFAULTS={};function ma(r,t,e){const n=document.createElement("button");n.setAttribute("type","button"),n.classList.add(`ql-${t}`),n.setAttribute("aria-pressed","false"),e!=null?(n.value=e,n.setAttribute("aria-label",`${t}: ${e}`)):n.setAttribute("aria-label",t),r.appendChild(n)}function rd(r,t){Array.isArray(t[0])||(t=[t]),t.forEach(e=>{const n=document.createElement("span");n.classList.add("ql-formats"),e.forEach(s=>{if(typeof s=="string")ma(n,s);else{const i=Object.keys(s)[0],a=s[i];Array.isArray(a)?sd(n,i,a):ma(n,i,a)}}),r.appendChild(n)})}function sd(r,t,e){const n=document.createElement("select");n.classList.add(`ql-${t}`),e.forEach(s=>{const i=document.createElement("option");s!==!1?i.setAttribute("value",String(s)):i.setAttribute("selected","selected"),n.appendChild(i)}),r.appendChild(n)}yo.DEFAULTS={container:null,handlers:{clean(){const r=this.quill.getSelection();if(r!=null)if(r.length===0){const t=this.quill.getFormat();Object.keys(t).forEach(e=>{this.quill.scroll.query(e,st.INLINE)!=null&&this.quill.format(e,!1,A.sources.USER)})}else this.quill.removeFormat(r.index,r.length,A.sources.USER)},direction(r){const{align:t}=this.quill.getFormat();r==="rtl"&&t==null?this.quill.format("align","right",A.sources.USER):!r&&t==="right"&&this.quill.format("align",!1,A.sources.USER),this.quill.format("direction",r,A.sources.USER)},indent(r){const t=this.quill.getSelection(),e=this.quill.getFormat(t),n=parseInt(e.indent||0,10);if(r==="+1"||r==="-1"){let s=r==="+1"?1:-1;e.direction==="rtl"&&(s*=-1),this.quill.format("indent",n+s,A.sources.USER)}},link(r){r===!0&&(r=prompt("Enter link URL:")),this.quill.format("link",r,A.sources.USER)},list(r){const t=this.quill.getSelection(),e=this.quill.getFormat(t);r==="check"?e.list==="checked"||e.list==="unchecked"?this.quill.format("list",!1,A.sources.USER):this.quill.format("list","unchecked",A.sources.USER):this.quill.format("list",r,A.sources.USER)}}};const id='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',od='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',ad='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',ld='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',cd='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',ud='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',hd='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',dd='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',ga='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',fd='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',pd='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',md='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',gd='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',bd='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',vd='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',yd='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',_d='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',wd='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Cd='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',xd='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',kd='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',Ed='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',Sd='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',Td='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',Ad='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',Ld='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',Nd='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',Md='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',Id='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',Od='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',qd='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',Rd='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',Bd='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',ws={align:{"":id,center:od,right:ad,justify:ld},background:cd,blockquote:ud,bold:hd,clean:dd,code:ga,"code-block":ga,color:fd,direction:{"":pd,rtl:md},formula:gd,header:{1:bd,2:vd,3:yd,4:_d,5:wd,6:Cd},italic:xd,image:kd,indent:{"+1":Ed,"-1":Sd},link:Td,list:{bullet:Ad,check:Ld,ordered:Nd},script:{sub:Md,super:Id},strike:Od,table:qd,underline:Rd,video:Bd},jd='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let ba=0;function va(r,t){r.setAttribute(t,`${r.getAttribute(t)!=="true"}`)}class ci{constructor(t){this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",e=>{switch(e.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),e.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),va(this.label,"aria-expanded"),va(this.options,"aria-hidden")}buildItem(t){const e=document.createElement("span");e.tabIndex="0",e.setAttribute("role","button"),e.classList.add("ql-picker-item");const n=t.getAttribute("value");return n&&e.setAttribute("data-value",n),t.textContent&&e.setAttribute("data-label",t.textContent),e.addEventListener("click",()=>{this.selectItem(e,!0)}),e.addEventListener("keydown",s=>{switch(s.key){case"Enter":this.selectItem(e,!0),s.preventDefault();break;case"Escape":this.escape(),s.preventDefault();break}}),e}buildLabel(){const t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=jd,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}buildOptions(){const t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id=`ql-picker-options-${ba}`,ba+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,Array.from(this.select.options).forEach(e=>{const n=this.buildItem(e);t.appendChild(n),e.selected===!0&&this.selectItem(n)}),this.container.appendChild(t)}buildPicker(){Array.from(this.select.attributes).forEach(t=>{this.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.container.querySelector(".ql-selected");t!==n&&(n!=null&&n.classList.remove("ql-selected"),t!=null&&(t.classList.add("ql-selected"),this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let t;if(this.select.selectedIndex>-1){const n=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(n)}else this.selectItem(null);const e=t!=null&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",e)}}class ml extends ci{constructor(t,e){super(t),this.label.innerHTML=e,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(n=>{n.classList.add("ql-primary")})}buildItem(t){const e=super.buildItem(t);return e.style.backgroundColor=t.getAttribute("value")||"",e}selectItem(t,e){super.selectItem(t,e);const n=this.label.querySelector(".ql-color-label"),s=t&&t.getAttribute("data-value")||"";n&&(n.tagName==="line"?n.style.stroke=s:n.style.fill=s)}}class gl extends ci{constructor(t,e){super(t),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(n=>{n.innerHTML=e[n.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(t,e){super.selectItem(t,e);const n=t||this.defaultItem;if(n!=null){if(this.label.innerHTML===n.innerHTML)return;this.label.innerHTML=n.innerHTML}}}const Pd=r=>{const{overflowY:t}=getComputedStyle(r,null);return t!=="visible"&&t!=="clip"};class bl{constructor(t,e){this.quill=t,this.boundsContainer=e||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,Pd(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(t){const e=t.left+t.width/2-this.root.offsetWidth/2,n=t.bottom+this.quill.root.scrollTop;this.root.style.left=`${e}px`,this.root.style.top=`${n}px`,this.root.classList.remove("ql-flip");const s=this.boundsContainer.getBoundingClientRect(),i=this.root.getBoundingClientRect();let a=0;if(i.right>s.right&&(a=s.right-i.right,this.root.style.left=`${e+a}px`),i.left<s.left&&(a=s.left-i.left,this.root.style.left=`${e+a}px`),i.bottom>s.bottom){const l=i.bottom-i.top,u=t.bottom-t.top+l;this.root.style.top=`${n-u}px`,this.root.classList.add("ql-flip")}return a}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const $d=[!1,"center","right","justify"],Dd=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Hd=[!1,"serif","monospace"],Ud=["1","2","3",!1],zd=["small",!1,"large","huge"];class Es extends Xr{constructor(t,e){super(t,e);const n=s=>{if(!document.body.contains(t.root)){document.body.removeEventListener("click",n);return}this.tooltip!=null&&!this.tooltip.root.contains(s.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(i=>{i.container.contains(s.target)||i.close()})};t.emitter.listenDOM("click",document.body,n)}addModule(t){const e=super.addModule(t);return t==="toolbar"&&this.extendToolbar(e),e}buildButtons(t,e){Array.from(t).forEach(n=>{(n.getAttribute("class")||"").split(/\s+/).forEach(i=>{if(i.startsWith("ql-")&&(i=i.slice(3),e[i]!=null))if(i==="direction")n.innerHTML=e[i][""]+e[i].rtl;else if(typeof e[i]=="string")n.innerHTML=e[i];else{const a=n.value||"";a!=null&&e[i][a]&&(n.innerHTML=e[i][a])}})})}buildPickers(t,e){this.pickers=Array.from(t).map(s=>{if(s.classList.contains("ql-align")&&(s.querySelector("option")==null&&ds(s,$d),typeof e.align=="object"))return new gl(s,e.align);if(s.classList.contains("ql-background")||s.classList.contains("ql-color")){const i=s.classList.contains("ql-background")?"background":"color";return s.querySelector("option")==null&&ds(s,Dd,i==="background"?"#ffffff":"#000000"),new ml(s,e[i])}return s.querySelector("option")==null&&(s.classList.contains("ql-font")?ds(s,Hd):s.classList.contains("ql-header")?ds(s,Ud):s.classList.contains("ql-size")&&ds(s,zd)),new ci(s)});const n=()=>{this.pickers.forEach(s=>{s.update()})};this.quill.on(et.events.EDITOR_CHANGE,n)}}Es.DEFAULTS=Dn({},Xr.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let r=this.container.querySelector("input.ql-image[type=file]");r==null&&(r=document.createElement("input"),r.setAttribute("type","file"),r.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),r.classList.add("ql-image"),r.addEventListener("change",()=>{const t=this.quill.getSelection(!0);this.quill.uploader.upload(t,r.files),r.value=""}),this.container.appendChild(r)),r.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class vl extends bl{constructor(t,e){super(t,e),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",t=>{t.key==="Enter"?(this.save(),t.preventDefault()):t.key==="Escape"&&(this.cancel(),t.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;e!=null?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const n=this.quill.getBounds(this.quill.selection.savedRange);n!=null&&this.position(n),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${t}`)||""),this.root.setAttribute("data-mode",t)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:t}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:e}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,et.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,et.sources.USER)),this.quill.root.scrollTop=e;break}case"video":t=Vd(t);case"formula":{if(!t)break;const e=this.quill.getSelection(!0);if(e!=null){const n=e.index+e.length;this.quill.insertEmbed(n,this.root.getAttribute("data-mode"),t,et.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(n+1," ",et.sources.USER),this.quill.setSelection(n+2,et.sources.USER)}break}}this.textbox.value="",this.hide()}}function Vd(r){let t=r.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||r.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?`${t[1]||"https"}://www.youtube.com/embed/${t[2]}?showinfo=0`:(t=r.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${t[1]||"https"}://player.vimeo.com/video/${t[2]}/`:r}function ds(r,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;t.forEach(n=>{const s=document.createElement("option");n===e?s.setAttribute("selected","selected"):s.setAttribute("value",String(n)),r.appendChild(s)})}const Fd=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class yl extends vl{constructor(t,e){super(t,e),this.quill.on(et.events.EDITOR_CHANGE,(n,s,i,a)=>{if(n===et.events.SELECTION_CHANGE)if(s!=null&&s.length>0&&a===et.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const l=this.quill.getLines(s.index,s.length);if(l.length===1){const u=this.quill.getBounds(s);u!=null&&this.position(u)}else{const u=l[l.length-1],p=this.quill.getIndex(u),v=Math.min(u.length()-1,s.index+s.length-p),C=this.quill.getBounds(new nr(p,v));C!=null&&this.position(C)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(et.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const t=this.quill.getSelection();if(t!=null){const e=this.quill.getBounds(t);e!=null&&this.position(e)}},1)})}cancel(){this.show()}position(t){const e=super.position(t),n=this.root.querySelector(".ql-tooltip-arrow");return n.style.marginLeft="",e!==0&&(n.style.marginLeft=`${-1*e-n.offsetWidth/2}px`),e}}Q(yl,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class _l extends Es{constructor(t,e){e.modules.toolbar!=null&&e.modules.toolbar.container==null&&(e.modules.toolbar.container=Fd),super(t,e),this.quill.container.classList.add("ql-bubble")}extendToolbar(t){this.tooltip=new yl(this.quill,this.options.bounds),t.container!=null&&(this.tooltip.root.appendChild(t.container),this.buildButtons(t.container.querySelectorAll("button"),ws),this.buildPickers(t.container.querySelectorAll("select"),ws))}}_l.DEFAULTS=Dn({},Es.DEFAULTS,{modules:{toolbar:{handlers:{link(r){r?this.quill.theme.tooltip.edit():this.quill.format("link",!1,A.sources.USER)}}}}});const Zd=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class wl extends vl{constructor(){super(...arguments);Q(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",e=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),e.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",e=>{if(this.linkRange!=null){const n=this.linkRange;this.restoreFocus(),this.quill.formatText(n,"link",!1,et.sources.USER),delete this.linkRange}e.preventDefault(),this.hide()}),this.quill.on(et.events.SELECTION_CHANGE,(e,n,s)=>{if(e!=null){if(e.length===0&&s===et.sources.USER){const[i,a]=this.quill.scroll.descendant(Xs,e.index);if(i!=null){this.linkRange=new nr(e.index-a,i.length());const l=Xs.formats(i.domNode);this.preview.textContent=l,this.preview.setAttribute("href",l),this.show();const u=this.quill.getBounds(this.linkRange);u!=null&&this.position(u);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}Q(wl,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class Cl extends Es{constructor(t,e){e.modules.toolbar!=null&&e.modules.toolbar.container==null&&(e.modules.toolbar.container=Zd),super(t,e),this.quill.container.classList.add("ql-snow")}extendToolbar(t){t.container!=null&&(t.container.classList.add("ql-snow"),this.buildButtons(t.container.querySelectorAll("button"),ws),this.buildPickers(t.container.querySelectorAll("select"),ws),this.tooltip=new wl(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(e,n)=>{t.handlers.link.call(t,!n.format.link)}))}}Cl.DEFAULTS=Dn({},Es.DEFAULTS,{modules:{toolbar:{handlers:{link(r){if(r){const t=this.quill.getSelection();if(t==null||t.length===0)return;let e=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(e)&&e.indexOf("mailto:")!==0&&(e=`mailto:${e}`);const{tooltip:n}=this.quill.theme;n.edit("link",e)}else this.quill.format("link",!1,A.sources.USER)}}}}});A.register({"attributors/attribute/direction":nl,"attributors/class/align":Ja,"attributors/class/background":a1,"attributors/class/color":o1,"attributors/class/direction":rl,"attributors/class/font":ol,"attributors/class/size":ll,"attributors/style/align":tl,"attributors/style/background":fo,"attributors/style/color":ho,"attributors/style/direction":sl,"attributors/style/font":al,"attributors/style/size":cl},!0);A.register({"formats/align":Ja,"formats/direction":rl,"formats/indent":Q1,"formats/background":fo,"formats/color":ho,"formats/font":ol,"formats/size":ll,"formats/blockquote":Ki,"formats/code-block":ee,"formats/header":Gi,"formats/list":ks,"formats/bold":_s,"formats/code":po,"formats/italic":J1,"formats/link":Xs,"formats/script":Yi,"formats/strike":Xi,"formats/underline":Qi,"formats/formula":$s,"formats/image":td,"formats/video":Ds,"modules/syntax":pl,"modules/table":nd,"modules/toolbar":yo,"themes/bubble":_l,"themes/snow":Cl,"ui/icons":ws,"ui/picker":ci,"ui/icon-picker":gl,"ui/color-picker":ml,"ui/tooltip":bl},!0);const Wd=(r,t,e)=>{const n=r;return Object.keys(t).forEach(s=>{-1<e.indexOf(s)?n.dataset[s]=t[s]:delete n.dataset[s]}),n},ya=(r,t)=>t.reduce((e,n)=>{const s=r.lastIndexOf(n);return s>e.mentionCharIndex?{mentionChar:n,mentionCharIndex:s}:{mentionChar:e.mentionChar,mentionCharIndex:e.mentionCharIndex}},{mentionChar:null,mentionCharIndex:-1}),Kd=(r,t)=>t.test(r),Gd=(r,t,e)=>-1<r?!(e&&!(r===0||t[r-1].match(/\s/g))):!1,Yd=A.import("blots/embed");class Hn extends Yd{constructor(t,e){super(t,e),this.clickHandler=this.clickHandler.bind(this),e.addEventListener("click",this.clickHandler)}static getQuillInstance(t){let e=A.find(t);if(e){for(;e.parent;)e=e.parent;return e.domNode.parentNode?A.find(e.domNode.parentNode):null}}clickHandler(){const t=Hn.getQuillInstance(this.domNode),e=t.getModule("mention");if(e.currentBlot=this,e.currentNode=this.domNode,e.isOpen)return this.domNode.querySelector(".aioseo-tag .tag-toggle svg").classList.remove("rotated"),e.hideMentionList();this.domNode.querySelector(".aioseo-tag .tag-toggle svg").classList.add("rotated"),e.mentionCharPos=this.offset(t.scroll),e.options.source("",e.renderList.bind(e,this.domNode.dataset.denotationChar),this.domNode.dataset.denotationChar)}static create(t){const e=super.create(),n=document.createElement("span");if(n.className="ql-mention-denotation-char",n.innerHTML=t.denotationChar||"#",e.appendChild(n),e.innerHTML+=t.value,t.custom&&t.customValue){let s=e.querySelector(".tag-custom");if(!s){s=document.createElement("span"),s.classList.add("tag-custom");const i=e.querySelector(".tag-name");i.parentNode.insertBefore(s,i.nextSibling)}s.innerHTML="&nbsp;-&nbsp;"+(t.customValue||"")}return setTimeout(()=>{const s=Hn.getQuillInstance(e);if(s){const i=s.getModule("mention");i.currentNode=e}},0),Hn.setDataValues(e,t)}static setDataValues(t,e){const n=t;return Object.keys(e).forEach(s=>{n.dataset[s]=e[s]}),n}static value(t){return t.dataset}format(t,e){t==="customValue"&&e?this.domNode.dataset.customValue=e:super.format(t,e)}}Hn.blotName="mention";Hn.tagName="span";Hn.className="mention";A.register(Hn);const Qt={TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",UP:"ArrowUp",DOWN:"ArrowDown",SPACE:" "};class Xd{constructor(t,e){this.isOpen=!1,this.itemIndex=0,this.mentionCharPos=null,this.cursorPos=null,this.values=[],this.suspendMouseEnter=!1,this.activeElement=null,this.currentBlot=null,this.currentNode=null,this.quill=t,this.silentInsert=!1,this.insertingCustomItem=!1,this.options={source:null,renderItem(l){return`${l.value}`},onSelect(l,u){u(l)},mentionDenotationChars:["@"],showDenotationChar:!0,allowedChars:/^[a-zA-Z0-9_]*$/,minChars:0,maxChars:1e3,offsetTop:2,offsetLeft:0,isolateCharacter:!1,fixMentionsToQuill:!1,defaultMenuOrientation:"bottom",dataAttributes:["id","value","denotationChar","link","target"],linkTarget:"_blank",onOpen(){return!0},onClose(){return!0},listItemClass:"ql-mention-list-item",mentionContainerClass:"ql-mention-list-container",mentionListClass:"ql-mention-list",spaceAfterInsert:!0,selectKeys:[Qt.ENTER]},Object.assign(this.options,e,{dataAttributes:Array.isArray(e.dataAttributes)?this.options.dataAttributes.concat(e.dataAttributes):this.options.dataAttributes}),this.mentionContainer=document.createElement("div"),this.mentionContainer.className=this.options.mentionContainerClass?this.options.mentionContainerClass:"",this.mentionContainer.style.cssText="display: none; position: absolute;",this.mentionContainer.onmousemove=this.onContainerMouseMove.bind(this),this.options.fixMentionsToQuill&&(this.mentionContainer.style.width="auto"),this.customFieldInput=document.createElement("div"),this.customFieldInput.className=this.options.mentionPrependClassCustom?this.options.mentionPrependClassCustom:"",this.customFieldInput.innerHTML=this.options.customFieldInput||"",this.mentionContainer.appendChild(this.customFieldInput),this.mentionSearch=document.createElement("div"),this.mentionSearch.className=this.options.mentionPrependClass?this.options.mentionPrependClass:"",this.mentionSearch.innerHTML=this.options.prependMentionList||"",this.mentionContainer.appendChild(this.mentionSearch);const n=this.mentionSearch.querySelector(".aioseo-trash");n&&n.addEventListener("click",()=>{this.currentBlot.remove(),this.hideMentionList(),this.removeOrphanedMentionChar()}),this.customFieldInput.addEventListener("click",l=>{this.activeElement=l.target;const u=l.target.querySelector("input");u&&setTimeout(()=>{u.focus()},0)});const s=this.customFieldInput.querySelector("input");s&&s.addEventListener("input",l=>{if(this.currentNode){let u=this.currentNode.querySelector(".tag-custom");if(!u){u=document.createElement("span"),u.classList.add("tag-custom");const p=this.currentNode.querySelector(".tag-name");p.parentNode.insertBefore(u,p.nextSibling)}u.innerHTML=l.target.value?"&nbsp;-&nbsp;"+l.target.value:"",this.currentBlot=A.find(this.currentNode),this.currentBlot.format("customValue",l.target.value)}}),this.customFieldInput.addEventListener("keydown",l=>{Qt.ENTER===l.key&&(this.hideMentionList(),this.removeOrphanedMentionChar(),l.preventDefault()),Qt.ESCAPE===l.key&&(this.hideMentionList(),this.removeOrphanedMentionChar()),Qt.SPACE===l.key&&l.preventDefault()}),this.mentionSearch.addEventListener("click",l=>{this.activeElement=l.target}),this.mentionSearch.addEventListener("keydown",l=>{Qt.DOWN===l.key&&this.nextItem(),Qt.UP===l.key&&this.prevItem(),Qt.ENTER===l.key&&(this.selectItem(),l.preventDefault()),Qt.ESCAPE===l.key&&this.hideMentionList()});const i=this.mentionSearch.querySelector("input");i&&i.addEventListener("input",l=>{const u=this.getTextBeforeCursor(),{mentionChar:p}=ya(u,this.options.mentionDenotationChars);if(!p&&!this.currentBlot)return;const v=p||this.currentBlot.domNode.dataset.denotationChar;this.options.source(l.target.value,this.renderList.bind(this,v),v)}),this.mentionList=document.createElement("ul"),this.mentionList.id="quill-mention-list",t.root.setAttribute("aria-owns","quill-mention-list"),this.mentionList.className=this.options.mentionListClass?this.options.mentionListClass:"",this.mentionContainer.appendChild(this.mentionList);const a=document.createElement("div");a.className="aioseo-documentation-link",a.innerHTML=this.options.documentationDiv||"",a.addEventListener("click",l=>{this.activeElement=l.target}),this.mentionContainer.appendChild(a),this.quill.container.appendChild(this.mentionContainer),t.on("text-change",this.onTextChange.bind(this)),t.on("selection-change",this.onSelectionChange.bind(this)),t.container.addEventListener("paste",()=>{setTimeout(()=>{const l=t.getSelection();this.onSelectionChange(l)})}),t.keyboard.addBinding({key:Qt.TAB},this.selectHandler.bind(this)),t.keyboard.bindings[Qt.TAB].unshift(t.keyboard.bindings[Qt.TAB].pop());for(const l of this.options.selectKeys??[])t.keyboard.addBinding({key:l},this.selectHandler.bind(this));t.keyboard.bindings[Qt.ENTER].unshift(t.keyboard.bindings[Qt.ENTER].pop()),t.keyboard.addBinding({key:Qt.ESCAPE},this.escapeHandler.bind(this)),t.keyboard.addBinding({key:Qt.UP},this.upHandler.bind(this)),t.keyboard.addBinding({key:Qt.DOWN},this.downHandler.bind(this)),t.clipboard.addMatcher(Node.TEXT_NODE,this.clipboardHandler.bind(this))}selectHandler(){return this.isOpen?(this.selectItem(),!1):!0}escapeHandler(){return this.isOpen?(this.hideMentionList(),this.removeOrphanedMentionChar(),!1):!0}removeOrphanedMentionChar(t=!1){let e=!1;!t&&!this.quill.hasFocus()&&(this.quill.focus(),e=!0);const n=this.getTextBeforeCursor();n.charAt(n.length-1)==="#"&&this.quill.deleteText(this.quill.getSelection().index-1,1,A.sources.USER),e&&this.quill.blur()}upHandler(){return this.isOpen?(this.prevItem(),!1):!0}downHandler(){return this.isOpen?(this.nextItem(),!1):!0}clipboardHandler(t,e){if(typeof t.data!="string")return;const n=new RegExp(`${this.options.mentionDenotationChars.join("|")}[A-Za-z0-9_-]+`,"g"),s=t.data.match(n);if(s&&0<s.length){const i=[];let a=t.data;this.mentionCharPos=0,s.forEach(l=>{const u=l.charAt(0),p=l.substr(1).split("-"),v=p[0];delete p[0];const C=p.filter(N=>N).join("-"),_=this.options.source(v,this.renderList.bind(this,u),u,!0,C||null);if(!_)return;const k={denotationChar:this.options.showDenotationChar?u:"",..._};C!==void 0&&(k.customValue=C);const E=a.split(l),T=E.shift();i.push({insert:T}),i.push({insert:{mention:k}}),a=E.join(l)}),i.push({insert:a}),e.ops=i}return e}showMentionList(){if(this.mentionContainer.style.visibility="hidden",this.mentionContainer.style.display="",this.setMentionContainerPosition(),this.customFieldInput.style.display="none",this.currentNode&&this.currentNode.dataset.custom){this.customFieldInput.style.display="block";const e=this.customFieldInput&&this.customFieldInput.querySelector("input"),n=this.currentNode.querySelector(".tag-custom");e&&n&&(e.value=n.innerHTML.replace("&nbsp;-&nbsp;","").trim())}const t=this.mentionSearch.querySelector(".aioseo-trash");t&&(t.style.display="block",this.currentBlot||(t.style.display="none")),this.setIsOpen(!0)}hideMentionList(){document.querySelectorAll(".aioseo-tag .tag-toggle svg").forEach(s=>{s.classList.remove("rotated")});const e=this.mentionSearch&&this.mentionSearch.querySelector("input");e&&(e.value="");const n=this.customFieldInput&&this.customFieldInput.querySelector("input");n&&(n.value=""),this.currentBlot=null,this.currentNode=null,this.mentionContainer.style.display="none",this.setIsOpen(!1)}highlightItem(t=!0){if(!this.mentionList.childNodes[this.itemIndex])return;for(let n=0;n<this.mentionList.childNodes.length;n+=1){const s=this.mentionList.childNodes[n];s instanceof HTMLElement&&s.classList.remove("selected")}const e=this.mentionList.childNodes[this.itemIndex];if(!(this.itemIndex===-1||e.dataset.disabled==="true")&&(e.classList.add("selected"),this.quill.root.setAttribute("aria-activedescendant",e.id),t)){const n=e.offsetHeight,s=e.offsetTop-this.mentionSearch.offsetHeight,i=this.mentionList.scrollTop,a=i+this.mentionList.offsetHeight;s<i?this.mentionList.scrollTop=s:s>a-n&&(this.mentionList.scrollTop+=s-a+n)}}getItemData(){const{link:t}=this.mentionList.childNodes[this.itemIndex].dataset,e=typeof t<"u",n=this.mentionList.childNodes[this.itemIndex].dataset.target;return e&&(this.mentionList.childNodes[this.itemIndex].dataset.value=`<a href="${t}" target=${n||this.options.linkTarget}>${this.mentionList.childNodes[this.itemIndex].dataset.value}`),this.mentionList.childNodes[this.itemIndex].dataset}onContainerMouseMove(){this.suspendMouseEnter=!1}selectItem(){const t=this.getItemData();if(!t.id)return this.hideMentionList();this.options.onSelect(t,e=>{this.insertItem(e)}),t.custom||this.hideMentionList()}insertItem(t){const e=t;if(e===null)return;this.options.showDenotationChar||(e.denotationChar=""),t.custom&&(this.insertingCustomItem=!0,setTimeout(()=>{this.insertingCustomItem=!1},50),this.customFieldInput.style.display="block",this.customFieldInput.click());const n=this.mentionCharPos;this.quill.deleteText(this.mentionCharPos,this.cursorPos-this.mentionCharPos,A.sources.USER),this.quill.insertEmbed(n,"mention",e,A.sources.USER),this.options.spaceAfterInsert?(this.quill.insertText(n+1," ",A.sources.USER),this.quill.setSelection(n+2,A.sources.USER)):this.quill.setSelection(n+1,A.sources.USER),t.custom||this.hideMentionList()}onItemMouseEnter(t){if(this.suspendMouseEnter)return;const e=Number(t.target.dataset.index);!Number.isNaN(e)&&e!==this.itemIndex&&(this.itemIndex=e,this.highlightItem(!1))}onItemClick(t){t.preventDefault(),t.stopImmediatePropagation(),this.itemIndex=t.currentTarget.dataset.index,this.highlightItem(),this.selectItem()}renderList(t,e,n,s=!1,i=!1){if(this.mentionList.innerHTML="",e&&0<e.length){if(this.values=e,this.values.length===1&&(this.values[0].name===n||this.values[0].id===n)){if(s)return this.values[0];this.insertItem(this.values[0]);return}else if(s){const a=this.values.find(l=>l.name===n||l.id===n);if(a)return a}else if(i){const a=this.values.find(l=>l.name===n||l.id===n);a&&this.insertItem(a)}for(let a=0;a<e.length;a+=1){const l=document.createElement("li");l.className=this.options.listItemClass?this.options.listItemClass:"",l.dataset.index=a,l.innerHTML=this.options.renderItem(e[a],n),l.onmouseenter=this.onItemMouseEnter.bind(this),l.dataset.denotationChar=t,l.onclick=this.onItemClick.bind(this),this.mentionList.appendChild(Wd(l,e[a],this.options.dataAttributes))}this.itemIndex=0,this.highlightItem()}else{const a=document.createElement("li");a.className=this.options.listItemClassNoMatch?this.options.listItemClassNoMatch:"",a.innerHTML=this.options.renderItemNoMatch(),this.mentionList.appendChild(a)}this.showMentionList()}nextItem(){this.itemIndex=(this.itemIndex+1)%this.values.length,this.suspendMouseEnter=!0,this.highlightItem()}prevItem(){this.itemIndex=(this.itemIndex+this.values.length-1)%this.values.length,this.suspendMouseEnter=!0,this.highlightItem()}containerBottomIsNotVisible(){return this.mentionContainer.getBoundingClientRect().bottom>window.innerHeight}containerRightIsNotVisible(t,e){return this.options.fixMentionsToQuill?!1:e.width<t+this.mentionContainer.offsetWidth}setIsOpen(t){this.isOpen!==t&&(t?this.options.onOpen():this.options.onClose(),this.isOpen=t)}setMentionContainerPosition(){const t=this.quill.container.getBoundingClientRect(),e=this.quill.getBounds(this.mentionCharPos),n=this.mentionContainer.offsetHeight;let s=this.options.offsetTop,i=this.options.offsetLeft;if(this.options.fixMentionsToQuill?this.mentionContainer.style.right="0px":i+=e.left,this.containerRightIsNotVisible(i,t)){const a=this.mentionContainer.offsetWidth+this.options.offsetLeft;i=t.width-a}if(this.options.defaultMenuOrientation==="top"){if(this.options.fixMentionsToQuill?s=-1*(n+this.options.offsetTop):s=e.top-(n+this.options.offsetTop),0>=s+t.top){let a=this.options.offsetTop;this.options.fixMentionsToQuill?a+=t.height:a+=e.bottom,s=a}}else if(this.options.fixMentionsToQuill?s+=t.height:s+=e.bottom,this.containerBottomIsNotVisible(s,t)){let a=this.options.offsetTop*-1;this.options.fixMentionsToQuill||(a+=e.top),s=a-n}0<=s?this.options.mentionContainerClass.split(" ").forEach(a=>{this.mentionContainer.classList.add(`${a}-bottom`),this.mentionContainer.classList.remove(`${a}-top`)}):this.options.mentionContainerClass.split(" ").forEach(a=>{this.mentionContainer.classList.add(`${a}-top`),this.mentionContainer.classList.remove(`${a}-bottom`)}),this.mentionContainer.style.top=`${s}px`,this.mentionContainer.style.left=`${i}px`,this.mentionContainer.style.visibility="visible"}getTextBeforeCursor(){const t=Math.max(0,(this.cursorPos??0)-this.options.maxChars);return this.quill.getText(t,(this.cursorPos??0)-t)}onSomethingChange(){const t=this.quill.getSelection();if(t===null||this.insertingCustomItem)return;this.cursorPos=t.index;const e=this.getTextBeforeCursor(),{mentionChar:n,mentionCharIndex:s}=ya(e,this.options.mentionDenotationChars);if(Gd(s,e,this.options.isolateCharacter)){const i=this.cursorPos-(e.length-s);this.mentionCharPos=i;const a=e.substring(s+n.length);a.length>=this.options.minChars&&Kd(a,this.options.allowedChars)?this.options.source(a,this.renderList.bind(this,n),n):this.hideMentionList()}else this.hideMentionList()}onTextChange(t,e,n){n==="user"&&setTimeout(this.onSomethingChange.bind(this),0)}onSelectionChange(t){t&&t.length===0?this.onSomethingChange():setTimeout(()=>{this.activeElement?this.activeElement.classList.contains("aioseo-tag-custom")||(this.activeElement=null):this.hideMentionList.bind(this)},0)}}A.register("modules/mention",Xd);const Qd=A.import("modules/toolbar");class xl extends Qd{}xl.DEFAULTS.handlers.autoLink=function(){const r=this.quill.getSelection(),t=this.quill.getModule("autoLink"),e=this.quill.getContents();e.ops.forEach(n=>{var s;(s=n==null?void 0:n.attributes)!=null&&s.link&&delete n.attributes.link}),this.quill.setContents(e,A.sources.SILENT),this.quill.setSelection(r,A.sources.SILENT),this.quill.format("link",t.options.url,A.sources.USER)};A.register("modules/toolbar",xl,!0);class Jd{constructor(t,e){this.quill=t,this.options=e,this.container=document.querySelector(e.container)}}A.register("modules/autoLink",Jd,!0);class tf{constructor(t,e){this.quill=t,this.options=e,this.container=document.querySelector(e.container),t.on("text-change",this.update.bind(this)),this.update()}calculate(){let t=this.quill.getText()?this.quill.root.innerHTML:"";const e=document.createRange().createContextualFragment(t),n=document.createRange().createContextualFragment("");e.childNodes.forEach(i=>{if(i.tagName!=="P")return;i.childNodes.forEach(l=>{if(l.nodeType===3){n.appendChild(l.cloneNode(!0));return}if(l.tagName==="SPAN"){const u=l.querySelector(".aioseo-tag .tag-name");if(u){const p=this.options.tags.find(_=>_.name===u.textContent),v=typeof p.valueText=="string"?So.decode(p.valueText):p.valueText,C=document.createTextNode(v);n.appendChild(C)}}});const a=document.createElement("br");n.appendChild(a)}),n.normalize();const s=document.createElement("div");return s.appendChild(n.cloneNode(!0)),t=s.innerHTML.replace(/&nbsp;/gi," ").replace(/<br\s*[/]?>/gi,this.single?"":`
`).trim(),{length:So.decode(t).length,text:t}}update(){const{length:t}=this.calculate();let e=this.options.unit;t!==1&&(e+="s"),this.container&&(this.container.innerText=t+" "+e)}}A.register("modules/counter",tf);const ef=A.import("modules/clipboard"),nf=A.import("delta");class rf extends ef{onPaste(t,{html:e,text:n}){const s=this.options,i=this.quill.getFormat(t.index),a=this.convert({text:n,html:e},i),l=new nf().retain(t.index).delete(t.length).concat(a);s.newLines===!1&&l.ops.map(function(u){return typeof u.insert=="string"&&(u.insert=u.insert.replace(/(\r\n|\n|\r)/gm," ")),u}),this.quill.updateContents(l,A.sources.USER),this.quill.setSelection(l.length()-t.length,A.sources.SILENT),this.quill.scrollSelectionIntoView()}convert({html:t,text:e}){return typeof t=="string"&&(t=t.replace(/>\r?\n +</g,"><")),super.convert({html:t,text:e})}}A.register("modules/clipboard",rf,!0);class sf{constructor(t,e){this.quill=t,this.options={defaultLength:1,...e},this.container=e.container,t.on("text-change",this.update.bind(this)),this.update()}update(){for(;this.container.firstChild;)this.container.removeChild(this.container.firstChild);const t=this.quill.getLines();if(this.options.defaultLength>t.length)for(let s=t.length;this.options.defaultLength>s;s++)t.push({});let e=0;for(let s=0;s<t.length;s++){const i=t[s].domNode?t[s].domNode.offsetHeight:25,a=document.createElement("div");a.style.minHeight=`${i}px`,a.innerHTML=s+1,this.container.appendChild(a),e+=i}const n=this.quill.container.querySelector(".ql-editor");if(n){const s=window.getComputedStyle(n);n.style.minHeight=`${e+parseInt(s.getPropertyValue("padding-top"))+parseInt(s.getPropertyValue("padding-bottom"))}px`}}}A.register("modules/lineNumbers",sf,!0);const _o=(r,t,e)=>(r.forEach(n=>{e[n]&&t.setAttribute(n,e[n]),n==="data-*"&&Object.keys(e).forEach(s=>{s.indexOf("data-")===0&&t.setAttribute(s,e[s])})}),t),wo=(r,t)=>r.reduce((e,n)=>(t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),n==="data-*"&&Object.keys(t.dataset).forEach(s=>{s="data-"+s.replace(/[A-Z]/g,i=>`-${i.toLowerCase()}`),e[s]=t.getAttribute(s)}),e),{}),of=A.import("formats/link"),Ti=["href","rel","target","class","data-*","style"];class kl extends of{static create(t){typeof t=="string"&&(t=this.linkAttributesCache);const e=_o(Ti,super.create(t),t);return Ti.forEach(n=>{n==="href"&&(t[n]=this.sanitize(t[n]),e.setAttribute(n,t[n]))}),this.linkAttributesCache=t,e}static formats(t){return wo(Ti,t)}}Q(kl,"linkAttributesCache",{});A.register("formats/link",kl,!0);const Qs=["style","class","data-*"],af=A.import("blots/inline");class Co extends af{static create(t){return _o(Qs,super.create(t),t)}static formats(t){return wo(Qs,t)}}Co.blotName="aioseoInline";Co.tagName="aioseo-inline";A.register("formats/aioseoInline",Co,!0);const lf=A.import("formats/italic");class cf extends lf{static create(t){return _o(Qs,super.create(t),t)}static formats(t){return wo(Qs,t)}}A.register("formats/italic",cf,!0);class uf{constructor(t,e){this.quill=t,this.options=e,this.preserveWhitespace=e.preserveWhitespace||!1,t.clipboard.addMatcher(Node.TEXT_NODE,this.clipboardHandler.bind(this)),t.container.style.whiteSpace="pre-line"}clipboardHandler(t,e){if(t.data.match(/^\t/)&&this.preserveWhitespace){const n=A.import("delta");return new n().insert(t.data)}return e}}A.register("modules/preserveWhiteSpace",uf);const hf={},df={viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-plus"},ff=ot("path",{d:"M6 0.00115967H4V4.00116H0V6.00116H4V10.0012H6V6.00116H10V4.00116H6V0.00115967Z",fill:"currentColor"},null,-1),pf=[ff];function mf(r,t){return ft(),wt("svg",df,pf)}const El=Kt(hf,[["render",mf]]),qs="aioseo-eeat",gt=[],gf={emits:["counter","selection-change","updateEditor","focus","blur","update:modelValue","paste"],setup(){return{postEditorStore:Ul(),tagsStore:Sa(),links:Ji}},components:{BaseInput:er,SvgCaret:ic,SvgPlus:El,SvgTrash:eo},props:{modelValue:{type:String,default:""},minimumLineNumbers:{type:Number,default(){return 5}},single:Boolean,lineNumbers:Boolean,allowTags:Boolean,disabled:Boolean,tagsContext:String,forceUpdates:Boolean,monospace:Boolean,defaultMenuOrientation:String,description:Boolean,showToolbar:Boolean,preserveWhitespace:Boolean,autoLink:{type:[Object,Boolean],default(){return!1}}},data(){return{tags:Bi,localTags:[],quill:null,html:"",insertExact:!1,cachedPhrase:"",strings:{searchPlaceholder:Ht("Search for an item...",qs),enterCustomFieldName:Ht("Enter a custom field/taxonomy name...",qs),learnMoreSmartTags:Ht("Learn more about Smart Tags",qs),removeSmartTag:Ht("Remove Smart Tag",qs)}}},watch:{disabled(){this.disabled?gt[this.$.uid].disable():gt[this.$.uid].enable()},modelValue(){this.forceUpdates&&this.startup(!0)},"tagsStore.liveTags":{deep:!0,handler(){this.localTags=this.getTags();const r=gt[this.$.uid].getModule("counter");r&&(r.options.tags=this.localTags,this.$emit("counter",r.calculate()))}},tags:{deep:!0,handler(){const r=this.getTags();JSON.stringify(this.localTags)!==JSON.stringify(r)&&(this.localTags=r,this.startup(!0))}}},methods:{emitPasteEvent(r){this.$emit("paste",r)},getTags(){return(this.tagsContext?[...Bi.context(this.tagsContext)]:[...this.tagsStore.tags].filter(t=>!t.deprecated)).map((t,e)=>{const n=this.postEditorStore.currentPost&&this.tagsStore.liveTags[t.id]||t.value;return{...t,valueText:n,value:this.$refs["select-template"][e]?this.$refs["select-template"][e].innerHTML:"",menuHtml:this.$refs["menu-template"][e]?this.$refs["menu-template"][e].innerHTML:""}})},update(){if(this.allowTags){const s=gt[this.$.uid].getModule("counter");this.$emit("counter",s.calculate())}let r=gt[this.$.uid].getText()?gt[this.$.uid].root.innerHTML:"";const t=document.createRange().createContextualFragment(r),e=document.createRange().createContextualFragment("");t.childNodes.forEach(s=>{if(s.tagName!=="P")return;s.childNodes.forEach(a=>{if(a.nodeType===3){e.appendChild(a.cloneNode(!0));return}if(a.tagName==="SPAN"&&this.allowTags){const l=a.querySelector(".aioseo-tag");if(l){const u=l.querySelector(".tag-name");if(u){const p=this.localTags.find(C=>C.name===u.textContent);if(p.custom){const C=l.querySelector(".tag-custom");if(C){const _=document.createTextNode(`#${p.id}-${C.innerHTML.replace("&nbsp;-&nbsp;","")}`);e.appendChild(_);return}}const v=document.createTextNode(`#${p.id}`);e.appendChild(v)}}}});const i=document.createElement("br");e.appendChild(i)}),e.normalize();const n=document.createElement("div");n.appendChild(e.cloneNode(!0)),r=n.innerHTML.replace(/<br\s*[/]?>/gi,this.single?"":`
`).trim(),r=r.replace(/&nbsp;/gi," ").trim(),this.$emit("update:modelValue",r)},insertToCursor(r){gt[this.$.uid].focus(),gt[this.$.uid].insertText(gt[this.$.uid].getSelection().index,r,A.sources.USER),gt[this.$.uid].setSelection(gt[this.$.uid].getSelection().index+r.length,A.sources.USER)},insertTag(r){const t=gt[this.$.uid].getModule("mention");t.removeOrphanedMentionChar();const e=t.getTextBeforeCursor();this.insertExact=!0;const n=r?this.localTags.find(a=>a.id===r):null;let s=n?`#${n.id}`:e.charAt(e.length-1)==="#"?"":"#";const i=gt[this.$.uid].getContents(0,t.cursorPos);i.ops.length&&(typeof i.ops.pop().insert!="string"||!e.match(/\s$/))&&(s=" "+s),gt[this.$.uid].focus(),r&&t.removeOrphanedMentionChar(),gt[this.$.uid].insertText(gt[this.$.uid].getSelection().index,s,A.sources.USER),gt[this.$.uid].setSelection(gt[this.$.uid].getSelection().index+s.length,A.sources.USER),this.insertExact=!1,r?t.hideMentionList():setTimeout(()=>{t.mentionCharPos=gt[this.$.uid].getSelection().index-1,t.silentInsert=!0,t.showMentionList()},0)},maybeCloseMenu(r){const t=r.target;if(t.classList.contains("aioseo-tag")||t.closest(".aioseo-tag")||t.closest(".add-tags"))return;if(t.classList.contains("ql-mention-list-container")||t.closest(".ql-mention-list-container")){const n=t.classList.contains("prepend-icon")?t:t.closest(".prepend-icon");n&&n.nextSibling.focus();return}const e=gt[this.$.uid].getModule("mention");e!=null&&e.isOpen&&(e.hideMentionList(),e.removeOrphanedMentionChar())},async startup(r=!1){if(this.allowTags&&!this.$refs["tag-search"])return;gt[this.$.uid]=this.startQuill(),r&&gt[this.$.uid].setText("");let t=this.modelValue;t&&t.length&&t.match(/#[^\s]*$/)&&(t=t.trim()+"&nbsp;"),t=t&&(this.single?t.replace(`
`," "):"<p>"+t.split(`
`).map(s=>s===""?"<br>":s).join("</p><p>")+"</p>");const e=gt[this.$.uid].clipboard.convert({html:t,text:""});gt[this.$.uid].setContents(e);const n=gt[this.$.uid].getModule("mention");if(n!=null&&n.isOpen?(n.hideMentionList(),n.removeOrphanedMentionChar()):n&&n.removeOrphanedMentionChar(!0),this.allowTags){const s=gt[this.$.uid].getModule("counter");this.$emit("counter",s.calculate())}this.removeTrailingNewLine(),await this.$nextTick(),gt[this.$.uid].on("text-change",()=>this.update()),gt[this.$.uid].on("selection-change",(s,i,a)=>{a==="api"&&this.update(),s?this.$emit("focus",gt[this.$.uid]):this.$emit("blur",gt[this.$.uid]),this.$emit("selection-change",{range:s,oldRange:i,source:a})}),document.addEventListener("click",this.maybeCloseMenu),this.disabled&&gt[this.$.uid].disable(),r||gt[this.$.uid].history.clear()},startQuill(){return new A(this.$refs.quill,{modules:{toolbar:this.showToolbar?["bold","italic","underline","autoLink"]:[],lineNumbers:this.lineNumbers?{container:this.$refs["line-numbers"],defaultLength:this.minimumLineNumbers}:null,mention:this.allowTags?{defaultMenuOrientation:this.defaultMenuOrientation||"bottom",dataAttributes:["id","value","denotationChar","link","target","custom","customValue"],allowedChars:/^[A-Za-z\s_]*$/,mentionDenotationChars:["#"],spaceAfterInsert:!0,mentionPrependClass:"aioseo-tag-search",mentionPrependClassCustom:"aioseo-tag-custom",prependMentionList:this.$refs["tag-search"].innerHTML,customFieldInput:this.$refs["tag-custom"].innerHTML,documentationDiv:this.$refs["documentation-div"].innerHTML,listItemClassNoMatch:"aioseo-tag-no-match",renderItemNoMatch(){return"No matches found"},renderItem(r){return`${r.menuHtml}`},source:(r,t,e,n=!1,s="")=>{const i=[...this.localTags];if(i[0].custom&&(i[0].customValue=s),r.length===0)return t(i,r,n,this.insertExact);const a=[];for(let l=0;l<i.length;l++)(~i[l].name.toLowerCase().indexOf(r.toLowerCase())||~i[l].id.toLowerCase().indexOf(r.toLowerCase()))&&a.push(i[l]);return t(a,r,n,this.insertExact)}}:null,counter:this.allowTags?{tags:this.localTags}:null,clipboard:{newLines:!this.single},autoLink:{enabled:!!this.autoLink,...this.autoLink},keyboard:{bindings:{enter:{key:13,handler:()=>!this.single}}},preserveWhiteSpace:this.preserveWhitespace},theme:"snow",formats:this.showToolbar?["bold","underline","italic","link","list","aioseoInline"]:["mention"]})},setPhrase(r){this.cachedPhrase=r,r=dh(r),r=r.replace(/<span([^>]*)>/g,"<aioseo-inline$1>").replace(/<\/span>/g,"</aioseo-inline>");const t=gt[this.$.uid].clipboard.convert({html:r,text:""});gt[this.$.uid].setContents(t)},getPhrase(){return gt[this.$.uid].getText()},getPhraseWithFormats(){return gt[this.$.uid].getContents()},getPhraseHtml(){let r=gt[this.$.uid].root.childNodes[0].innerHTML;return r=r.replace(/<aioseo-inline([^>]*)>/g,"<span$1>").replace(/<\/aioseo-inline>/g,"</span>"),r=fh(this.cachedPhrase,r),r},removeTrailingNewLine(){const r=document.querySelector(".aioseo-editor-description .ql-editor");this.description&&r&&(r.innerHTML=r.innerHTML.replace(/<p><br><\/p>$/i,""))}},mounted(){this.localTags=this.getTags(),this.startup(!0),this.tagsContext&&window.aioseoBus.$on("updateEditor"+this.tagsContext,r=>{r!==this.$.uid&&this.startup(!0)})},beforeUnmount(){document.removeEventListener("click",this.maybeCloseMenu)},unmounted(){this.tagsContext&&window.aioseoBus.$emit("updateEditor"+this.tagsContext,this.$.uid)}},bf={class:"aioseo-editor"},vf={key:0,ref:"line-numbers",class:"aioseo-line-numbers"},yf={key:1,class:"aioseo-append-icon"},_f={key:2,class:"aioseo-append-button"},wf={class:"aioseo-tag"},Cf={class:"tag-name"},xf={key:0,class:"tag-custom"},kf={class:"tag-toggle"},Ef={class:"aioseo-tag-item"},Sf={class:"aioseo-tag-title"},Tf={class:"aioseo-tag-description"},Af={ref:"tag-search"},Lf={ref:"tag-custom"},Nf=["innerHTML"];function Mf(r,t,e,n,s,i){const a=se("svg-caret"),l=se("svg-plus"),u=se("base-input"),p=se("svg-trash");return ft(),wt("div",bf,[ot("div",{class:to([{"aioseo-editor-line-numbers":e.lineNumbers},{"aioseo-editor-single":e.single},{"aioseo-editor-monospace":e.monospace},{"aioseo-editor-description":e.description}]),ref:"quill",onPaste:t[0]||(t[0]=(...v)=>i.emitPasteEvent&&i.emitPasteEvent(...v))},null,34),e.lineNumbers?(ft(),wt("div",vf,null,512)):Jt("",!0),r.$slots["append-icon"]?(ft(),wt("div",yf,[zr(r.$slots,"append-icon")])):Jt("",!0),r.$slots["append-button"]?(ft(),wt("div",_f,[zr(r.$slots,"append-button")])):Jt("",!0),(ft(!0),wt(Wr,null,ei(s.tags.context(e.tagsContext),(v,C)=>(ft(),wt(Wr,{key:C},[jn(ot("div",{ref_for:!0,ref:"select-template"},[ot("span",wf,[ot("span",Cf,qt(v.name),1),v.custom&&v.customValue?(ft(),wt("span",xf," - "+qt(v.customValue),1)):Jt("",!0),ot("span",kf,[ct(a)])])],512),[[tr,!1]]),jn(ot("div",{ref_for:!0,ref:"menu-template"},[ot("div",Ef,[ot("div",null,[ct(l)]),ot("div",null,[ot("div",Sf,qt(v.name),1),ot("div",Tf,qt(v.description),1)])])],512),[[tr,!1]])],64))),128)),jn(ot("div",Af,[ct(u,{size:"medium",placeholder:s.strings.searchPlaceholder,prependIcon:"search"},null,8,["placeholder"]),ct(p)],512),[[tr,!1]]),jn(ot("div",Lf,[ct(u,{size:"small",placeholder:s.strings.enterCustomFieldName},null,8,["placeholder"])],512),[[tr,!1]]),jn(ot("div",{ref:"documentation-div",innerHTML:n.links.getDocLink(s.strings.learnMoreSmartTags,"smartTags",!0)},null,8,Nf),[[tr,!1]])])}const If=Kt(gf,[["render",Mf]]),Of={components:{SvgPlus:El}},qf={class:"aioseo-add-template-tag"};function Rf(r,t,e,n,s,i){const a=se("svg-plus");return ft(),wt("div",qf,[ct(a),zr(r.$slots,"default")])}const Bf=Kt(Of,[["render",Rf]]),jf="aioseo-eeat",Pf={setup(){return{rootStore:dn()}},components:{CoreAlert:Na},data(){return{strings:{unfilteredHtmlError:zl(Ht("Your user account role does not have access to edit this field. %1$s",jf),Ji.getDocLink(Ma.learnMore,"unfilteredHtml",!0))}}}};function $f(r,t,e,n,s,i){const a=se("core-alert");return n.rootStore.aioseo.user.unfilteredHtml?Jt("",!0):(ft(),Kr(a,{key:0,class:"no-access",type:"red",innerHTML:s.strings.unfilteredHtmlError},null,8,["innerHTML"]))}const Df=Kt(Pf,[["render",$f]]);(function(){function r(c,d,g,f){Object.defineProperty(c,d,{get:g,set:f,enumerable:!0,configurable:!0})}function t(c){return c&&c.__esModule?c.default:c}var e={};function n(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function s(c,d,g,f,m,y,w){try{var S=c[y](w),L=S.value}catch(I){return void g(I)}S.done?d(L):Promise.resolve(L).then(f,m)}function i(c){return function(){var d=this,g=arguments;return new Promise(function(f,m){var y=c.apply(d,g);function w(L){s(y,f,m,w,S,"next",L)}function S(L){s(y,f,m,w,S,"throw",L)}w(void 0)})}}function a(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function l(c,d){for(var g=0;g<d.length;g++){var f=d[g];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}function u(c,d,g){return d&&l(c.prototype,d),g&&l(c,g),c}function p(c,d,g){return d in c?Object.defineProperty(c,d,{value:g,enumerable:!0,configurable:!0,writable:!0}):c[d]=g,c}function v(c,d){return(v=Object.setPrototypeOf||function(g,f){return g.__proto__=f,g})(c,d)}function C(c,d){return v(c,d)}function _(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),d&&C(c,d)}function k(c){for(var d=1;d<arguments.length;d++){var g=arguments[d]!=null?arguments[d]:{},f=Object.keys(g);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(g).filter(function(m){return Object.getOwnPropertyDescriptor(g,m).enumerable}))),f.forEach(function(m){p(c,m,g[m])})}return c}function E(c){if(Array.isArray(c))return c}function T(c){if(typeof Symbol<"u"&&c[Symbol.iterator]!=null||c["@@iterator"]!=null)return Array.from(c)}function N(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function M(c,d){(d==null||d>c.length)&&(d=c.length);for(var g=0,f=new Array(d);g<d;g++)f[g]=c[g];return f}function D(c,d){if(c){if(typeof c=="string")return M(c,d);var g=Object.prototype.toString.call(c).slice(8,-1);return g==="Object"&&c.constructor&&(g=c.constructor.name),g==="Map"||g==="Set"?Array.from(g):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?M(c,d):void 0}}function z(c,d){return E(c)||T(c)||D(c,d)||N()}function P(c){if(Array.isArray(c))return M(c)}function B(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function V(c){return P(c)||T(c)||D(c)||B()}function G(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mt(c){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(c)}function Tt(c){return mt(c)}function Pt(c){return c&&c.constructor===Symbol?"symbol":typeof c}function me(c,d){return!d||Pt(d)!=="object"&&typeof d!="function"?n(c):d}function zt(c){var d=G();return function(){var g,f=Tt(c);if(d){var m=Tt(this).constructor;g=Reflect.construct(f,arguments,m)}else g=f.apply(this,arguments);return me(this,g)}}r(e,"Picker",function(){return We}),r(e,"Emoji",function(){return Yn}),r(e,"FrequentlyUsed",function(){return re}),r(e,"SafeFlags",function(){return mr}),r(e,"SearchIndex",function(){return At}),r(e,"Store",function(){return Rt}),r(e,"init",function(){return ze}),r(e,"Data",function(){return ut}),r(e,"I18n",function(){return Ot}),r(e,"getEmojiDataFromNative",function(){return ns});var kt={},Pe=function(c){var d,g=Object.prototype,f=g.hasOwnProperty,m=typeof Symbol=="function"?Symbol:{},y=m.iterator||"@@iterator",w=m.asyncIterator||"@@asyncIterator",S=m.toStringTag||"@@toStringTag";function L(H,$,nt){return Object.defineProperty(H,$,{value:nt,enumerable:!0,configurable:!0,writable:!0}),H[$]}try{L({},"")}catch{L=function($,nt,lt){return $[nt]=lt}}function I(H,$,nt,lt){var W=$&&$.prototype instanceof U?$:U,Mt=Object.create(W.prototype),Et=new bt(lt||[]);return Mt._invoke=function($t,Yt,yt){var _t=h;return function(oe,Ir){if(_t===x)throw new Error("Generator is already running");if(_t===j){if(oe==="throw")throw Ir;return jt()}for(yt.method=oe,yt.arg=Ir;;){var hs=yt.delegate;if(hs){var O=vt(hs,yt);if(O){if(O===q)continue;return O}}if(yt.method==="next")yt.sent=yt._sent=yt.arg;else if(yt.method==="throw"){if(_t===h)throw _t=j,yt.arg;yt.dispatchException(yt.arg)}else yt.method==="return"&&yt.abrupt("return",yt.arg);_t=x;var Xt=o($t,Yt,yt);if(Xt.type==="normal"){if(_t=yt.done?j:b,Xt.arg===q)continue;return{value:Xt.arg,done:yt.done}}Xt.type==="throw"&&(_t=j,yt.method="throw",yt.arg=Xt.arg)}}}(H,nt,Et),Mt}function o(H,$,nt){try{return{type:"normal",arg:H.call($,nt)}}catch(lt){return{type:"throw",arg:lt}}}c.wrap=I;var h="suspendedStart",b="suspendedYield",x="executing",j="completed",q={};function U(){}function Z(){}function Y(){}var tt={};L(tt,y,function(){return this});var X=Object.getPrototypeOf,K=X&&X(X(Bt([])));K&&K!==g&&f.call(K,y)&&(tt=K);var at=Y.prototype=U.prototype=Object.create(tt);function F(H){["next","throw","return"].forEach(function($){L(H,$,function(nt){return this._invoke($,nt)})})}function ht(H,$){function nt(W,Mt,Et,$t){var Yt=o(H[W],H,Mt);if(Yt.type!=="throw"){var yt=Yt.arg,_t=yt.value;return _t&&typeof _t=="object"&&f.call(_t,"__await")?$.resolve(_t.__await).then(function(oe){nt("next",oe,Et,$t)},function(oe){nt("throw",oe,Et,$t)}):$.resolve(_t).then(function(oe){yt.value=oe,Et(yt)},function(oe){return nt("throw",oe,Et,$t)})}$t(Yt.arg)}var lt;this._invoke=function(W,Mt){function Et(){return new $(function($t,Yt){nt(W,Mt,$t,Yt)})}return lt=lt?lt.then(Et,Et):Et()}}function vt(H,$){var nt=H.iterator[$.method];if(nt===d){if($.delegate=null,$.method==="throw"){if(H.iterator.return&&($.method="return",$.arg=d,vt(H,$),$.method==="throw"))return q;$.method="throw",$.arg=new TypeError("The iterator does not provide a 'throw' method")}return q}var lt=o(nt,H.iterator,$.arg);if(lt.type==="throw")return $.method="throw",$.arg=lt.arg,$.delegate=null,q;var W=lt.arg;return W?W.done?($[H.resultName]=W.value,$.next=H.nextLoc,$.method!=="return"&&($.method="next",$.arg=d),$.delegate=null,q):W:($.method="throw",$.arg=new TypeError("iterator result is not an object"),$.delegate=null,q)}function dt(H){var $={tryLoc:H[0]};1 in H&&($.catchLoc=H[1]),2 in H&&($.finallyLoc=H[2],$.afterLoc=H[3]),this.tryEntries.push($)}function Nt(H){var $=H.completion||{};$.type="normal",delete $.arg,H.completion=$}function bt(H){this.tryEntries=[{tryLoc:"root"}],H.forEach(dt,this),this.reset(!0)}function Bt(H){if(H){var $=H[y];if($)return $.call(H);if(typeof H.next=="function")return H;if(!isNaN(H.length)){var nt=-1,lt=function W(){for(;++nt<H.length;)if(f.call(H,nt))return W.value=H[nt],W.done=!1,W;return W.value=d,W.done=!0,W};return lt.next=lt}}return{next:jt}}function jt(){return{value:d,done:!0}}return Z.prototype=Y,L(at,"constructor",Y),L(Y,"constructor",Z),Z.displayName=L(Y,S,"GeneratorFunction"),c.isGeneratorFunction=function(H){var $=typeof H=="function"&&H.constructor;return!!$&&($===Z||($.displayName||$.name)==="GeneratorFunction")},c.mark=function(H){return Object.setPrototypeOf?Object.setPrototypeOf(H,Y):(H.__proto__=Y,L(H,S,"GeneratorFunction")),H.prototype=Object.create(at),H},c.awrap=function(H){return{__await:H}},F(ht.prototype),L(ht.prototype,w,function(){return this}),c.AsyncIterator=ht,c.async=function(H,$,nt,lt,W){W===void 0&&(W=Promise);var Mt=new ht(I(H,$,nt,lt),W);return c.isGeneratorFunction($)?Mt:Mt.next().then(function(Et){return Et.done?Et.value:Mt.next()})},F(at),L(at,S,"Generator"),L(at,y,function(){return this}),L(at,"toString",function(){return"[object Generator]"}),c.keys=function(H){var $=[];for(var nt in H)$.push(nt);return $.reverse(),function lt(){for(;$.length;){var W=$.pop();if(W in H)return lt.value=W,lt.done=!1,lt}return lt.done=!0,lt}},c.values=Bt,bt.prototype={constructor:bt,reset:function(H){if(this.prev=0,this.next=0,this.sent=this._sent=d,this.done=!1,this.delegate=null,this.method="next",this.arg=d,this.tryEntries.forEach(Nt),!H)for(var $ in this)$.charAt(0)==="t"&&f.call(this,$)&&!isNaN(+$.slice(1))&&(this[$]=d)},stop:function(){this.done=!0;var H=this.tryEntries[0].completion;if(H.type==="throw")throw H.arg;return this.rval},dispatchException:function(H){if(this.done)throw H;var $=this;function nt(Yt,yt){return Mt.type="throw",Mt.arg=H,$.next=Yt,yt&&($.method="next",$.arg=d),!!yt}for(var lt=this.tryEntries.length-1;lt>=0;--lt){var W=this.tryEntries[lt],Mt=W.completion;if(W.tryLoc==="root")return nt("end");if(W.tryLoc<=this.prev){var Et=f.call(W,"catchLoc"),$t=f.call(W,"finallyLoc");if(Et&&$t){if(this.prev<W.catchLoc)return nt(W.catchLoc,!0);if(this.prev<W.finallyLoc)return nt(W.finallyLoc)}else if(Et){if(this.prev<W.catchLoc)return nt(W.catchLoc,!0)}else{if(!$t)throw new Error("try statement without catch or finally");if(this.prev<W.finallyLoc)return nt(W.finallyLoc)}}}},abrupt:function(H,$){for(var nt=this.tryEntries.length-1;nt>=0;--nt){var lt=this.tryEntries[nt];if(lt.tryLoc<=this.prev&&f.call(lt,"finallyLoc")&&this.prev<lt.finallyLoc){var W=lt;break}}W&&(H==="break"||H==="continue")&&W.tryLoc<=$&&$<=W.finallyLoc&&(W=null);var Mt=W?W.completion:{};return Mt.type=H,Mt.arg=$,W?(this.method="next",this.next=W.finallyLoc,q):this.complete(Mt)},complete:function(H,$){if(H.type==="throw")throw H.arg;return H.type==="break"||H.type==="continue"?this.next=H.arg:H.type==="return"?(this.rval=this.arg=H.arg,this.method="return",this.next="end"):H.type==="normal"&&$&&(this.next=$),q},finish:function(H){for(var $=this.tryEntries.length-1;$>=0;--$){var nt=this.tryEntries[$];if(nt.finallyLoc===H)return this.complete(nt.completion,nt.afterLoc),Nt(nt),q}},catch:function(H){for(var $=this.tryEntries.length-1;$>=0;--$){var nt=this.tryEntries[$];if(nt.tryLoc===H){var lt=nt.completion;if(lt.type==="throw"){var W=lt.arg;Nt(nt)}return W}}throw new Error("illegal catch attempt")},delegateYield:function(H,$,nt){return this.delegate={iterator:Bt(H),resultName:$,nextLoc:nt},this.method==="next"&&(this.arg=d),q}},c}(kt);try{regeneratorRuntime=Pe}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=Pe:Function("r","regeneratorRuntime = r")(Pe)}var Ye,it,or,Xe,ar,Ct,gn={},lr=[],ae=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function le(c,d){for(var g in d)c[g]=d[g];return c}function xt(c){var d=c.parentNode;d&&d.removeChild(c)}function bn(c,d,g){var f,m,y,w={};for(y in d)y=="key"?f=d[y]:y=="ref"?m=d[y]:w[y]=d[y];if(arguments.length>2&&(w.children=arguments.length>3?Ye.call(arguments,2):g),typeof c=="function"&&c.defaultProps!=null)for(y in c.defaultProps)w[y]===void 0&&(w[y]=c.defaultProps[y]);return vn(c,w,f,m,null)}function vn(c,d,g,f,m){var y={type:c,props:d,key:g,ref:f,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:m??++or};return m==null&&it.vnode!=null&&it.vnode(y),y}function Vt(c){return c.children}function ne(c,d){this.props=c,this.context=d}function ke(c,d){if(d==null)return c.__?ke(c.__,c.__.__k.indexOf(c)+1):null;for(var g;d<c.__k.length;d++)if((g=c.__k[d])!=null&&g.__e!=null)return g.__e;return typeof c.type=="function"?ke(c):null}function yn(c){var d,g;if((c=c.__)!=null&&c.__c!=null){for(c.__e=c.__c.base=null,d=0;d<c.__k.length;d++)if((g=c.__k[d])!=null&&g.__e!=null){c.__e=c.__c.base=g.__e;break}return yn(c)}}function _n(c){(!c.__d&&(c.__d=!0)&&Xe.push(c)&&!Qe.__r++||Ct!==it.debounceRendering)&&((Ct=it.debounceRendering)||ar)(Qe)}function Qe(){for(var c;Qe.__r=Xe.length;)c=Xe.sort(function(d,g){return d.__v.__b-g.__v.__b}),Xe=[],c.some(function(d){var g,f,m,y,w,S;d.__d&&(w=(y=(g=d).__v).__e,(S=g.__P)&&(f=[],(m=le({},y)).__v=y.__v+1,kn(S,y,m,g.__n,S.ownerSVGElement!==void 0,y.__h!=null?[w]:null,f,w??ke(y),y.__h),Zn(f,y),y.__e!=w&&yn(y)))})}function wn(c,d,g,f,m,y,w,S,L,I){var o,h,b,x,j,q,U,Z=f&&f.__k||lr,Y=Z.length;for(g.__k=[],o=0;o<d.length;o++)if((x=g.__k[o]=(x=d[o])==null||typeof x=="boolean"?null:typeof x=="string"||typeof x=="number"||(x===void 0?"undefined":Pt(x))=="bigint"?vn(null,x,null,null,x):Array.isArray(x)?vn(Vt,{children:x},null,null,null):x.__b>0?vn(x.type,x.props,x.key,null,x.__v):x)!=null){if(x.__=g,x.__b=g.__b+1,(b=Z[o])===null||b&&x.key==b.key&&x.type===b.type)Z[o]=void 0;else for(h=0;h<Y;h++){if((b=Z[h])&&x.key==b.key&&x.type===b.type){Z[h]=void 0;break}b=null}kn(c,x,b=b||gn,m,y,w,S,L,I),j=x.__e,(h=x.ref)&&b.ref!=h&&(U||(U=[]),b.ref&&U.push(b.ref,null,x),U.push(h,x.__c||j,x)),j!=null?(q==null&&(q=j),typeof x.type=="function"&&x.__k===b.__k?x.__d=L=Vn(x,L,c):L=Fn(c,x,b,Z,j,L),typeof g.type=="function"&&(g.__d=L)):L&&b.__e==L&&L.parentNode!=c&&(L=ke(b))}for(g.__e=q,o=Y;o--;)Z[o]!=null&&(typeof g.type=="function"&&Z[o].__e!=null&&Z[o].__e==g.__d&&(g.__d=ke(f,o+1)),tn(Z[o],Z[o]));if(U)for(o=0;o<U.length;o++)ce(U[o],U[++o],U[++o])}function Vn(c,d,g){for(var f,m=c.__k,y=0;m&&y<m.length;y++)(f=m[y])&&(f.__=c,d=typeof f.type=="function"?Vn(f,d,g):Fn(g,f,f,m,f.__e,d));return d}function $e(c,d){return d=d||[],c==null||typeof c=="boolean"||(Array.isArray(c)?c.some(function(g){$e(g,d)}):d.push(c)),d}function Fn(c,d,g,f,m,y){var w,S,L;if(d.__d!==void 0)w=d.__d,d.__d=void 0;else if(g==null||m!=y||m.parentNode==null)t:if(y==null||y.parentNode!==c)c.appendChild(m),w=null;else{for(S=y,L=0;(S=S.nextSibling)&&L<f.length;L+=2)if(S==m)break t;c.insertBefore(m,y),w=y}return w!==void 0?w:m.nextSibling}function cr(c,d,g){d[0]==="-"?c.setProperty(d,g):c[d]=g==null?"":typeof g!="number"||ae.test(d)?g:g+"px"}function Cn(c,d,g,f,m){var y;t:if(d==="style")if(typeof g=="string")c.style.cssText=g;else{if(typeof f=="string"&&(c.style.cssText=f=""),f)for(d in f)g&&d in g||cr(c.style,d,"");if(g)for(d in g)f&&g[d]===f[d]||cr(c.style,d,g[d])}else if(d[0]==="o"&&d[1]==="n")y=d!==(d=d.replace(/Capture$/,"")),d=d.toLowerCase()in c?d.toLowerCase().slice(2):d.slice(2),c.l||(c.l={}),c.l[d+y]=g,g?f||c.addEventListener(d,y?xn:Je,y):c.removeEventListener(d,y?xn:Je,y);else if(d!=="dangerouslySetInnerHTML"){if(m)d=d.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(d!=="href"&&d!=="list"&&d!=="form"&&d!=="tabIndex"&&d!=="download"&&d in c)try{c[d]=g??"";break t}catch{}typeof g=="function"||(g!=null&&(g!==!1||d[0]==="a"&&d[1]==="r")?c.setAttribute(d,g):c.removeAttribute(d))}}function Je(c){this.l[c.type+!1](it.event?it.event(c):c)}function xn(c){this.l[c.type+!0](it.event?it.event(c):c)}function kn(c,d,g,f,m,y,w,S,L){var I,o,h,b,x,j,q,U,Z,Y,tt,X=d.type;if(d.constructor!==void 0)return null;g.__h!=null&&(L=g.__h,S=d.__e=g.__e,d.__h=null,y=[S]),(I=it.__b)&&I(d);try{t:if(typeof X=="function"){if(U=d.props,Z=(I=X.contextType)&&f[I.__c],Y=I?Z?Z.props.value:I.__:f,g.__c?q=(o=d.__c=g.__c).__=o.__E:("prototype"in X&&X.prototype.render?d.__c=o=new X(U,Y):(d.__c=o=new ne(U,Y),o.constructor=X,o.render=ts),Z&&Z.sub(o),o.props=U,o.state||(o.state={}),o.context=Y,o.__n=f,h=o.__d=!0,o.__h=[]),o.__s==null&&(o.__s=o.state),X.getDerivedStateFromProps!=null&&(o.__s==o.state&&(o.__s=le({},o.__s)),le(o.__s,X.getDerivedStateFromProps(U,o.__s))),b=o.props,x=o.state,h)X.getDerivedStateFromProps==null&&o.componentWillMount!=null&&o.componentWillMount(),o.componentDidMount!=null&&o.__h.push(o.componentDidMount);else{if(X.getDerivedStateFromProps==null&&U!==b&&o.componentWillReceiveProps!=null&&o.componentWillReceiveProps(U,Y),!o.__e&&o.shouldComponentUpdate!=null&&o.shouldComponentUpdate(U,o.__s,Y)===!1||d.__v===g.__v){o.props=U,o.state=o.__s,d.__v!==g.__v&&(o.__d=!1),o.__v=d,d.__e=g.__e,d.__k=g.__k,d.__k.forEach(function(K){K&&(K.__=d)}),o.__h.length&&w.push(o);break t}o.componentWillUpdate!=null&&o.componentWillUpdate(U,o.__s,Y),o.componentDidUpdate!=null&&o.__h.push(function(){o.componentDidUpdate(b,x,j)})}o.context=Y,o.props=U,o.state=o.__s,(I=it.__r)&&I(d),o.__d=!1,o.__v=d,o.__P=c,I=o.render(o.props,o.state,o.context),o.state=o.__s,o.getChildContext!=null&&(f=le(le({},f),o.getChildContext())),h||o.getSnapshotBeforeUpdate==null||(j=o.getSnapshotBeforeUpdate(b,x)),tt=I!=null&&I.type===Vt&&I.key==null?I.props.children:I,wn(c,Array.isArray(tt)?tt:[tt],d,g,f,m,y,w,S,L),o.base=d.__e,d.__h=null,o.__h.length&&w.push(o),q&&(o.__E=o.__=null),o.__e=!1}else y==null&&d.__v===g.__v?(d.__k=g.__k,d.__e=g.__e):d.__e=function(K,at,F,ht,vt,dt,Nt,bt){var Bt,jt,H,$=F.props,nt=at.props,lt=at.type,W=0;if(lt==="svg"&&(vt=!0),dt!=null){for(;W<dt.length;W++)if((Bt=dt[W])&&"setAttribute"in Bt==!!lt&&(lt?Bt.localName===lt:Bt.nodeType===3)){K=Bt,dt[W]=null;break}}if(K==null){if(lt===null)return document.createTextNode(nt);K=vt?document.createElementNS("http://www.w3.org/2000/svg",lt):document.createElement(lt,nt.is&&nt),dt=null,bt=!1}if(lt===null)$===nt||bt&&K.data===nt||(K.data=nt);else{if(dt=dt&&Ye.call(K.childNodes),jt=($=F.props||gn).dangerouslySetInnerHTML,H=nt.dangerouslySetInnerHTML,!bt){if(dt!=null)for($={},W=0;W<K.attributes.length;W++)$[K.attributes[W].name]=K.attributes[W].value;(H||jt)&&(H&&(jt&&H.__html==jt.__html||H.__html===K.innerHTML)||(K.innerHTML=H&&H.__html||""))}if(function(Mt,Et,$t,Yt,yt){var _t;for(_t in $t)_t==="children"||_t==="key"||_t in Et||Cn(Mt,_t,null,$t[_t],Yt);for(_t in Et)yt&&typeof Et[_t]!="function"||_t==="children"||_t==="key"||_t==="value"||_t==="checked"||$t[_t]===Et[_t]||Cn(Mt,_t,Et[_t],$t[_t],Yt)}(K,nt,$,vt,bt),H)at.__k=[];else if(W=at.props.children,wn(K,Array.isArray(W)?W:[W],at,F,ht,vt&&lt!=="foreignObject",dt,Nt,dt?dt[0]:F.__k&&ke(F,0),bt),dt!=null)for(W=dt.length;W--;)dt[W]!=null&&xt(dt[W]);bt||("value"in nt&&(W=nt.value)!==void 0&&(W!==$.value||W!==K.value||lt==="progress"&&!W)&&Cn(K,"value",W,$.value,!1),"checked"in nt&&(W=nt.checked)!==void 0&&W!==K.checked&&Cn(K,"checked",W,$.checked,!1))}return K}(g.__e,d,g,f,m,y,w,L);(I=it.diffed)&&I(d)}catch(K){d.__v=null,(L||y!=null)&&(d.__e=S,d.__h=!!L,y[y.indexOf(S)]=null),it.__e(K,d,g)}}function Zn(c,d){it.__c&&it.__c(d,c),c.some(function(g){try{c=g.__h,g.__h=[],c.some(function(f){f.call(g)})}catch(f){it.__e(f,g.__v)}})}function ce(c,d,g){try{typeof c=="function"?c(d):c.current=d}catch(f){it.__e(f,g)}}function tn(c,d,g){var f,m;if(it.unmount&&it.unmount(c),(f=c.ref)&&(f.current&&f.current!==c.__e||ce(f,null,d)),(f=c.__c)!=null){if(f.componentWillUnmount)try{f.componentWillUnmount()}catch(y){it.__e(y,d)}f.base=f.__P=null}if(f=c.__k)for(m=0;m<f.length;m++)f[m]&&tn(f[m],d,typeof c.type!="function");g||c.__e==null||xt(c.__e),c.__e=c.__d=void 0}function ts(c,d,g){return this.constructor(c,g)}function De(c,d,g){var f,m,y;it.__&&it.__(c,d),m=(f=!1)?null:d.__k,y=[],kn(d,c=d.__k=bn(Vt,null,[c]),m||gn,gn,d.ownerSVGElement!==void 0,m?null:d.firstChild?Ye.call(d.childNodes):null,y,m?m.__e:d.firstChild,f),Zn(y,c)}Ye=lr.slice,it={__e:function(c,d){for(var g,f,m;d=d.__;)if((g=d.__c)&&!g.__)try{if((f=g.constructor)&&f.getDerivedStateFromError!=null&&(g.setState(f.getDerivedStateFromError(c)),m=g.__d),g.componentDidCatch!=null&&(g.componentDidCatch(c),m=g.__d),m)return g.__E=g}catch(y){c=y}throw c}},or=0,ne.prototype.setState=function(c,d){var g;g=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=le({},this.state),typeof c=="function"&&(c=c(le({},g),this.props)),c&&le(g,c),c!=null&&this.__v&&(d&&this.__h.push(d),_n(this))},ne.prototype.forceUpdate=function(c){this.__v&&(this.__e=!0,c&&this.__h.push(c),_n(this))},ne.prototype.render=Vt,Xe=[],ar=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Qe.__r=0;var En=0;function R(c,d,g,f,m){var y,w,S={};for(w in d)w=="ref"?y=d[w]:S[w]=d[w];var L={type:c,props:S,key:g,ref:y,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--En,__source:f,__self:m};if(typeof c=="function"&&(y=c.defaultProps))for(w in y)S[w]===void 0&&(S[w]=y[w]);return it.vnode&&it.vnode(L),L}var Rt={set:function(c,d){try{window.localStorage["emoji-mart.".concat(c)]=JSON.stringify(d)}catch{}},get:function(c){try{var d=window.localStorage["emoji-mart.".concat(c)];if(d)return JSON.parse(d)}catch{}}},Sn=new Map,ur=[{v:15,emoji:""},{v:14,emoji:""},{v:13.1,emoji:""},{v:13,emoji:""},{v:12.1,emoji:""},{v:12,emoji:""},{v:11,emoji:""},{v:5,emoji:""},{v:4,emoji:""},{v:3,emoji:""},{v:2,emoji:""},{v:1,emoji:""}];function hr(c){if(Sn.has(c))return Sn.get(c);var d=Wn(c);return Sn.set(c,d),d}var Wn=function(){var c=null;try{navigator.userAgent.includes("jsdom")||(c=document.createElement("canvas").getContext("2d",{willReadFrequently:!0}))}catch{}if(!c)return function(){return!1};var d=20,g=Math.floor(12.5);return c.font=g+"px Arial, Sans-Serif",c.textBaseline="top",c.canvas.width=40,c.canvas.height=25,function(f){c.clearRect(0,0,40,25),c.fillStyle="#FF0000",c.fillText(f,0,22),c.fillStyle="#0000FF",c.fillText(f,d,22);for(var m=c.getImageData(0,0,d,25).data,y=m.length,w=0;w<y&&!m[w+3];w+=4);if(w>=y)return!1;var S=d+w/4%d,L=Math.floor(w/4/d),I=c.getImageData(S,L,1,1).data;return m[w]===I[0]&&m[w+2]===I[2]&&!(c.measureText(f).width>=d)}}(),en={latestVersion:function(){var c=!0,d=!1,g=void 0;try{for(var f,m=ur[Symbol.iterator]();!(c=(f=m.next()).done);c=!0){var y=f.value,w=y.v;if(hr(y.emoji))return w}}catch(S){d=!0,g=S}finally{try{c||m.return==null||m.return()}finally{if(d)throw g}}},noCountryFlags:function(){return!hr("")}},Tn=["+1","grinning","kissing_heart","heart_eyes","laughing","stuck_out_tongue_winking_eye","sweat_smile","joy","scream","disappointed","unamused","weary","sob","sunglasses","heart"],It=null,He,re={add:function(c){It||(It=Rt.get("frequently")||{});var d=c.id||c;d&&(It[d]||(It[d]=0),It[d]+=1,Rt.set("last",d),Rt.set("frequently",It))},get:function(c){var d=c.maxFrequentRows,g=c.perLine;if(!d)return[];It||(It=Rt.get("frequently"));var f=[];if(!It){for(var m in It={},Tn.slice(0,g)){var y=Tn[m];It[y]=g-m,f.push(y)}return f}var w=d*g,S=Rt.get("last");for(var L in It)f.push(L);if(f.sort(function(U,Z){var Y=It[Z],tt=It[U];return Y==tt?U.localeCompare(Z):Y-tt}),f.length>w){var I=f.slice(w);f=f.slice(0,w);var o=!0,h=!1,b=void 0;try{for(var x,j=I[Symbol.iterator]();!(o=(x=j.next()).done);o=!0){var q=x.value;q!=S&&delete It[q]}}catch(U){h=!0,b=U}finally{try{o||j.return==null||j.return()}finally{if(h)throw b}}S&&f.indexOf(S)==-1&&(delete It[f[f.length-1]],f.splice(-1,1,S)),Rt.set("frequently",It)}return f},DEFAULTS:Tn};He=JSON.parse('{"search":"Search","search_no_results_1":"Oh no!","search_no_results_2":"That emoji couldnt be found","pick":"Pick an emoji","add_custom":"Add custom emoji","categories":{"activity":"Activity","custom":"Custom","flags":"Flags","foods":"Food & Drink","frequent":"Frequently used","nature":"Animals & Nature","objects":"Objects","people":"Smileys & People","places":"Travel & Places","search":"Search Results","symbols":"Symbols"},"skins":{"1":"Default","2":"Light","3":"Medium-Light","4":"Medium","5":"Medium-Dark","6":"Dark","choose":"Choose default skin tone"}}');var Gt={autoFocus:{value:!1},dynamicWidth:{value:!1},emojiButtonColors:{value:null},emojiButtonRadius:{value:"100%"},emojiButtonSize:{value:36},emojiSize:{value:24},emojiVersion:{value:15,choices:[1,2,3,4,5,11,12,12.1,13,13.1,14,15]},exceptEmojis:{value:[]},icons:{value:"auto",choices:["auto","outline","solid"]},locale:{value:"en",choices:["en","ar","be","cs","de","es","fa","fi","fr","hi","it","ja","ko","nl","pl","pt","ru","sa","tr","uk","vi","zh"]},maxFrequentRows:{value:4},navPosition:{value:"top",choices:["top","bottom","none"]},noCountryFlags:{value:!1},noResultsEmoji:{value:null},perLine:{value:9},previewEmoji:{value:null},previewPosition:{value:"bottom",choices:["top","bottom","none"]},searchPosition:{value:"sticky",choices:["sticky","static","none"]},set:{value:"native",choices:["native","apple","facebook","google","twitter"]},skin:{value:1,choices:[1,2,3,4,5,6]},skinTonePosition:{value:"preview",choices:["preview","search","none"]},theme:{value:"auto",choices:["auto","light","dark"]},categories:null,categoryIcons:null,custom:null,data:null,i18n:null,getImageURL:null,getSpritesheetURL:null,onAddCustomEmoji:null,onClickOutside:null,onEmojiSelect:null,stickySearch:{deprecated:!0,value:!0}},Ot=null,ut=null,nn={};function Ue(c){return An.apply(this,arguments)}function An(){return(An=i(t(kt).mark(function c(d){var g,f;return t(kt).wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(!nn[d]){m.next=2;break}return m.abrupt("return",nn[d]);case 2:return m.next=4,fetch(d);case 4:return g=m.sent,m.next=7,g.json();case 7:return f=m.sent,nn[d]=f,m.abrupt("return",f);case 10:case"end":return m.stop()}},c)}))).apply(this,arguments)}var rn=null,Ln=null,Ee=!1;function ze(c){var d=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).caller;return rn||(rn=new Promise(function(g){Ln=g})),c?Se(c):d&&!Ee&&console.warn("`".concat(d,"` requires data to be initialized first. Promise will be pending until `init` is called.")),rn}function Se(c){return dr.apply(this,arguments)}function dr(){return(dr=i(t(kt).mark(function c(d){var g,f,m,y,w,S,L,I,o,h,b,x,j,q,U,Z,Y,tt,X,K,at,F,ht,vt,dt,Nt,bt,Bt,jt,H,$,nt,lt,W,Mt,Et,$t,Yt,yt,_t,oe,Ir,hs;return t(kt).wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(Ee=!0,g=d.emojiVersion,f=d.set,m=d.locale,g||(g=Gt.emojiVersion.value),f||(f=Gt.set.value),m||(m=Gt.locale.value),ut){O.next=36;break}if(typeof d.data!="function"){O.next=12;break}return O.next=9,d.data();case 9:O.t1=O.sent,O.next=13;break;case 12:O.t1=d.data;case 13:if(O.t0=O.t1,O.t0){O.next=18;break}return O.next=17,Ue("https://cdn.jsdelivr.net/npm/@emoji-mart/data@latest/sets/".concat(g,"/").concat(f,".json"));case 17:O.t0=O.sent;case 18:(ut=O.t0).emoticons={},ut.natives={},ut.categories.unshift({id:"frequent",emojis:[]}),O.t2=regeneratorRuntime.keys(ut.aliases);case 23:if((O.t3=O.t2()).done){O.next=33;break}if(y=O.t3.value,w=ut.aliases[y],S=ut.emojis[w]){O.next=29;break}return O.abrupt("continue",23);case 29:S.aliases||(S.aliases=[]),S.aliases.push(y),O.next=23;break;case 33:ut.originalCategories=ut.categories,O.next=37;break;case 36:ut.categories=ut.categories.filter(function(Xt){return!Xt.name});case 37:if(typeof d.i18n!="function"){O.next=43;break}return O.next=40,d.i18n();case 40:O.t5=O.sent,O.next=44;break;case 43:O.t5=d.i18n;case 44:if(O.t4=O.t5,O.t4){O.next=54;break}if(m!="en"){O.next=50;break}O.t6=t(He),O.next=53;break;case 50:return O.next=52,Ue("https://cdn.jsdelivr.net/npm/@emoji-mart/data@latest/i18n/".concat(m,".json"));case 52:O.t6=O.sent;case 53:O.t4=O.t6;case 54:if(Ot=O.t4,!d.custom){O.next=87;break}O.t7=regeneratorRuntime.keys(d.custom);case 57:if((O.t8=O.t7()).done){O.next=87;break}if(L=O.t8.value,L=parseInt(L),I=d.custom[L],o=d.custom[L-1],I.emojis&&I.emojis.length){O.next=64;break}return O.abrupt("continue",57);case 64:for(I.id||(I.id="custom_".concat(L+1)),I.name||(I.name=Ot.categories.custom),o&&!I.icon&&(I.target=o.target||o),ut.categories.push(I),h=!0,b=!1,x=void 0,O.prev=69,j=I.emojis[Symbol.iterator]();!(h=(q=j.next()).done);h=!0)U=q.value,ut.emojis[U.id]=U;O.next=77;break;case 73:O.prev=73,O.t9=O.catch(69),b=!0,x=O.t9;case 77:O.prev=77,O.prev=78,h||j.return==null||j.return();case 80:if(O.prev=80,!b){O.next=83;break}throw x;case 83:return O.finish(80);case 84:return O.finish(77);case 85:O.next=57;break;case 87:d.categories&&(ut.categories=ut.originalCategories.filter(function(Xt){return d.categories.indexOf(Xt.id)!=-1}).sort(function(Xt,Ss){return d.categories.indexOf(Xt.id)-d.categories.indexOf(Ss.id)})),Z=null,Y=null,f=="native"&&(Z=en.latestVersion(),Y=d.noCountryFlags||en.noCountryFlags()),tt=ut.categories.length,X=!1;case 93:if(!tt--){O.next=179;break}if((K=ut.categories[tt]).id=="frequent"&&(at=d.maxFrequentRows,F=d.perLine,at=at>=0?at:Gt.maxFrequentRows.value,F||(F=Gt.perLine.value),K.emojis=re.get({maxFrequentRows:at,perLine:F})),K.emojis&&K.emojis.length){O.next=99;break}return ut.categories.splice(tt,1),O.abrupt("continue",93);case 99:(ht=d.categoryIcons)&&(vt=ht[K.id])&&!K.icon&&(K.icon=vt),dt=K.emojis.length;case 102:if(!dt--){O.next=177;break}if(Nt=K.emojis[dt],bt=Nt.id?Nt:ut.emojis[Nt],Bt=function(){K.emojis.splice(dt,1)},!(!bt||d.exceptEmojis&&d.exceptEmojis.includes(bt.id))){O.next=109;break}return Bt(),O.abrupt("continue",102);case 109:if(!(Z&&bt.version>Z)){O.next=112;break}return Bt(),O.abrupt("continue",102);case 112:if(!Y||K.id!="flags"){O.next=116;break}if(mr.includes(bt.id)){O.next=116;break}return Bt(),O.abrupt("continue",102);case 116:if(bt.search){O.next=175;break}if(X=!0,bt.search=","+[[bt.id,!1],[bt.name,!0],[bt.keywords,!1],[bt.emoticons,!1]].map(function(Xt){var Ss=z(Xt,2),Ts=Ss[0],Sl=Ss[1];if(Ts)return(Array.isArray(Ts)?Ts:[Ts]).map(function(ko){return(Sl?ko.split(/[-|_|\s]+/):[ko]).map(function(Tl){return Tl.toLowerCase()})}).flat()}).flat().filter(function(Xt){return Xt&&Xt.trim()}).join(","),jt=!0,H=!1,$=void 0,!bt.emoticons){O.next=145;break}O.prev=121,nt=bt.emoticons[Symbol.iterator]();case 123:if(jt=(lt=nt.next()).done){O.next=131;break}if(W=lt.value,!ut.emoticons[W]){O.next=127;break}return O.abrupt("continue",128);case 127:ut.emoticons[W]=bt.id;case 128:jt=!0,O.next=123;break;case 131:O.next=137;break;case 133:O.prev=133,O.t10=O.catch(121),H=!0,$=O.t10;case 137:O.prev=137,O.prev=138,jt||nt.return==null||nt.return();case 140:if(O.prev=140,!H){O.next=143;break}throw $;case 143:return O.finish(140);case 144:return O.finish(137);case 145:Mt=0,Et=!0,$t=!1,Yt=void 0,O.prev=147,yt=bt.skins[Symbol.iterator]();case 149:if(Et=(_t=yt.next()).done){O.next=161;break}if(oe=_t.value){O.next=153;break}return O.abrupt("continue",158);case 153:Mt++,(Ir=oe.native)&&(ut.natives[Ir]=bt.id,bt.search+=",".concat(Ir)),hs=Mt==1?"":":skin-tone-".concat(Mt,":"),oe.shortcodes=":".concat(bt.id,":").concat(hs);case 158:Et=!0,O.next=149;break;case 161:O.next=167;break;case 163:O.prev=163,O.t11=O.catch(147),$t=!0,Yt=O.t11;case 167:O.prev=167,O.prev=168,Et||yt.return==null||yt.return();case 170:if(O.prev=170,!$t){O.next=173;break}throw Yt;case 173:return O.finish(170);case 174:return O.finish(167);case 175:O.next=102;break;case 177:O.next=93;break;case 179:X&&At.reset(),Ln();case 181:case"end":return O.stop()}},c,null,[[69,73,77,85],[78,,80,84],[121,133,137,145],[138,,140,144],[147,163,167,175],[168,,170,174]])}))).apply(this,arguments)}function fr(c,d,g){c||(c={});var f={};for(var m in d)f[m]=pr(m,c,d,g);return f}function pr(c,d,g,f){var m=g[c],y=f&&f.getAttribute(c)||(d[c]!=null&&d[c]!=null?d[c]:null);return m&&(y!=null&&m.value&&Pt(m.value)!=(y===void 0?"undefined":Pt(y))&&(y=typeof m.value=="boolean"?y!="false":m.value.constructor(y)),m.transform&&y&&(y=m.transform(y)),(y==null||m.choices&&m.choices.indexOf(y)==-1)&&(y=m.value)),y}var Nn=null;function sn(){return sn=i(t(kt).mark(function c(d){var g,f,m,y,w,S,L,I,o,h,b,x,j,q,U,Z,Y,tt,X,K,at=arguments;return t(kt).wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(g=at.length>1&&at[1]!==void 0?at[1]:{},f=g.maxResults,m=g.caller,d&&d.trim().length){F.next=3;break}return F.abrupt("return",null);case 3:return f||(f=90),F.next=6,ze(null,{caller:m||"SearchIndex.search"});case 6:if((y=d.toLowerCase().replace(/(\w)-/,"$1 ").split(/[\s|,]+/).filter(function(ht,vt,dt){return ht.trim()&&dt.indexOf(ht)==vt})).length){F.next=9;break}return F.abrupt("return");case 9:w=Nn||(Nn=Object.values(ut.emojis)),I=!0,o=!1,h=void 0,F.prev=12,b=y[Symbol.iterator]();case 14:if(I=(x=b.next()).done){F.next=54;break}if(j=x.value,w.length){F.next=18;break}return F.abrupt("break",54);case 18:S=[],L={},q=!0,U=!1,Z=void 0,F.prev=21,Y=w[Symbol.iterator]();case 23:if(q=(tt=Y.next()).done){F.next=36;break}if((X=tt.value).search){F.next=27;break}return F.abrupt("continue",33);case 27:if((K=X.search.indexOf(",".concat(j)))!=-1){F.next=30;break}return F.abrupt("continue",33);case 30:S.push(X),L[X.id]||(L[X.id]=0),L[X.id]+=X.id==j?0:K+1;case 33:q=!0,F.next=23;break;case 36:F.next=42;break;case 38:F.prev=38,F.t0=F.catch(21),U=!0,Z=F.t0;case 42:F.prev=42,F.prev=43,q||Y.return==null||Y.return();case 45:if(F.prev=45,!U){F.next=48;break}throw Z;case 48:return F.finish(45);case 49:return F.finish(42);case 50:w=S;case 51:I=!0,F.next=14;break;case 54:F.next=60;break;case 56:F.prev=56,F.t1=F.catch(12),o=!0,h=F.t1;case 60:F.prev=60,F.prev=61,I||b.return==null||b.return();case 63:if(F.prev=63,!o){F.next=66;break}throw h;case 66:return F.finish(63);case 67:return F.finish(60);case 68:if(!(S.length<2)){F.next=70;break}return F.abrupt("return",S);case 70:return S.sort(function(ht,vt){var dt=L[ht.id],Nt=L[vt.id];return dt==Nt?ht.id.localeCompare(vt.id):dt-Nt}),S.length>f&&(S=S.slice(0,f)),F.abrupt("return",S);case 73:case"end":return F.stop()}},c,null,[[12,56,60,68],[21,38,42,50],[43,,45,49],[61,,63,67]])})),sn.apply(this,arguments)}var At={search:function(c){return sn.apply(this,arguments)},get:function(c){return c.id?c:ut.emojis[c]||ut.emojis[ut.aliases[c]]||ut.emojis[ut.natives[c]]},reset:function(){Nn=null},SHORTCODES_REGEX:/^(?:\:([^\:]+)\:)(?:\:skin-tone-(\d)\:)?$/},mr=["checkered_flag","crossed_flags","pirate_flag","rainbow-flag","transgender_flag","triangular_flag_on_post","waving_black_flag","waving_white_flag"];function es(){return Kn.apply(this,arguments)}function Kn(){return Kn=i(t(kt).mark(function c(){var d,g=arguments;return t(kt).wrap(function(f){for(;;)switch(f.prev=f.next){case 0:d=g.length>0&&g[0]!==void 0?g[0]:1,f.t0=regeneratorRuntime.keys(V(Array(d).keys()));case 2:if((f.t1=f.t0()).done){f.next=8;break}return f.t1.value,f.next=6,new Promise(requestAnimationFrame);case 6:f.next=2;break;case 8:case"end":return f.stop()}},c)})),Kn.apply(this,arguments)}function gr(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=d.skinIndex,f=g===void 0?0:g,m=c.skins[f]||(f=0,c.skins[f]),y={id:c.id,name:c.name,native:m.native,unified:m.unified,keywords:c.keywords,shortcodes:m.shortcodes||c.shortcodes};return c.skins.length>1&&(y.skin=f+1),m.src&&(y.src=m.src),c.aliases&&c.aliases.length&&(y.aliases=c.aliases),c.emoticons&&c.emoticons.length&&(y.emoticons=c.emoticons),y}function ns(c){return Dt.apply(this,arguments)}function Dt(){return(Dt=i(t(kt).mark(function c(d){var g,f,m,y,w,S,L,I;return t(kt).wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,At.search(d,{maxResults:1,caller:"getEmojiDataFromNative"});case 2:if((g=o.sent)&&g.length){o.next=5;break}return o.abrupt("return",null);case 5:f=g[0],m=0,y=!0,w=!1,S=void 0,o.prev=8,L=f.skins[Symbol.iterator]();case 10:if(y=(I=L.next()).done){o.next=18;break}if(I.value.native!=d){o.next=14;break}return o.abrupt("break",18);case 14:m++;case 15:y=!0,o.next=10;break;case 18:o.next=24;break;case 20:o.prev=20,o.t0=o.catch(8),w=!0,S=o.t0;case 24:o.prev=24,o.prev=25,y||L.return==null||L.return();case 27:if(o.prev=27,!w){o.next=30;break}throw S;case 30:return o.finish(27);case 31:return o.finish(24);case 32:return o.abrupt("return",gr(f,{skinIndex:m}));case 33:case"end":return o.stop()}},c,null,[[8,20,24,32],[25,,27,31]])}))).apply(this,arguments)}var Mn={categories:{activity:{outline:R("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:R("path",{d:"M12 0C5.373 0 0 5.372 0 12c0 6.627 5.373 12 12 12 6.628 0 12-5.373 12-12 0-6.628-5.372-12-12-12m9.949 11H17.05c.224-2.527 1.232-4.773 1.968-6.113A9.966 9.966 0 0 1 21.949 11M13 11V2.051a9.945 9.945 0 0 1 4.432 1.564c-.858 1.491-2.156 4.22-2.392 7.385H13zm-2 0H8.961c-.238-3.165-1.536-5.894-2.393-7.385A9.95 9.95 0 0 1 11 2.051V11zm0 2v8.949a9.937 9.937 0 0 1-4.432-1.564c.857-1.492 2.155-4.221 2.393-7.385H11zm4.04 0c.236 3.164 1.534 5.893 2.392 7.385A9.92 9.92 0 0 1 13 21.949V13h2.04zM4.982 4.887C5.718 6.227 6.726 8.473 6.951 11h-4.9a9.977 9.977 0 0 1 2.931-6.113M2.051 13h4.9c-.226 2.527-1.233 4.771-1.969 6.113A9.972 9.972 0 0 1 2.051 13m16.967 6.113c-.735-1.342-1.744-3.586-1.968-6.113h4.899a9.961 9.961 0 0 1-2.931 6.113"})}),solid:R("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:R("path",{d:"M16.17 337.5c0 44.98 7.565 83.54 13.98 107.9C35.22 464.3 50.46 496 174.9 496c9.566 0 19.59-.4707 29.84-1.271L17.33 307.3C16.53 317.6 16.17 327.7 16.17 337.5zM495.8 174.5c0-44.98-7.565-83.53-13.98-107.9c-4.688-17.54-18.34-31.23-36.04-35.95C435.5 27.91 392.9 16 337 16c-9.564 0-19.59 .4707-29.84 1.271l187.5 187.5C495.5 194.4 495.8 184.3 495.8 174.5zM26.77 248.8l236.3 236.3c142-36.1 203.9-150.4 222.2-221.1L248.9 26.87C106.9 62.96 45.07 177.2 26.77 248.8zM256 335.1c0 9.141-7.474 16-16 16c-4.094 0-8.188-1.564-11.31-4.689L164.7 283.3C161.6 280.2 160 276.1 160 271.1c0-8.529 6.865-16 16-16c4.095 0 8.189 1.562 11.31 4.688l64.01 64C254.4 327.8 256 331.9 256 335.1zM304 287.1c0 9.141-7.474 16-16 16c-4.094 0-8.188-1.564-11.31-4.689L212.7 235.3C209.6 232.2 208 228.1 208 223.1c0-9.141 7.473-16 16-16c4.094 0 8.188 1.562 11.31 4.688l64.01 64.01C302.5 279.8 304 283.9 304 287.1zM256 175.1c0-9.141 7.473-16 16-16c4.094 0 8.188 1.562 11.31 4.688l64.01 64.01c3.125 3.125 4.688 7.219 4.688 11.31c0 9.133-7.468 16-16 16c-4.094 0-8.189-1.562-11.31-4.688l-64.01-64.01C257.6 184.2 256 180.1 256 175.1z"})})},custom:R("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:R("path",{d:"M417.1 368c-5.937 10.27-16.69 16-27.75 16c-5.422 0-10.92-1.375-15.97-4.281L256 311.4V448c0 17.67-14.33 32-31.1 32S192 465.7 192 448V311.4l-118.3 68.29C68.67 382.6 63.17 384 57.75 384c-11.06 0-21.81-5.734-27.75-16c-8.828-15.31-3.594-34.88 11.72-43.72L159.1 256L41.72 187.7C26.41 178.9 21.17 159.3 29.1 144C36.63 132.5 49.26 126.7 61.65 128.2C65.78 128.7 69.88 130.1 73.72 132.3L192 200.6V64c0-17.67 14.33-32 32-32S256 46.33 256 64v136.6l118.3-68.29c3.838-2.213 7.939-3.539 12.07-4.051C398.7 126.7 411.4 132.5 417.1 144c8.828 15.31 3.594 34.88-11.72 43.72L288 256l118.3 68.28C421.6 333.1 426.8 352.7 417.1 368z"})}),flags:{outline:R("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:R("path",{d:"M0 0l6.084 24H8L1.916 0zM21 5h-4l-1-4H4l3 12h3l1 4h13L21 5zM6.563 3h7.875l2 8H8.563l-2-8zm8.832 10l-2.856 1.904L12.063 13h3.332zM19 13l-1.5-6h1.938l2 8H16l3-2z"})}),solid:R("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:R("path",{d:"M64 496C64 504.8 56.75 512 48 512h-32C7.25 512 0 504.8 0 496V32c0-17.75 14.25-32 32-32s32 14.25 32 32V496zM476.3 0c-6.365 0-13.01 1.35-19.34 4.233c-45.69 20.86-79.56 27.94-107.8 27.94c-59.96 0-94.81-31.86-163.9-31.87C160.9 .3055 131.6 4.867 96 15.75v350.5c32-9.984 59.87-14.1 84.85-14.1c73.63 0 124.9 31.78 198.6 31.78c31.91 0 68.02-5.971 111.1-23.09C504.1 355.9 512 344.4 512 332.1V30.73C512 11.1 495.3 0 476.3 0z"})})},foods:{outline:R("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:R("path",{d:"M17 4.978c-1.838 0-2.876.396-3.68.934.513-1.172 1.768-2.934 4.68-2.934a1 1 0 0 0 0-2c-2.921 0-4.629 1.365-5.547 2.512-.064.078-.119.162-.18.244C11.73 1.838 10.798.023 9.207.023 8.579.022 7.85.306 7 .978 5.027 2.54 5.329 3.902 6.492 4.999 3.609 5.222 0 7.352 0 12.969c0 4.582 4.961 11.009 9 11.009 1.975 0 2.371-.486 3-1 .629.514 1.025 1 3 1 4.039 0 9-6.418 9-11 0-5.953-4.055-8-7-8M8.242 2.546c.641-.508.943-.523.965-.523.426.169.975 1.405 1.357 3.055-1.527-.629-2.741-1.352-2.98-1.846.059-.112.241-.356.658-.686M15 21.978c-1.08 0-1.21-.109-1.559-.402l-.176-.146c-.367-.302-.816-.452-1.266-.452s-.898.15-1.266.452l-.176.146c-.347.292-.477.402-1.557.402-2.813 0-7-5.389-7-9.009 0-5.823 4.488-5.991 5-5.991 1.939 0 2.484.471 3.387 1.251l.323.276a1.995 1.995 0 0 0 2.58 0l.323-.276c.902-.78 1.447-1.251 3.387-1.251.512 0 5 .168 5 6 0 3.617-4.187 9-7 9"})}),solid:R("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:R("path",{d:"M481.9 270.1C490.9 279.1 496 291.3 496 304C496 316.7 490.9 328.9 481.9 337.9C472.9 346.9 460.7 352 448 352H64C51.27 352 39.06 346.9 30.06 337.9C21.06 328.9 16 316.7 16 304C16 291.3 21.06 279.1 30.06 270.1C39.06 261.1 51.27 256 64 256H448C460.7 256 472.9 261.1 481.9 270.1zM475.3 388.7C478.3 391.7 480 395.8 480 400V416C480 432.1 473.3 449.3 461.3 461.3C449.3 473.3 432.1 480 416 480H96C79.03 480 62.75 473.3 50.75 461.3C38.74 449.3 32 432.1 32 416V400C32 395.8 33.69 391.7 36.69 388.7C39.69 385.7 43.76 384 48 384H464C468.2 384 472.3 385.7 475.3 388.7zM50.39 220.8C45.93 218.6 42.03 215.5 38.97 211.6C35.91 207.7 33.79 203.2 32.75 198.4C31.71 193.5 31.8 188.5 32.99 183.7C54.98 97.02 146.5 32 256 32C365.5 32 457 97.02 479 183.7C480.2 188.5 480.3 193.5 479.2 198.4C478.2 203.2 476.1 207.7 473 211.6C469.1 215.5 466.1 218.6 461.6 220.8C457.2 222.9 452.3 224 447.3 224H64.67C59.73 224 54.84 222.9 50.39 220.8zM372.7 116.7C369.7 119.7 368 123.8 368 128C368 131.2 368.9 134.3 370.7 136.9C372.5 139.5 374.1 141.6 377.9 142.8C380.8 143.1 384 144.3 387.1 143.7C390.2 143.1 393.1 141.6 395.3 139.3C397.6 137.1 399.1 134.2 399.7 131.1C400.3 128 399.1 124.8 398.8 121.9C397.6 118.1 395.5 116.5 392.9 114.7C390.3 112.9 387.2 111.1 384 111.1C379.8 111.1 375.7 113.7 372.7 116.7V116.7zM244.7 84.69C241.7 87.69 240 91.76 240 96C240 99.16 240.9 102.3 242.7 104.9C244.5 107.5 246.1 109.6 249.9 110.8C252.8 111.1 256 112.3 259.1 111.7C262.2 111.1 265.1 109.6 267.3 107.3C269.6 105.1 271.1 102.2 271.7 99.12C272.3 96.02 271.1 92.8 270.8 89.88C269.6 86.95 267.5 84.45 264.9 82.7C262.3 80.94 259.2 79.1 256 79.1C251.8 79.1 247.7 81.69 244.7 84.69V84.69zM116.7 116.7C113.7 119.7 112 123.8 112 128C112 131.2 112.9 134.3 114.7 136.9C116.5 139.5 118.1 141.6 121.9 142.8C124.8 143.1 128 144.3 131.1 143.7C134.2 143.1 137.1 141.6 139.3 139.3C141.6 137.1 143.1 134.2 143.7 131.1C144.3 128 143.1 124.8 142.8 121.9C141.6 118.1 139.5 116.5 136.9 114.7C134.3 112.9 131.2 111.1 128 111.1C123.8 111.1 119.7 113.7 116.7 116.7L116.7 116.7z"})})},frequent:{outline:R("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[R("path",{d:"M13 4h-2l-.001 7H9v2h2v2h2v-2h4v-2h-4z"}),R("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"})]}),solid:R("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:R("path",{d:"M256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512zM232 256C232 264 236 271.5 242.7 275.1L338.7 339.1C349.7 347.3 364.6 344.3 371.1 333.3C379.3 322.3 376.3 307.4 365.3 300L280 243.2V120C280 106.7 269.3 96 255.1 96C242.7 96 231.1 106.7 231.1 120L232 256z"})})},nature:{outline:R("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[R("path",{d:"M15.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 15.5 8M8.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 8.5 8"}),R("path",{d:"M18.933 0h-.027c-.97 0-2.138.787-3.018 1.497-1.274-.374-2.612-.51-3.887-.51-1.285 0-2.616.133-3.874.517C7.245.79 6.069 0 5.093 0h-.027C3.352 0 .07 2.67.002 7.026c-.039 2.479.276 4.238 1.04 5.013.254.258.882.677 1.295.882.191 3.177.922 5.238 2.536 6.38.897.637 2.187.949 3.2 1.102C8.04 20.6 8 20.795 8 21c0 1.773 2.35 3 4 3 1.648 0 4-1.227 4-3 0-.201-.038-.393-.072-.586 2.573-.385 5.435-1.877 5.925-7.587.396-.22.887-.568 1.104-.788.763-.774 1.079-2.534 1.04-5.013C23.929 2.67 20.646 0 18.933 0M3.223 9.135c-.237.281-.837 1.155-.884 1.238-.15-.41-.368-1.349-.337-3.291.051-3.281 2.478-4.972 3.091-5.031.256.015.731.27 1.265.646-1.11 1.171-2.275 2.915-2.352 5.125-.133.546-.398.858-.783 1.313M12 22c-.901 0-1.954-.693-2-1 0-.654.475-1.236 1-1.602V20a1 1 0 1 0 2 0v-.602c.524.365 1 .947 1 1.602-.046.307-1.099 1-2 1m3-3.48v.02a4.752 4.752 0 0 0-1.262-1.02c1.092-.516 2.239-1.334 2.239-2.217 0-1.842-1.781-2.195-3.977-2.195-2.196 0-3.978.354-3.978 2.195 0 .883 1.148 1.701 2.238 2.217A4.8 4.8 0 0 0 9 18.539v-.025c-1-.076-2.182-.281-2.973-.842-1.301-.92-1.838-3.045-1.853-6.478l.023-.041c.496-.826 1.49-1.45 1.804-3.102 0-2.047 1.357-3.631 2.362-4.522C9.37 3.178 10.555 3 11.948 3c1.447 0 2.685.192 3.733.57 1 .9 2.316 2.465 2.316 4.48.313 1.651 1.307 2.275 1.803 3.102.035.058.068.117.102.178-.059 5.967-1.949 7.01-4.902 7.19m6.628-8.202c-.037-.065-.074-.13-.113-.195a7.587 7.587 0 0 0-.739-.987c-.385-.455-.648-.768-.782-1.313-.076-2.209-1.241-3.954-2.353-5.124.531-.376 1.004-.63 1.261-.647.636.071 3.044 1.764 3.096 5.031.027 1.81-.347 3.218-.37 3.235"})]}),solid:R("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:R("path",{d:"M332.7 19.85C334.6 8.395 344.5 0 356.1 0C363.6 0 370.6 3.52 375.1 9.502L392 32H444.1C456.8 32 469.1 37.06 478.1 46.06L496 64H552C565.3 64 576 74.75 576 88V112C576 156.2 540.2 192 496 192H426.7L421.6 222.5L309.6 158.5L332.7 19.85zM448 64C439.2 64 432 71.16 432 80C432 88.84 439.2 96 448 96C456.8 96 464 88.84 464 80C464 71.16 456.8 64 448 64zM416 256.1V480C416 497.7 401.7 512 384 512H352C334.3 512 320 497.7 320 480V364.8C295.1 377.1 268.8 384 240 384C211.2 384 184 377.1 160 364.8V480C160 497.7 145.7 512 128 512H96C78.33 512 64 497.7 64 480V249.8C35.23 238.9 12.64 214.5 4.836 183.3L.9558 167.8C-3.331 150.6 7.094 133.2 24.24 128.1C41.38 124.7 58.76 135.1 63.05 152.2L66.93 167.8C70.49 182 83.29 191.1 97.97 191.1H303.8L416 256.1z"})})},objects:{outline:R("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[R("path",{d:"M12 0a9 9 0 0 0-5 16.482V21s2.035 3 5 3 5-3 5-3v-4.518A9 9 0 0 0 12 0zm0 2c3.86 0 7 3.141 7 7s-3.14 7-7 7-7-3.141-7-7 3.14-7 7-7zM9 17.477c.94.332 1.946.523 3 .523s2.06-.19 3-.523v.834c-.91.436-1.925.689-3 .689a6.924 6.924 0 0 1-3-.69v-.833zm.236 3.07A8.854 8.854 0 0 0 12 21c.965 0 1.888-.167 2.758-.451C14.155 21.173 13.153 22 12 22c-1.102 0-2.117-.789-2.764-1.453z"}),R("path",{d:"M14.745 12.449h-.004c-.852-.024-1.188-.858-1.577-1.824-.421-1.061-.703-1.561-1.182-1.566h-.009c-.481 0-.783.497-1.235 1.537-.436.982-.801 1.811-1.636 1.791l-.276-.043c-.565-.171-.853-.691-1.284-1.794-.125-.313-.202-.632-.27-.913-.051-.213-.127-.53-.195-.634C7.067 9.004 7.039 9 6.99 9A1 1 0 0 1 7 7h.01c1.662.017 2.015 1.373 2.198 2.134.486-.981 1.304-2.058 2.797-2.075 1.531.018 2.28 1.153 2.731 2.141l.002-.008C14.944 8.424 15.327 7 16.979 7h.032A1 1 0 1 1 17 9h-.011c-.149.076-.256.474-.319.709a6.484 6.484 0 0 1-.311.951c-.429.973-.79 1.789-1.614 1.789"})]}),solid:R("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",children:R("path",{d:"M112.1 454.3c0 6.297 1.816 12.44 5.284 17.69l17.14 25.69c5.25 7.875 17.17 14.28 26.64 14.28h61.67c9.438 0 21.36-6.401 26.61-14.28l17.08-25.68c2.938-4.438 5.348-12.37 5.348-17.7L272 415.1h-160L112.1 454.3zM191.4 .0132C89.44 .3257 16 82.97 16 175.1c0 44.38 16.44 84.84 43.56 115.8c16.53 18.84 42.34 58.23 52.22 91.45c.0313 .25 .0938 .5166 .125 .7823h160.2c.0313-.2656 .0938-.5166 .125-.7823c9.875-33.22 35.69-72.61 52.22-91.45C351.6 260.8 368 220.4 368 175.1C368 78.61 288.9-.2837 191.4 .0132zM192 96.01c-44.13 0-80 35.89-80 79.1C112 184.8 104.8 192 96 192S80 184.8 80 176c0-61.76 50.25-111.1 112-111.1c8.844 0 16 7.159 16 16S200.8 96.01 192 96.01z"})})},people:{outline:R("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[R("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"}),R("path",{d:"M8 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 8 7M16 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 16 7M15.232 15c-.693 1.195-1.87 2-3.349 2-1.477 0-2.655-.805-3.347-2H15m3-2H6a6 6 0 1 0 12 0"})]}),solid:R("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:R("path",{d:"M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM256 432C332.1 432 396.2 382 415.2 314.1C419.1 300.4 407.8 288 393.6 288H118.4C104.2 288 92.92 300.4 96.76 314.1C115.8 382 179.9 432 256 432V432zM176.4 160C158.7 160 144.4 174.3 144.4 192C144.4 209.7 158.7 224 176.4 224C194 224 208.4 209.7 208.4 192C208.4 174.3 194 160 176.4 160zM336.4 224C354 224 368.4 209.7 368.4 192C368.4 174.3 354 160 336.4 160C318.7 160 304.4 174.3 304.4 192C304.4 209.7 318.7 224 336.4 224z"})})},places:{outline:R("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[R("path",{d:"M6.5 12C5.122 12 4 13.121 4 14.5S5.122 17 6.5 17 9 15.879 9 14.5 7.878 12 6.5 12m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5M17.5 12c-1.378 0-2.5 1.121-2.5 2.5s1.122 2.5 2.5 2.5 2.5-1.121 2.5-2.5-1.122-2.5-2.5-2.5m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5"}),R("path",{d:"M22.482 9.494l-1.039-.346L21.4 9h.6c.552 0 1-.439 1-.992 0-.006-.003-.008-.003-.008H23c0-1-.889-2-1.984-2h-.642l-.731-1.717C19.262 3.012 18.091 2 16.764 2H7.236C5.909 2 4.738 3.012 4.357 4.283L3.626 6h-.642C1.889 6 1 7 1 8h.003S1 8.002 1 8.008C1 8.561 1.448 9 2 9h.6l-.043.148-1.039.346a2.001 2.001 0 0 0-1.359 2.097l.751 7.508a1 1 0 0 0 .994.901H3v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h6v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h1.096a.999.999 0 0 0 .994-.901l.751-7.508a2.001 2.001 0 0 0-1.359-2.097M6.273 4.857C6.402 4.43 6.788 4 7.236 4h9.527c.448 0 .834.43.963.857L19.313 9H4.688l1.585-4.143zM7 21H5v-1h2v1zm12 0h-2v-1h2v1zm2.189-3H2.811l-.662-6.607L3 11h18l.852.393L21.189 18z"})]}),solid:R("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:R("path",{d:"M39.61 196.8L74.8 96.29C88.27 57.78 124.6 32 165.4 32H346.6C387.4 32 423.7 57.78 437.2 96.29L472.4 196.8C495.6 206.4 512 229.3 512 256V448C512 465.7 497.7 480 480 480H448C430.3 480 416 465.7 416 448V400H96V448C96 465.7 81.67 480 64 480H32C14.33 480 0 465.7 0 448V256C0 229.3 16.36 206.4 39.61 196.8V196.8zM109.1 192H402.9L376.8 117.4C372.3 104.6 360.2 96 346.6 96H165.4C151.8 96 139.7 104.6 135.2 117.4L109.1 192zM96 256C78.33 256 64 270.3 64 288C64 305.7 78.33 320 96 320C113.7 320 128 305.7 128 288C128 270.3 113.7 256 96 256zM416 320C433.7 320 448 305.7 448 288C448 270.3 433.7 256 416 256C398.3 256 384 270.3 384 288C384 305.7 398.3 320 416 320z"})})},symbols:{outline:R("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:R("path",{d:"M0 0h11v2H0zM4 11h3V6h4V4H0v2h4zM15.5 17c1.381 0 2.5-1.116 2.5-2.493s-1.119-2.493-2.5-2.493S13 13.13 13 14.507 14.119 17 15.5 17m0-2.986c.276 0 .5.222.5.493 0 .272-.224.493-.5.493s-.5-.221-.5-.493.224-.493.5-.493M21.5 19.014c-1.381 0-2.5 1.116-2.5 2.493S20.119 24 21.5 24s2.5-1.116 2.5-2.493-1.119-2.493-2.5-2.493m0 2.986a.497.497 0 0 1-.5-.493c0-.271.224-.493.5-.493s.5.222.5.493a.497.497 0 0 1-.5.493M22 13l-9 9 1.513 1.5 8.99-9.009zM17 11c2.209 0 4-1.119 4-2.5V2s.985-.161 1.498.949C23.01 4.055 23 6 23 6s1-1.119 1-3.135C24-.02 21 0 21 0h-2v6.347A5.853 5.853 0 0 0 17 6c-2.209 0-4 1.119-4 2.5s1.791 2.5 4 2.5M10.297 20.482l-1.475-1.585a47.54 47.54 0 0 1-1.442 1.129c-.307-.288-.989-1.016-2.045-2.183.902-.836 1.479-1.466 1.729-1.892s.376-.871.376-1.336c0-.592-.273-1.178-.818-1.759-.546-.581-1.329-.871-2.349-.871-1.008 0-1.79.293-2.344.879-.556.587-.832 1.181-.832 1.784 0 .813.419 1.748 1.256 2.805-.847.614-1.444 1.208-1.794 1.784a3.465 3.465 0 0 0-.523 1.833c0 .857.308 1.56.924 2.107.616.549 1.423.823 2.42.823 1.173 0 2.444-.379 3.813-1.137L8.235 24h2.819l-2.09-2.383 1.333-1.135zm-6.736-6.389a1.02 1.02 0 0 1 .73-.286c.31 0 .559.085.747.254a.849.849 0 0 1 .283.659c0 .518-.419 1.112-1.257 1.784-.536-.651-.805-1.231-.805-1.742a.901.901 0 0 1 .302-.669M3.74 22c-.427 0-.778-.116-1.057-.349-.279-.232-.418-.487-.418-.766 0-.594.509-1.288 1.527-2.083.968 1.134 1.717 1.946 2.248 2.438-.921.507-1.686.76-2.3.76"})}),solid:R("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:R("path",{d:"M500.3 7.251C507.7 13.33 512 22.41 512 31.1V175.1C512 202.5 483.3 223.1 447.1 223.1C412.7 223.1 383.1 202.5 383.1 175.1C383.1 149.5 412.7 127.1 447.1 127.1V71.03L351.1 90.23V207.1C351.1 234.5 323.3 255.1 287.1 255.1C252.7 255.1 223.1 234.5 223.1 207.1C223.1 181.5 252.7 159.1 287.1 159.1V63.1C287.1 48.74 298.8 35.61 313.7 32.62L473.7 .6198C483.1-1.261 492.9 1.173 500.3 7.251H500.3zM74.66 303.1L86.5 286.2C92.43 277.3 102.4 271.1 113.1 271.1H174.9C185.6 271.1 195.6 277.3 201.5 286.2L213.3 303.1H239.1C266.5 303.1 287.1 325.5 287.1 351.1V463.1C287.1 490.5 266.5 511.1 239.1 511.1H47.1C21.49 511.1-.0019 490.5-.0019 463.1V351.1C-.0019 325.5 21.49 303.1 47.1 303.1H74.66zM143.1 359.1C117.5 359.1 95.1 381.5 95.1 407.1C95.1 434.5 117.5 455.1 143.1 455.1C170.5 455.1 191.1 434.5 191.1 407.1C191.1 381.5 170.5 359.1 143.1 359.1zM440.3 367.1H496C502.7 367.1 508.6 372.1 510.1 378.4C513.3 384.6 511.6 391.7 506.5 396L378.5 508C372.9 512.1 364.6 513.3 358.6 508.9C352.6 504.6 350.3 496.6 353.3 489.7L391.7 399.1H336C329.3 399.1 323.4 395.9 321 389.6C318.7 383.4 320.4 376.3 325.5 371.1L453.5 259.1C459.1 255 467.4 254.7 473.4 259.1C479.4 263.4 481.6 271.4 478.7 278.3L440.3 367.1zM116.7 219.1L19.85 119.2C-8.112 90.26-6.614 42.31 24.85 15.34C51.82-8.137 93.26-3.642 118.2 21.83L128.2 32.32L137.7 21.83C162.7-3.642 203.6-8.137 231.6 15.34C262.6 42.31 264.1 90.26 236.1 119.2L139.7 219.1C133.2 225.6 122.7 225.6 116.7 219.1H116.7z"})})}},search:{loupe:R("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:R("path",{d:"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"})}),delete:R("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:R("path",{d:"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z"})})}};function Gn(c){var d=c.id,g=c.skin,f=c.emoji;if(c.shortcodes){var m=c.shortcodes.match(At.SHORTCODES_REGEX);m&&(d=m[1],m[2]&&(g=m[2]))}if(f||(f=At.get(d||c.native)),!f)return c.fallback;var y=f.skins[g-1]||f.skins[0],w=y.src||(c.set=="native"||c.spritesheet?void 0:typeof c.getImageURL=="function"?c.getImageURL(c.set,y.unified):"https://cdn.jsdelivr.net/npm/emoji-datasource-".concat(c.set,"@15.0.1/img/").concat(c.set,"/64/").concat(y.unified,".png")),S=typeof c.getSpritesheetURL=="function"?c.getSpritesheetURL(c.set):"https://cdn.jsdelivr.net/npm/emoji-datasource-".concat(c.set,"@15.0.1/img/").concat(c.set,"/sheets-256/64.png");return R("span",{class:"emoji-mart-emoji","data-emoji-set":c.set,children:w?R("img",{style:{maxWidth:c.size||"1em",maxHeight:c.size||"1em",display:"inline-block"},alt:y.native||y.shortcodes,src:w}):c.set=="native"?R("span",{style:{fontSize:c.size,fontFamily:'"EmojiMart", "Segoe UI Emoji", "Segoe UI Symbol", "Segoe UI", "Apple Color Emoji", "Twemoji Mozilla", "Noto Color Emoji", "Android Emoji"'},children:y.native}):R("span",{style:{display:"block",width:c.size,height:c.size,backgroundImage:"url(".concat(S,")"),backgroundSize:"".concat(100*ut.sheet.cols,"% ").concat(100*ut.sheet.rows,"%"),backgroundPosition:"".concat(100/(ut.sheet.cols-1)*y.x,"% ").concat(100/(ut.sheet.rows-1)*y.y,"%")}})})}function rs(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function br(c,d,g){return(br=rs()?Reflect.construct:function(f,m,y){var w=[null];w.push.apply(w,m);var S=new(Function.bind.apply(f,w));return y&&C(S,y.prototype),S}).apply(null,arguments)}function ss(c,d,g){return br.apply(null,arguments)}function Ft(c){var d=typeof Map=="function"?new Map:void 0;return Ft=function(g){if(g===null||(f=g,Function.toString.call(f).indexOf("[native code]")===-1))return g;var f;if(typeof g!="function")throw new TypeError("Super expression must either be null or a function");if(d!==void 0){if(d.has(g))return d.get(g);d.set(g,m)}function m(){return ss(g,arguments,Tt(this).constructor)}return m.prototype=Object.create(g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),C(m,g)},Ft(c)}function vr(c){return Ft(c)}var yr=function(c){_(g,c);var d=zt(g);function g(){var f,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(a(this,g),(f=d.call(this)).props=m,m.parent||m.ref){var y=null,w=m.parent||(y=m.ref&&m.ref.current);y&&(y.innerHTML=""),w&&w.appendChild(n(f))}return f}return u(g,[{key:"update",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(var m in f)this.attributeChangedCallback(m,null,f[m])}},{key:"attributeChangedCallback",value:function(f,m,y){if(this.component){var w=pr(f,p({},f,y),this.constructor.Props,this);this.component.componentWillReceiveProps?this.component.componentWillReceiveProps(p({},f,w)):(this.component.props[f]=w,this.component.forceUpdate())}}},{key:"disconnectedCallback",value:function(){this.disconnected=!0,this.component&&this.component.unregister&&this.component.unregister()}}],[{key:"observedAttributes",get:function(){return Object.keys(this.Props)}}]),g}(typeof window<"u"&&window.HTMLElement?window.HTMLElement:Object),is=function(c){_(g,c);var d=zt(g);function g(f){var m,y=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).styles;return a(this,g),(m=d.call(this,f)).setShadow(),m.injectStyles(y),m}return u(g,[{key:"setShadow",value:function(){this.attachShadow({mode:"open"})}},{key:"injectStyles",value:function(f){if(f){var m=document.createElement("style");m.textContent=f,this.shadowRoot.insertBefore(m,this.shadowRoot.firstChild)}}}]),g}(vr(yr)),_r={fallback:"",id:"",native:"",shortcodes:"",size:{value:"",transform:function(c){return/\D/.test(c)?c:"".concat(c,"px")}},set:Gt.set,skin:Gt.skin},Yn=function(c){_(g,c);var d=zt(g);function g(f){return a(this,g),d.call(this,f)}return u(g,[{key:"connectedCallback",value:function(){var f=this;return i(t(kt).mark(function m(){var y;return t(kt).wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return(y=fr(f.props,_r,f)).element=f,y.ref=function(S){f.component=S},w.next=5,ze();case 5:if(!f.disconnected){w.next=7;break}return w.abrupt("return");case 7:De(R(Gn,k({},y)),f);case 8:case"end":return w.stop()}},m)}))()}}]),g}(vr(yr));p(Yn,"Props",_r),typeof customElements>"u"||customElements.get("em-emoji")||customElements.define("em-emoji",Yn);var on,In=[],an=it.__b,ue=it.__r,On=it.diffed,wr=it.__c,Cr=it.unmount;function os(){var c;for(In.sort(function(d,g){return d.__v.__b-g.__v.__b});c=In.pop();)if(c.__P)try{c.__H.__h.forEach(qn),c.__H.__h.forEach(Ve),c.__H.__h=[]}catch(d){c.__H.__h=[],it.__e(d,c.__v)}}it.__b=function(c){an&&an(c)},it.__r=function(c){ue&&ue(c);var d=c.__c.__H;d&&(d.__h.forEach(qn),d.__h.forEach(Ve),d.__h=[])},it.diffed=function(c){On&&On(c);var d=c.__c;d&&d.__H&&d.__H.__h.length&&(In.push(d)!==1&&on===it.requestAnimationFrame||((on=it.requestAnimationFrame)||function(g){var f,m=function(){clearTimeout(y),xr&&cancelAnimationFrame(f),setTimeout(g)},y=setTimeout(m,100);xr&&(f=requestAnimationFrame(m))})(os))},it.__c=function(c,d){d.some(function(g){try{g.__h.forEach(qn),g.__h=g.__h.filter(function(f){return!f.__||Ve(f)})}catch(f){d.some(function(m){m.__h&&(m.__h=[])}),d=[],it.__e(f,g.__v)}}),wr&&wr(c,d)},it.unmount=function(c){Cr&&Cr(c);var d,g=c.__c;g&&g.__H&&(g.__H.__.forEach(function(f){try{qn(f)}catch(m){d=m}}),d&&it.__e(d,g.__v))};var xr=typeof requestAnimationFrame=="function";function qn(c){var d=c.__c;typeof d=="function"&&(c.__c=void 0,d())}function Ve(c){c.__c=c.__()}function Xn(c,d){for(var g in d)c[g]=d[g];return c}function Fe(c,d){for(var g in c)if(g!=="__source"&&!(g in d))return!0;for(var f in d)if(f!=="__source"&&c[f]!==d[f])return!0;return!1}function ln(c){this.props=c}(ln.prototype=new ne).isPureReactComponent=!0,ln.prototype.shouldComponentUpdate=function(c,d){return Fe(this.props,c)||Fe(this.state,d)};var Qn=it.__b;it.__b=function(c){c.type&&c.type.__f&&c.ref&&(c.props.ref=c.ref,c.ref=null),Qn&&Qn(c)};var as=it.__e;it.__e=function(c,d,g){if(c.then){for(var f,m=d;m=m.__;)if((f=m.__c)&&f.__c)return d.__e==null&&(d.__e=g.__e,d.__k=g.__k),f.__c(c,d)}as(c,d,g)};var kr=it.unmount;function Jn(){this.__u=0,this.t=null,this.__b=null}function Er(c){var d=c.__.__c;return d&&d.__e&&d.__e(c)}function Ze(){this.u=null,this.o=null}it.unmount=function(c){var d=c.__c;d&&d.__R&&d.__R(),d&&c.__h===!0&&(c.type=null),kr&&kr(c)},(Jn.prototype=new ne).__c=function(c,d){var g=d.__c,f=this;f.t==null&&(f.t=[]),f.t.push(g);var m=Er(f.__v),y=!1,w=function(){y||(y=!0,g.__R=null,m?m(S):S())};g.__R=w;var S=function(){if(!--f.__u){if(f.state.__e){var I=f.state.__e;f.__v.__k[0]=function h(b,x,j){return b&&(b.__v=null,b.__k=b.__k&&b.__k.map(function(q){return h(q,x,j)}),b.__c&&b.__c.__P===x&&(b.__e&&j.insertBefore(b.__e,b.__d),b.__c.__e=!0,b.__c.__P=j)),b}(I,I.__c.__P,I.__c.__O)}var o;for(f.setState({__e:f.__b=null});o=f.t.pop();)o.forceUpdate()}},L=d.__h===!0;f.__u++||L||f.setState({__e:f.__b=f.__v.__k[0]}),c.then(w,w)},Jn.prototype.componentWillUnmount=function(){this.t=[]},Jn.prototype.render=function(c,d){if(this.__b){if(this.__v.__k){var g=document.createElement("div"),f=this.__v.__k[0].__c;this.__v.__k[0]=function y(w,S,L){return w&&(w.__c&&w.__c.__H&&(w.__c.__H.__.forEach(function(I){typeof I.__c=="function"&&I.__c()}),w.__c.__H=null),(w=Xn({},w)).__c!=null&&(w.__c.__P===L&&(w.__c.__P=S),w.__c=null),w.__k=w.__k&&w.__k.map(function(I){return y(I,S,L)})),w}(this.__b,g,f.__O=f.__P)}this.__b=null}var m=d.__e&&bn(Vt,null,c.fallback);return m&&(m.__h=null),[bn(Vt,null,d.__e?null:c.children),m]};var Sr=function(c,d,g){if(++g[1]===g[0]&&c.o.delete(d),c.props.revealOrder&&(c.props.revealOrder[0]!=="t"||!c.o.size))for(g=c.u;g;){for(;g.length>3;)g.pop()();if(g[1]<g[0])break;c.u=g=g[2]}};(Ze.prototype=new ne).__e=function(c){var d=this,g=Er(d.__v),f=d.o.get(c);return f[0]++,function(m){var y=function(){d.props.revealOrder?(f.push(m),Sr(d,c,f)):m()};g?g(y):y()}},Ze.prototype.render=function(c){this.u=null,this.o=new Map;var d=$e(c.children);c.revealOrder&&c.revealOrder[0]==="b"&&d.reverse();for(var g=d.length;g--;)this.o.set(d[g],this.u=[1,0,this.u]);return c.children},Ze.prototype.componentDidUpdate=Ze.prototype.componentDidMount=function(){var c=this;this.o.forEach(function(d,g){Sr(c,g,d)})};var ls=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,cn=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,he=typeof document<"u";ne.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(c){Object.defineProperty(ne.prototype,c,{configurable:!0,get:function(){return this["UNSAFE_"+c]},set:function(d){Object.defineProperty(this,c,{configurable:!0,writable:!0,value:d})}})});var ge=it.event;function Te(){}function cs(){return this.cancelBubble}function be(){return this.defaultPrevented}it.event=function(c){return ge&&(c=ge(c)),c.persist=Te,c.isPropagationStopped=cs,c.isDefaultPrevented=be,c.nativeEvent=c};var Tr={configurable:!0,get:function(){return this.class}},Ar=it.vnode;it.vnode=function(c){var d,g=c.type,f=c.props,m=f;if(typeof g=="string"){var y=g.indexOf("-")===-1;for(var w in m={},f){var S=f[w];he&&w==="children"&&g==="noscript"||w==="value"&&"defaultValue"in f&&S==null||(w==="defaultValue"&&"value"in f&&f.value==null?w="value":w==="download"&&S===!0?S="":/ondoubleclick/i.test(w)?w="ondblclick":/^onchange(textarea|input)/i.test(w+g)&&(d=f.type,!(typeof Symbol<"u"&&Pt(Symbol())=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(d))?w="oninput":/^onfocus$/i.test(w)?w="onfocusin":/^onblur$/i.test(w)?w="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(w)?w=w.toLowerCase():y&&cn.test(w)?w=w.replace(/[A-Z0-9]/,"-$&").toLowerCase():S===null&&(S=void 0),m[w]=S)}g=="select"&&m.multiple&&Array.isArray(m.value)&&(m.value=$e(f.children).forEach(function(L){L.props.selected=m.value.indexOf(L.props.value)!=-1})),g=="select"&&m.defaultValue!=null&&(m.value=$e(f.children).forEach(function(L){L.props.selected=m.multiple?m.defaultValue.indexOf(L.props.value)!=-1:m.defaultValue==L.props.value})),c.props=m,f.class!=f.className&&(Tr.enumerable="className"in f,f.className!=null&&(m.class=f.className),Object.defineProperty(m,"className",Tr))}c.$$typeof=ls,Ar&&Ar(c)};var Lr=it.__r;it.__r=function(c){Lr&&Lr(c),c.__c};var us={light:"outline",dark:"solid"},Nr=function(c){_(g,c);var d=zt(g);function g(){var f;return a(this,g),(f=d.call(this)).categories=ut.categories.filter(function(m){return!m.target}),f.state={categoryId:f.categories[0].id},f}return u(g,[{key:"renderIcon",value:function(f){var m=f.icon;if(m){if(m.svg)return R("span",{class:"flex",dangerouslySetInnerHTML:{__html:m.svg}});if(m.src)return R("img",{src:m.src})}var y=Mn.categories[f.id]||Mn.categories.custom;return y[this.props.icons=="auto"?us[this.props.theme]:this.props.icons]||y}},{key:"render",value:function(){var f=this,m=null;return R("nav",{id:"nav",class:"padding","data-position":this.props.position,dir:this.props.dir,children:R("div",{class:"flex relative",children:[this.categories.map(function(y,w){var S=f,L=y.name||Ot.categories[y.id],I=!f.props.unfocused&&y.id==f.state.categoryId;return I&&(m=w),R("button",{"aria-label":L,"aria-selected":I||void 0,title:L,type:"button",class:"flex flex-grow flex-center",onMouseDown:function(o){return o.preventDefault()},onClick:function(){S.props.onClick({category:y,i:w})},children:f.renderIcon(y)})}),R("div",{class:"bar",style:{width:"".concat(100/this.categories.length,"%"),opacity:m==null?0:1,transform:this.props.dir==="rtl"?"scaleX(-1) translateX(".concat(100*m,"%)"):"translateX(".concat(100*m,"%)")}})]})})}}]),g}(ln),Zt=function(c){_(g,c);var d=zt(g);function g(){return a(this,g),d.apply(this,arguments)}return u(g,[{key:"shouldComponentUpdate",value:function(f){for(var m in f)if(m!="children"&&f[m]!=this.props[m])return!0;return!1}},{key:"render",value:function(){return this.props.children}}]),g}(ln),un=10,Mr=function(c){_(g,c);var d=zt(g);function g(f){var m;a(this,g),p(n(m=d.call(this)),"darkMediaCallback",function(){m.props.theme=="auto"&&m.setState({theme:m.darkMedia.matches?"dark":"light"})}),p(n(m),"handleClickOutside",function(w){var S=m.props.element;w.target!=S&&(m.state.showSkins&&m.closeSkins(),m.props.onClickOutside&&m.props.onClickOutside(w))}),p(n(m),"handleBaseClick",function(w){m.state.showSkins&&(w.target.closest(".menu")||(w.preventDefault(),w.stopImmediatePropagation(),m.closeSkins()))}),p(n(m),"handleBaseKeydown",function(w){m.state.showSkins&&w.key=="Escape"&&(w.preventDefault(),w.stopImmediatePropagation(),m.closeSkins())}),p(n(m),"handleSearchClick",function(){m.getEmojiByPos(m.state.pos)&&m.setState({pos:[-1,-1]})});var y=n(m);return p(n(m),"handleSearchInput",i(t(kt).mark(function w(){var S,L,I,o,h,b,x,j,q,U,Z,Y,tt;return t(kt).wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(S=y.refs.searchInput.current){X.next=3;break}return X.abrupt("return");case 3:return L=S.value,X.next=6,At.search(L);case 6:if(I=X.sent,o=function(){y.refs.scroll.current&&(y.refs.scroll.current.scrollTop=0)},I){X.next=10;break}return X.abrupt("return",y.setState({searchResults:I,pos:[-1,-1]},o));case 10:for(h=S.selectionStart==S.value.length?[0,0]:[-1,-1],(b=[]).setsize=I.length,x=null,j=!0,q=!1,U=void 0,X.prev=15,Z=I[Symbol.iterator]();!(j=(Y=Z.next()).done);j=!0)tt=Y.value,b.length&&x.length!=y.getPerLine()||((x=[]).__categoryId="search",x.__index=b.length,b.push(x)),x.push(tt);X.next=23;break;case 19:X.prev=19,X.t0=X.catch(15),q=!0,U=X.t0;case 23:X.prev=23,X.prev=24,j||Z.return==null||Z.return();case 26:if(X.prev=26,!q){X.next=29;break}throw U;case 29:return X.finish(26);case 30:return X.finish(23);case 31:y.ignoreMouse(),y.setState({searchResults:b,pos:h},o);case 33:case"end":return X.stop()}},w,null,[[15,19,23,31],[24,,26,30]])}))),p(n(m),"handleSearchKeyDown",function(w){var S=w.currentTarget;switch(w.stopImmediatePropagation(),w.key){case"ArrowLeft":m.navigate({e:w,input:S,left:!0});break;case"ArrowRight":m.navigate({e:w,input:S,right:!0});break;case"ArrowUp":m.navigate({e:w,input:S,up:!0});break;case"ArrowDown":m.navigate({e:w,input:S,down:!0});break;case"Enter":w.preventDefault(),m.handleEmojiClick({e:w,pos:m.state.pos});break;case"Escape":w.preventDefault(),m.state.searchResults?m.clearSearch():m.unfocusSearch()}}),p(n(m),"clearSearch",function(){var w=m.refs.searchInput.current;w&&(w.value="",w.focus(),m.handleSearchInput())}),p(n(m),"handleCategoryClick",function(w){var S=w.category,L=w.i;m.scrollTo(L==0?{row:-1}:{categoryId:S.id})}),p(n(m),"openSkins",function(w){var S=w.currentTarget.getBoundingClientRect(),L=n(m);m.setState({showSkins:S},i(t(kt).mark(function I(){var o;return t(kt).wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,es(2);case 2:if(o=L.refs.menu.current){h.next=5;break}return h.abrupt("return");case 5:o.classList.remove("hidden"),L.refs.skinToneRadio.current.focus(),L.base.addEventListener("click",L.handleBaseClick,!0),L.base.addEventListener("keydown",L.handleBaseKeydown,!0);case 9:case"end":return h.stop()}},I)})))}),m.observers=[],m.state=k({pos:[-1,-1],perLine:m.initDynamicPerLine(f),visibleRows:{0:!0}},m.getInitialState(f)),m}return u(g,[{key:"getInitialState",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return{skin:Rt.get("skin")||f.skin,theme:this.initTheme(f.theme)}}},{key:"componentWillMount",value:function(){this.dir=Ot.rtl?"rtl":"ltr",this.refs={menu:{current:null},navigation:{current:null},scroll:{current:null},search:{current:null},searchInput:{current:null},skinToneButton:{current:null},skinToneRadio:{current:null}},this.initGrid(),this.props.stickySearch==0&&this.props.searchPosition=="sticky"&&(console.warn("[EmojiMart] Deprecation warning: `stickySearch` has been renamed `searchPosition`."),this.props.searchPosition="static")}},{key:"componentDidMount",value:function(){if(this.register(),this.shadowRoot=this.base.parentNode,this.props.autoFocus){var f=this.refs.searchInput;f.current&&f.current.focus()}}},{key:"componentWillReceiveProps",value:function(f){var m=this;for(var y in this.nextState||(this.nextState={}),f)this.nextState[y]=f[y];clearTimeout(this.nextStateTimer),this.nextStateTimer=setTimeout(function(){var w=!1;for(var S in m.nextState)m.props[S]=m.nextState[S],S!=="custom"&&S!=="categories"||(w=!0);delete m.nextState;var L=m.getInitialState();if(w)return m.reset(L);m.setState(L)})}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"reset",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=this;return i(t(kt).mark(function y(){return t(kt).wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,ze(m.props);case 2:m.initGrid(),m.unobserve(),m.setState(f,function(){m.observeCategories(),m.observeRows()});case 5:case"end":return w.stop()}},y)}))()}},{key:"register",value:function(){document.addEventListener("click",this.handleClickOutside),this.observe()}},{key:"unregister",value:function(){var f;document.removeEventListener("click",this.handleClickOutside),(f=this.darkMedia)===null||f===void 0||f.removeEventListener("change",this.darkMediaCallback),this.unobserve()}},{key:"observe",value:function(){this.observeCategories(),this.observeRows()}},{key:"unobserve",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=f.except,y=m===void 0?[]:m;Array.isArray(y)||(y=[y]);var w=!0,S=!1,L=void 0;try{for(var I,o=this.observers[Symbol.iterator]();!(w=(I=o.next()).done);w=!0){var h=I.value;y.includes(h)||h.disconnect()}}catch(b){S=!0,L=b}finally{try{w||o.return==null||o.return()}finally{if(S)throw L}}this.observers=[].concat(y)}},{key:"initGrid",value:function(){var f=this,m=ut.categories;this.refs.categories=new Map;var y=ut.categories.map(function(K){return K.id}).join(",");this.navKey&&this.navKey!=y&&this.refs.scroll.current&&(this.refs.scroll.current.scrollTop=0),this.navKey=y,this.grid=[],this.grid.setsize=0;var w=function(K,at){var F=[];F.__categoryId=at.id,F.__index=K.length,f.grid.push(F);var ht=f.grid.length-1,vt=ht%un?{}:{current:null};return vt.index=ht,vt.posinset=f.grid.setsize+1,K.push(vt),F},S=!0,L=!1,I=void 0;try{for(var o,h=m[Symbol.iterator]();!(S=(o=h.next()).done);S=!0){var b=o.value,x=[],j=w(x,b),q=!0,U=!1,Z=void 0;try{for(var Y,tt=b.emojis[Symbol.iterator]();!(q=(Y=tt.next()).done);q=!0){var X=Y.value;j.length==this.getPerLine()&&(j=w(x,b)),this.grid.setsize+=1,j.push(X)}}catch(K){U=!0,Z=K}finally{try{q||tt.return==null||tt.return()}finally{if(U)throw Z}}this.refs.categories.set(b.id,{root:{current:null},rows:x})}}catch(K){L=!0,I=K}finally{try{S||h.return==null||h.return()}finally{if(L)throw I}}}},{key:"initTheme",value:function(f){if(f!="auto")return f;if(!this.darkMedia){if(this.darkMedia=matchMedia("(prefers-color-scheme: dark)"),this.darkMedia.media.match(/^not/))return"light";this.darkMedia.addEventListener("change",this.darkMediaCallback)}return this.darkMedia.matches?"dark":"light"}},{key:"initDynamicPerLine",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,m=this;if(f.dynamicWidth){var y=f.element,w=f.emojiButtonSize,S=function(){var I=y.getBoundingClientRect().width;return Math.floor(I/w)},L=new ResizeObserver(function(){var I=m;m.unobserve({except:L}),m.setState({perLine:S()},function(){var o=I;I.initGrid(),I.forceUpdate(function(){o.observeCategories(),o.observeRows()})})});return L.observe(y),this.observers.push(L),S()}}},{key:"getPerLine",value:function(){return this.state.perLine||this.props.perLine}},{key:"getEmojiByPos",value:function(f){var m=z(f,2),y=m[0],w=m[1],S=this.state.searchResults||this.grid,L=S[y]&&S[y][w];if(L)return At.get(L)}},{key:"observeCategories",value:function(){var f=this.refs.navigation.current;if(f){var m=new Map,y={root:this.refs.scroll.current,threshold:[0,1]},w=new IntersectionObserver(function(x){var j=!0,q=!1,U=void 0;try{for(var Z,Y=x[Symbol.iterator]();!(j=(Z=Y.next()).done);j=!0){var tt=Z.value,X=tt.target.dataset.id;m.set(X,tt.intersectionRatio)}}catch(jt){q=!0,U=jt}finally{try{j||Y.return==null||Y.return()}finally{if(q)throw U}}var K,at=V(m),F=!0,ht=!1,vt=void 0;try{for(var dt,Nt=at[Symbol.iterator]();!(F=(dt=Nt.next()).done);F=!0){var bt=z(dt.value,2),Bt=bt[0];if(bt[1]){(K=Bt)!=f.state.categoryId&&f.setState({categoryId:K});break}}}catch(jt){ht=!0,vt=jt}finally{try{F||Nt.return==null||Nt.return()}finally{if(ht)throw vt}}},y),S=!0,L=!1,I=void 0;try{for(var o,h=this.refs.categories.values()[Symbol.iterator]();!(S=(o=h.next()).done);S=!0){var b=o.value.root;w.observe(b.current)}}catch(x){L=!0,I=x}finally{try{S||h.return==null||h.return()}finally{if(L)throw I}}this.observers.push(w)}}},{key:"observeRows",value:function(){var f=this,m=k({},this.state.visibleRows),y=new IntersectionObserver(function(Y){var tt=!0,X=!1,K=void 0;try{for(var at,F=Y[Symbol.iterator]();!(tt=(at=F.next()).done);tt=!0){var ht=at.value,vt=parseInt(ht.target.dataset.index);ht.isIntersecting?m[vt]=!0:delete m[vt]}}catch(dt){X=!0,K=dt}finally{try{tt||F.return==null||F.return()}finally{if(X)throw K}}f.setState({visibleRows:m})},{root:this.refs.scroll.current,rootMargin:"".concat(this.props.emojiButtonSize*(un+5),"px 0px ").concat(this.props.emojiButtonSize*un,"px")}),w=!0,S=!1,L=void 0;try{for(var I,o=this.refs.categories.values()[Symbol.iterator]();!(w=(I=o.next()).done);w=!0){var h=I.value.rows,b=!0,x=!1,j=void 0;try{for(var q,U=h[Symbol.iterator]();!(b=(q=U.next()).done);b=!0){var Z=q.value;Z.current&&y.observe(Z.current)}}catch(Y){x=!0,j=Y}finally{try{b||U.return==null||U.return()}finally{if(x)throw j}}}}catch(Y){S=!0,L=Y}finally{try{w||o.return==null||o.return()}finally{if(S)throw L}}this.observers.push(y)}},{key:"preventDefault",value:function(f){f.preventDefault()}},{key:"unfocusSearch",value:function(){var f=this.refs.searchInput.current;f&&f.blur()}},{key:"navigate",value:function(f){var m=f.e,y=f.input,w=f.left,S=f.right,L=f.up,I=f.down,o=this,h=this.state.searchResults||this.grid;if(h.length){var b=z(this.state.pos,2),x=b[0],j=b[1],q=function(){if(x==0&&j==0&&!m.repeat&&(w||L))return null;if(x==-1)return m.repeat||!S&&!I||y.selectionStart!=y.value.length?null:[0,0];if(w||S){var U=h[x],Z=w?-1:1;if(!U[j+=Z]){if(!(U=h[x+=Z]))return x=w?0:h.length-1,j=w?0:h[x].length-1,[x,j];j=w?U.length-1:0}return[x,j]}if(L||I){var Y=h[x+=L?-1:1];return Y?(Y[j]||(j=Y.length-1),[x,j]):(x=L?0:h.length-1,j=L?0:h[x].length-1,[x,j])}}();q?(m.preventDefault(),this.setState({pos:q,keyboard:!0},function(){o.scrollTo({row:q[0]})})):this.state.pos[0]>-1&&this.setState({pos:[-1,-1]})}}},{key:"scrollTo",value:function(f){var m=f.categoryId,y=f.row,w=this.state.searchResults||this.grid;if(w.length){var S=this.refs.scroll.current,L=S.getBoundingClientRect(),I=0;if(y>=0&&(m=w[y].__categoryId),m&&(I=(this.refs[m]||this.refs.categories.get(m).root).current.getBoundingClientRect().top-(L.top-S.scrollTop)+1),y>=0)if(y){var o=I+w[y].__index*this.props.emojiButtonSize,h=o+this.props.emojiButtonSize+.88*this.props.emojiButtonSize;if(o<S.scrollTop)I=o;else{if(!(h>S.scrollTop+L.height))return;I=h-L.height}}else I=0;this.ignoreMouse(),S.scrollTop=I}}},{key:"ignoreMouse",value:function(){var f=this;this.mouseIsIgnored=!0,clearTimeout(this.ignoreMouseTimer),this.ignoreMouseTimer=setTimeout(function(){delete f.mouseIsIgnored},100)}},{key:"handleEmojiOver",value:function(f){this.mouseIsIgnored||this.state.showSkins||this.setState({pos:f||[-1,-1],keyboard:!1})}},{key:"handleEmojiClick",value:function(f){var m=f.e,y=f.emoji,w=f.pos;if(this.props.onEmojiSelect&&(!y&&w&&(y=this.getEmojiByPos(w)),y)){var S=gr(y,{skinIndex:this.state.skin-1});this.props.maxFrequentRows&&re.add(S,this.props),this.props.onEmojiSelect(S,m)}}},{key:"closeSkins",value:function(){this.state.showSkins&&(this.setState({showSkins:null,tempSkin:null}),this.base.removeEventListener("click",this.handleBaseClick),this.base.removeEventListener("keydown",this.handleBaseKeydown))}},{key:"handleSkinMouseOver",value:function(f){this.setState({tempSkin:f})}},{key:"handleSkinClick",value:function(f){this.ignoreMouse(),this.closeSkins(),this.setState({skin:f,tempSkin:null}),Rt.set("skin",f)}},{key:"renderNav",value:function(){return R(Nr,{ref:this.refs.navigation,icons:this.props.icons,theme:this.state.theme,dir:this.dir,unfocused:!!this.state.searchResults,position:this.props.navPosition,onClick:this.handleCategoryClick},this.navKey)}},{key:"renderPreview",value:function(){var f=this.getEmojiByPos(this.state.pos),m=this.state.searchResults&&!this.state.searchResults.length;return R("div",{id:"preview",class:"flex flex-middle",dir:this.dir,"data-position":this.props.previewPosition,children:[R("div",{class:"flex flex-middle flex-grow",children:[R("div",{class:"flex flex-auto flex-middle flex-center",style:{height:this.props.emojiButtonSize,fontSize:this.props.emojiButtonSize},children:R(Gn,{emoji:f,id:m?this.props.noResultsEmoji||"cry":this.props.previewEmoji||(this.props.previewPosition=="top"?"point_down":"point_up"),set:this.props.set,size:this.props.emojiButtonSize,skin:this.state.tempSkin||this.state.skin,spritesheet:!0,getSpritesheetURL:this.props.getSpritesheetURL})}),R("div",{class:"margin-".concat(this.dir[0]),children:R("div",f||m?{class:"padding-".concat(this.dir[2]," align-").concat(this.dir[0]),children:[R("div",{class:"preview-title ellipsis",children:f?f.name:Ot.search_no_results_1}),R("div",{class:"preview-subtitle ellipsis color-c",children:f?f.skins[0].shortcodes:Ot.search_no_results_2})]}:{class:"preview-placeholder color-c",children:Ot.pick})})]}),!f&&this.props.skinTonePosition=="preview"&&this.renderSkinToneButton()]})}},{key:"renderEmojiButton",value:function(f,m){var y,w,S=m.pos,L=m.posinset,I=m.grid,o=this,h=this.props.emojiButtonSize,b=this.state.tempSkin||this.state.skin,x=(f.skins[b-1]||f.skins[0]).native,j=(y=this.state.pos,w=S,Array.isArray(y)&&Array.isArray(w)&&y.length===w.length&&y.every(function(U,Z){return U==w[Z]})),q=S.concat(f.id).join("");return R(Zt,{selected:j,skin:b,size:h,children:R("button",{"aria-label":x,"aria-selected":j||void 0,"aria-posinset":L,"aria-setsize":I.setsize,"data-keyboard":this.state.keyboard,title:this.props.previewPosition=="none"?f.name:void 0,type:"button",class:"flex flex-center flex-middle",tabindex:"-1",onClick:function(U){return o.handleEmojiClick({e:U,emoji:f})},onMouseEnter:function(){return o.handleEmojiOver(S)},onMouseLeave:function(){return o.handleEmojiOver()},style:{width:this.props.emojiButtonSize,height:this.props.emojiButtonSize,fontSize:this.props.emojiSize,lineHeight:0},children:[R("div",{"aria-hidden":"true",class:"background",style:{borderRadius:this.props.emojiButtonRadius,backgroundColor:this.props.emojiButtonColors?this.props.emojiButtonColors[(L-1)%this.props.emojiButtonColors.length]:void 0}}),R(Gn,{emoji:f,set:this.props.set,size:this.props.emojiSize,skin:b,spritesheet:!0,getSpritesheetURL:this.props.getSpritesheetURL})]})},q)}},{key:"renderSearch",value:function(){var f=this.props.previewPosition=="none"||this.props.skinTonePosition=="search";return R("div",{children:[R("div",{class:"spacer"}),R("div",{class:"flex flex-middle",children:[R("div",{class:"search relative flex-grow",children:[R("input",{type:"search",ref:this.refs.searchInput,placeholder:Ot.search,onClick:this.handleSearchClick,onInput:this.handleSearchInput,onKeyDown:this.handleSearchKeyDown,autoComplete:"off"}),R("span",{class:"icon loupe flex",children:Mn.search.loupe}),this.state.searchResults&&R("button",{title:"Clear","aria-label":"Clear",type:"button",class:"icon delete flex",onClick:this.clearSearch,onMouseDown:this.preventDefault,children:Mn.search.delete})]}),f&&this.renderSkinToneButton()]})]})}},{key:"renderSearchResults",value:function(){var f=this,m=this.state.searchResults;return m?R("div",{class:"category",ref:this.refs.search,children:[R("div",{class:"sticky padding-small align-".concat(this.dir[0]),children:Ot.categories.search}),R("div",{children:m.length?m.map(function(y,w){var S=f;return R("div",{class:"flex",children:y.map(function(L,I){return S.renderEmojiButton(L,{pos:[w,I],posinset:w*S.props.perLine+I+1,grid:m})})})}):R("div",{class:"padding-small align-".concat(this.dir[0]),children:this.props.onAddCustomEmoji&&R("a",{onClick:this.props.onAddCustomEmoji,children:Ot.add_custom})})})]}):null}},{key:"renderCategories",value:function(){var f=this,m=ut.categories,y=!!this.state.searchResults,w=this.getPerLine();return R("div",{style:{visibility:y?"hidden":void 0,display:y?"none":void 0,height:"100%"},children:m.map(function(S){var L=f,I=f.refs.categories.get(S.id),o=I.root,h=I.rows;return R("div",{"data-id":S.target?S.target.id:S.id,class:"category",ref:o,children:[R("div",{class:"sticky padding-small align-".concat(f.dir[0]),children:S.name||Ot.categories[S.id]}),R("div",{class:"relative",style:{height:h.length*f.props.emojiButtonSize},children:h.map(function(b,x){var j,q=L,U=b.index-b.index%un,Z=L.state.visibleRows[U],Y="current"in b?b:void 0;if(!Z&&!Y)return null;var tt=x*w,X=tt+w,K=S.emojis.slice(tt,X);return K.length<w&&(j=K).push.apply(j,V(new Array(w-K.length))),R("div",{"data-index":b.index,ref:Y,class:"flex row",style:{top:x*L.props.emojiButtonSize},children:Z&&K.map(function(at,F){if(!at)return R("div",{style:{width:q.props.emojiButtonSize,height:q.props.emojiButtonSize}});var ht=At.get(at);return q.renderEmojiButton(ht,{pos:[b.index,F],posinset:b.posinset+F,grid:q.grid})})},b.index)})})]})})})}},{key:"renderSkinToneButton",value:function(){return this.props.skinTonePosition=="none"?null:R("div",{class:"flex flex-auto flex-center flex-middle",style:{position:"relative",width:this.props.emojiButtonSize,height:this.props.emojiButtonSize},children:R("button",{type:"button",ref:this.refs.skinToneButton,class:"skin-tone-button flex flex-auto flex-center flex-middle","aria-selected":this.state.showSkins?"":void 0,"aria-label":Ot.skins.choose,title:Ot.skins.choose,onClick:this.openSkins,style:{width:this.props.emojiSize,height:this.props.emojiSize},children:R("span",{class:"skin-tone skin-tone-".concat(this.state.skin)})})})}},{key:"renderLiveRegion",value:function(){var f=this.getEmojiByPos(this.state.pos);return R("div",{"aria-live":"polite",class:"sr-only",children:f?f.name:""})}},{key:"renderSkins",value:function(){var f=this,m=this.refs.skinToneButton.current.getBoundingClientRect(),y=this.base.getBoundingClientRect(),w={};return this.dir=="ltr"?w.right=y.right-m.right-3:w.left=m.left-y.left-3,this.props.previewPosition=="bottom"&&this.props.skinTonePosition=="preview"?w.bottom=y.bottom-m.top+6:(w.top=m.bottom-y.top+3,w.bottom="auto"),R("div",{ref:this.refs.menu,role:"radiogroup",dir:this.dir,"aria-label":Ot.skins.choose,class:"menu hidden","data-position":w.top?"top":"bottom",style:w,children:V(Array(6).keys()).map(function(S){var L=f,I=S+1,o=f.state.skin==I;return R("div",{children:[R("input",{type:"radio",name:"skin-tone",value:I,"aria-label":Ot.skins[I],ref:o?f.refs.skinToneRadio:null,defaultChecked:o,onChange:function(){return L.handleSkinMouseOver(I)},onKeyDown:function(h){h.code!="Enter"&&h.code!="Space"&&h.code!="Tab"||(h.preventDefault(),L.handleSkinClick(I))}}),R("button",{"aria-hidden":"true",tabindex:"-1",onClick:function(){return L.handleSkinClick(I)},onMouseEnter:function(){return L.handleSkinMouseOver(I)},onMouseLeave:function(){return L.handleSkinMouseOver()},class:"option flex flex-grow flex-middle",children:[R("span",{class:"skin-tone skin-tone-".concat(I)}),R("span",{class:"margin-small-lr",children:Ot.skins[I]})]})]})})})}},{key:"render",value:function(){var f=this.props.perLine*this.props.emojiButtonSize;return R("section",{id:"root",class:"flex flex-column",dir:this.dir,style:{width:this.props.dynamicWidth?"100%":"calc(".concat(f,"px + (var(--padding) + var(--sidebar-width)))")},"data-emoji-set":this.props.set,"data-theme":this.state.theme,"data-menu":this.state.showSkins?"":void 0,children:[this.props.previewPosition=="top"&&this.renderPreview(),this.props.navPosition=="top"&&this.renderNav(),this.props.searchPosition=="sticky"&&R("div",{class:"padding-lr",children:this.renderSearch()}),R("div",{ref:this.refs.scroll,class:"scroll flex-grow padding-lr",children:R("div",{style:{width:this.props.dynamicWidth?"100%":f,height:"100%"},children:[this.props.searchPosition=="static"&&this.renderSearch(),this.renderSearchResults(),this.renderCategories()]})}),this.props.navPosition=="bottom"&&this.renderNav(),this.props.previewPosition=="bottom"&&this.renderPreview(),this.state.showSkins&&this.renderSkins(),this.renderLiveRegion()]})}}]),g}(ne),We=function(c){_(g,c);var d=zt(g);function g(f){return a(this,g),d.call(this,f,{styles:t(Rn)})}return u(g,[{key:"connectedCallback",value:function(){var f=this;return i(t(kt).mark(function m(){var y;return t(kt).wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return(y=fr(f.props,Gt,f)).element=f,y.ref=function(S){f.component=S},w.next=5,ze(y);case 5:if(!f.disconnected){w.next=7;break}return w.abrupt("return");case 7:De(R(Mr,k({},y)),f.shadowRoot);case 8:case"end":return w.stop()}},m)}))()}}]),g}(is);p(We,"Props",Gt),typeof customElements>"u"||customElements.get("em-emoji-picker")||customElements.define("em-emoji-picker",We);var Rn={};Rn=':host{width:min-content;height:435px;min-height:230px;border-radius:var(--border-radius);box-shadow:var(--shadow);--border-radius:10px;--category-icon-size:18px;--font-family:-apple-system,BlinkMacSystemFont,"Helvetica Neue",sans-serif;--font-size:15px;--preview-placeholder-size:21px;--preview-title-size:1.1em;--preview-subtitle-size:.9em;--shadow-color:0deg 0% 0%;--shadow:.3px .5px 2.7px hsl(var(--shadow-color)/.14),.4px .8px 1px -3.2px hsl(var(--shadow-color)/.14),1px 2px 2.5px -4.5px hsl(var(--shadow-color)/.14);display:flex}[data-theme=light]{--em-rgb-color:var(--rgb-color,34,36,39);--em-rgb-accent:var(--rgb-accent,34,102,237);--em-rgb-background:var(--rgb-background,255,255,255);--em-rgb-input:var(--rgb-input,255,255,255);--em-color-border:var(--color-border,rgba(0,0,0,.05));--em-color-border-over:var(--color-border-over,rgba(0,0,0,.1))}[data-theme=dark]{--em-rgb-color:var(--rgb-color,222,222,221);--em-rgb-accent:var(--rgb-accent,58,130,247);--em-rgb-background:var(--rgb-background,21,22,23);--em-rgb-input:var(--rgb-input,0,0,0);--em-color-border:var(--color-border,rgba(255,255,255,.1));--em-color-border-over:var(--color-border-over,rgba(255,255,255,.2))}#root{--color-a:rgb(var(--em-rgb-color));--color-b:rgba(var(--em-rgb-color),.65);--color-c:rgba(var(--em-rgb-color),.45);--padding:12px;--padding-small:calc(var(--padding)/2);--sidebar-width:16px;--duration:225ms;--duration-fast:125ms;--duration-instant:50ms;--easing:cubic-bezier(.4,0,.2,1);width:100%;text-align:left;border-radius:var(--border-radius);background-color:rgb(var(--em-rgb-background));position:relative}@media (prefers-reduced-motion){#root{--duration:0;--duration-fast:0;--duration-instant:0}}#root[data-menu] button{cursor:auto}#root[data-menu] .menu button{cursor:pointer}:host,#root,input,button{color:rgb(var(--em-rgb-color));font-family:var(--font-family);font-size:var(--font-size);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;line-height:normal}*,:before,:after{box-sizing:border-box;min-width:0;margin:0;padding:0}.relative{position:relative}.flex{display:flex}.flex-auto{flex:none}.flex-center{justify-content:center}.flex-column{flex-direction:column}.flex-grow{flex:auto}.flex-middle{align-items:center}.flex-wrap{flex-wrap:wrap}.padding{padding:var(--padding)}.padding-t{padding-top:var(--padding)}.padding-lr{padding-left:var(--padding);padding-right:var(--padding)}.padding-r{padding-right:var(--padding)}.padding-small{padding:var(--padding-small)}.padding-small-b{padding-bottom:var(--padding-small)}.padding-small-lr{padding-left:var(--padding-small);padding-right:var(--padding-small)}.margin{margin:var(--padding)}.margin-r{margin-right:var(--padding)}.margin-l{margin-left:var(--padding)}.margin-small-l{margin-left:var(--padding-small)}.margin-small-lr{margin-left:var(--padding-small);margin-right:var(--padding-small)}.align-l{text-align:left}.align-r{text-align:right}.color-a{color:var(--color-a)}.color-b{color:var(--color-b)}.color-c{color:var(--color-c)}.ellipsis{white-space:nowrap;max-width:100%;width:auto;text-overflow:ellipsis;overflow:hidden}.sr-only{width:1px;height:1px;position:absolute;top:auto;left:-10000px;overflow:hidden}a{cursor:pointer;color:rgb(var(--em-rgb-accent))}a:hover{text-decoration:underline}.spacer{height:10px}[dir=rtl] .scroll{padding-left:0;padding-right:var(--padding)}.scroll{padding-right:0;overflow-x:hidden;overflow-y:auto}.scroll::-webkit-scrollbar{width:var(--sidebar-width);height:var(--sidebar-width)}.scroll::-webkit-scrollbar-track{border:0}.scroll::-webkit-scrollbar-button{width:0;height:0;display:none}.scroll::-webkit-scrollbar-corner{background-color:transparent}.scroll::-webkit-scrollbar-thumb{min-height:20%;min-height:65px;border:4px solid rgb(var(--em-rgb-background));border-radius:8px}.scroll::-webkit-scrollbar-thumb:hover{background-color:var(--em-color-border-over)!important}.scroll:hover::-webkit-scrollbar-thumb{background-color:var(--em-color-border)}.sticky{z-index:1;background-color:rgba(var(--em-rgb-background),.9);-webkit-backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);font-weight:500;position:sticky;top:-1px}[dir=rtl] .search input[type=search]{padding:10px 2.2em 10px 2em}[dir=rtl] .search .loupe{left:auto;right:.7em}[dir=rtl] .search .delete{left:.7em;right:auto}.search{z-index:2;position:relative}.search input,.search button{font-size:calc(var(--font-size) - 1px)}.search input[type=search]{width:100%;background-color:var(--em-color-border);transition-duration:var(--duration);transition-property:background-color,box-shadow;transition-timing-function:var(--easing);border:0;border-radius:10px;outline:0;padding:10px 2em 10px 2.2em;display:block}.search input[type=search]::-ms-input-placeholder{color:inherit;opacity:.6}.search input[type=search]::placeholder{color:inherit;opacity:.6}.search input[type=search],.search input[type=search]::-webkit-search-decoration,.search input[type=search]::-webkit-search-cancel-button,.search input[type=search]::-webkit-search-results-button,.search input[type=search]::-webkit-search-results-decoration{-webkit-appearance:none;-ms-appearance:none;appearance:none}.search input[type=search]:focus{background-color:rgb(var(--em-rgb-input));box-shadow:inset 0 0 0 1px rgb(var(--em-rgb-accent)),0 1px 3px rgba(65,69,73,.2)}.search .icon{z-index:1;color:rgba(var(--em-rgb-color),.7);position:absolute;top:50%;transform:translateY(-50%)}.search .loupe{pointer-events:none;left:.7em}.search .delete{right:.7em}svg{fill:currentColor;width:1em;height:1em}button{-webkit-appearance:none;-ms-appearance:none;appearance:none;cursor:pointer;color:currentColor;background-color:transparent;border:0}#nav{z-index:2;padding-top:12px;padding-bottom:12px;padding-right:var(--sidebar-width);position:relative}#nav button{color:var(--color-b);transition:color var(--duration)var(--easing)}#nav button:hover{color:var(--color-a)}#nav svg,#nav img{width:var(--category-icon-size);height:var(--category-icon-size)}#nav[dir=rtl] .bar{left:auto;right:0}#nav .bar{width:100%;height:3px;background-color:rgb(var(--em-rgb-accent));transition:transform var(--duration)var(--easing);border-radius:3px 3px 0 0;position:absolute;bottom:-12px;left:0}#nav button[aria-selected]{color:rgb(var(--em-rgb-accent))}#preview{z-index:2;padding:calc(var(--padding) + 4px)var(--padding);padding-right:var(--sidebar-width);position:relative}#preview .preview-placeholder{font-size:var(--preview-placeholder-size)}#preview .preview-title{font-size:var(--preview-title-size)}#preview .preview-subtitle{font-size:var(--preview-subtitle-size)}#nav:before,#preview:before{content:"";height:2px;position:absolute;left:0;right:0}#nav[data-position=top]:before,#preview[data-position=top]:before{background:linear-gradient(to bottom,var(--em-color-border),transparent);top:100%}#nav[data-position=bottom]:before,#preview[data-position=bottom]:before{background:linear-gradient(to top,var(--em-color-border),transparent);bottom:100%}.category:last-child{min-height:calc(100% + 1px)}.category button{font-family:-apple-system,BlinkMacSystemFont,Helvetica Neue,sans-serif;position:relative}.category button>*{position:relative}.category button .background{opacity:0;background-color:var(--em-color-border);transition:opacity var(--duration-fast)var(--easing)var(--duration-instant);position:absolute;top:0;bottom:0;left:0;right:0}.category button:hover .background{transition-duration:var(--duration-instant);transition-delay:0s}.category button[aria-selected] .background{opacity:1}.category button[data-keyboard] .background{transition:none}.row{width:100%;position:absolute;top:0;left:0}.skin-tone-button{border:1px solid transparent;border-radius:100%}.skin-tone-button:hover{border-color:var(--em-color-border)}.skin-tone-button:active .skin-tone{transform:scale(.85)!important}.skin-tone-button .skin-tone{transition:transform var(--duration)var(--easing)}.skin-tone-button[aria-selected]{background-color:var(--em-color-border);border-top-color:rgba(0,0,0,.05);border-bottom-color:transparent;border-left-width:0;border-right-width:0}.skin-tone-button[aria-selected] .skin-tone{transform:scale(.9)}.menu{z-index:2;white-space:nowrap;border:1px solid var(--em-color-border);background-color:rgba(var(--em-rgb-background),.9);-webkit-backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);transition-property:opacity,transform;transition-duration:var(--duration);transition-timing-function:var(--easing);border-radius:10px;padding:4px;position:absolute;box-shadow:1px 1px 5px rgba(0,0,0,.05)}.menu.hidden{opacity:0}.menu[data-position=bottom]{transform-origin:100% 100%}.menu[data-position=bottom].hidden{transform:scale(.9)rotate(-3deg)translateY(5%)}.menu[data-position=top]{transform-origin:100% 0}.menu[data-position=top].hidden{transform:scale(.9)rotate(3deg)translateY(-5%)}.menu input[type=radio]{clip:rect(0 0 0 0);width:1px;height:1px;border:0;margin:0;padding:0;position:absolute;overflow:hidden}.menu input[type=radio]:checked+.option{box-shadow:0 0 0 2px rgb(var(--em-rgb-accent))}.option{width:100%;border-radius:6px;padding:4px 6px}.option:hover{color:#fff;background-color:rgb(var(--em-rgb-accent))}.skin-tone{width:16px;height:16px;border-radius:100%;display:inline-block;position:relative;overflow:hidden}.skin-tone:after{content:"";mix-blend-mode:overlay;background:linear-gradient(rgba(255,255,255,.2),transparent);border:1px solid rgba(0,0,0,.8);border-radius:100%;position:absolute;top:0;bottom:0;left:0;right:0;box-shadow:inset 0 -2px 3px #000,inset 0 1px 2px #fff}.skin-tone-1{background-color:#ffc93a}.skin-tone-2{background-color:#ffdab7}.skin-tone-3{background-color:#e7b98f}.skin-tone-4{background-color:#c88c61}.skin-tone-5{background-color:#a46134}.skin-tone-6{background-color:#5d4437}[data-index]{justify-content:space-between}[data-emoji-set=twitter] .skin-tone:after{box-shadow:none;border-color:rgba(0,0,0,.5)}[data-emoji-set=twitter] .skin-tone-1{background-color:#fade72}[data-emoji-set=twitter] .skin-tone-2{background-color:#f3dfd0}[data-emoji-set=twitter] .skin-tone-3{background-color:#eed3a8}[data-emoji-set=twitter] .skin-tone-4{background-color:#cfad8d}[data-emoji-set=twitter] .skin-tone-5{background-color:#a8805d}[data-emoji-set=twitter] .skin-tone-6{background-color:#765542}[data-emoji-set=google] .skin-tone:after{box-shadow:inset 0 0 2px 2px rgba(0,0,0,.4)}[data-emoji-set=google] .skin-tone-1{background-color:#f5c748}[data-emoji-set=google] .skin-tone-2{background-color:#f1d5aa}[data-emoji-set=google] .skin-tone-3{background-color:#d4b48d}[data-emoji-set=google] .skin-tone-4{background-color:#aa876b}[data-emoji-set=google] .skin-tone-5{background-color:#916544}[data-emoji-set=google] .skin-tone-6{background-color:#61493f}[data-emoji-set=facebook] .skin-tone:after{border-color:rgba(0,0,0,.4);box-shadow:inset 0 -2px 3px #000,inset 0 1px 4px #fff}[data-emoji-set=facebook] .skin-tone-1{background-color:#f5c748}[data-emoji-set=facebook] .skin-tone-2{background-color:#f1d5aa}[data-emoji-set=facebook] .skin-tone-3{background-color:#d4b48d}[data-emoji-set=facebook] .skin-tone-4{background-color:#aa876b}[data-emoji-set=facebook] .skin-tone-5{background-color:#916544}[data-emoji-set=facebook] .skin-tone-6{background-color:#61493f}',window.EmojiMart=e})();const Hf={},Uf={viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-emoji-basketball"},zf=ot("path",{d:"M1.43343 6.51665H3.61676C3.53899 5.98331 3.39176 5.48609 3.1751 5.02498C2.95843 4.56387 2.68343 4.16109 2.3501 3.81665C2.09454 4.20553 1.88621 4.6222 1.7251 5.06665C1.56399 5.51109 1.46676 5.99442 1.43343 6.51665ZM10.3501 6.51665H12.5501C12.5279 5.99442 12.4362 5.51109 12.2751 5.06665C12.114 4.6222 11.9057 4.20553 11.6501 3.81665C11.2723 4.19442 10.9834 4.60554 10.7834 5.04998C10.5834 5.49442 10.439 5.98331 10.3501 6.51665ZM2.3501 10.1666C2.71676 9.78887 3.0001 9.38331 3.2001 8.94998C3.4001 8.51665 3.53899 8.03887 3.61676 7.51665H1.43343C1.46676 8.03887 1.56399 8.51387 1.7251 8.94165C1.88621 9.36942 2.09454 9.77776 2.3501 10.1666ZM11.6501 10.1666C11.9057 9.77776 12.114 9.36942 12.2751 8.94165C12.4362 8.51387 12.5279 8.03887 12.5501 7.51665H10.3501C10.439 8.03887 10.5834 8.51665 10.7834 8.94998C10.9834 9.38331 11.2723 9.78887 11.6501 10.1666ZM4.63343 6.51665H6.48343V1.44998C5.79454 1.52776 5.16399 1.6972 4.59176 1.95831C4.01954 2.21942 3.49454 2.58331 3.01676 3.04998C3.46121 3.50553 3.81954 4.02776 4.09176 4.61665C4.36399 5.20553 4.54454 5.83887 4.63343 6.51665ZM7.48343 6.51665H9.33343C9.43343 5.83887 9.62232 5.20553 9.9001 4.61665C10.1779 4.02776 10.5445 3.50553 11.0001 3.04998C10.5112 2.58331 9.9751 2.21942 9.39176 1.95831C8.80843 1.6972 8.17232 1.52776 7.48343 1.44998V6.51665ZM6.48343 12.5666V7.51665H4.63343C4.54454 8.19442 4.36399 8.81942 4.09176 9.39165C3.81954 9.96387 3.46121 10.4778 3.01676 10.9333C3.49454 11.4 4.00565 11.7666 4.5501 12.0333C5.09454 12.3 5.73899 12.4778 6.48343 12.5666ZM7.48343 12.5666C8.22788 12.4778 8.87788 12.3 9.43343 12.0333C9.98899 11.7666 10.5112 11.4 11.0001 10.9333C10.5445 10.4778 10.1779 9.96387 9.9001 9.39165C9.62232 8.81942 9.43343 8.19442 9.33343 7.51665H7.48343V12.5666ZM6.98343 13.9C6.03899 13.9 5.14732 13.7194 4.30843 13.3583C3.46954 12.9972 2.73899 12.5055 2.11676 11.8833C1.49454 11.2611 1.00288 10.5305 0.641764 9.69165C0.280653 8.85276 0.100098 7.95553 0.100098 6.99998C0.100098 6.04442 0.280653 5.1472 0.641764 4.30831C1.00288 3.46942 1.49454 2.73887 2.11676 2.11665C2.73899 1.49442 3.46954 0.99998 4.30843 0.633313C5.14732 0.266646 6.03899 0.083313 6.98343 0.083313C7.9501 0.083313 8.85288 0.266646 9.69176 0.633313C10.5307 0.99998 11.2612 1.49442 11.8834 2.11665C12.5057 2.73887 13.0001 3.46942 13.3668 4.30831C13.7334 5.1472 13.9168 6.04442 13.9168 6.99998C13.9168 7.95553 13.7334 8.85276 13.3668 9.69165C13.0001 10.5305 12.5057 11.2611 11.8834 11.8833C11.2612 12.5055 10.5307 12.9972 9.69176 13.3583C8.85288 13.7194 7.9501 13.9 6.98343 13.9Z",fill:"currentColor"},null,-1),Vf=[zf];function Ff(r,t){return ft(),wt("svg",Uf,Vf)}const Zf=Kt(Hf,[["render",Ff]]),Wf={},Kf={viewBox:"0 0 14 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-emoji-basketball"},Gf=ot("path",{d:"M2.23861 9.83331V10.5166C2.23861 10.7166 2.16638 10.8861 2.02194 11.025C1.8775 11.1639 1.70527 11.2333 1.50527 11.2333H1.38861C1.18861 11.2333 1.01638 11.1611 0.87194 11.0166C0.727496 10.8722 0.655273 10.7 0.655273 10.5V5.04998L2.07194 0.74998C2.14972 0.54998 2.27194 0.388869 2.43861 0.266646C2.60527 0.144424 2.79972 0.083313 3.02194 0.083313H10.7553C10.9775 0.083313 11.1719 0.144424 11.3386 0.266646C11.5053 0.388869 11.6275 0.54998 11.7053 0.74998L13.1386 5.04998V10.5C13.1386 10.7 13.0636 10.8722 12.9136 11.0166C12.7636 11.1611 12.5886 11.2333 12.3886 11.2333H12.2553C12.0442 11.2333 11.8719 11.1639 11.7386 11.025C11.6053 10.8861 11.5386 10.7166 11.5386 10.5166V9.83331H2.23861ZM2.37194 4.09998H11.4053L10.5219 1.41665H3.25527L2.37194 4.09998ZM1.97194 5.09998V8.51665V5.09998ZM3.70527 7.71665C3.94972 7.71665 4.16083 7.63054 4.33861 7.45831C4.51638 7.28609 4.60527 7.0722 4.60527 6.81665C4.60527 6.56109 4.51638 6.34165 4.33861 6.15831C4.16083 5.97498 3.94972 5.88331 3.70527 5.88331C3.43861 5.88331 3.21638 5.97498 3.03861 6.15831C2.86083 6.34165 2.77194 6.56109 2.77194 6.81665C2.77194 7.0722 2.86083 7.28609 3.03861 7.45831C3.21638 7.63054 3.43861 7.71665 3.70527 7.71665ZM10.1053 7.71665C10.3608 7.71665 10.5803 7.63054 10.7636 7.45831C10.9469 7.28609 11.0386 7.0722 11.0386 6.81665C11.0386 6.56109 10.9469 6.34165 10.7636 6.15831C10.5803 5.97498 10.3608 5.88331 10.1053 5.88331C9.84972 5.88331 9.63583 5.97498 9.46361 6.15831C9.29138 6.34165 9.20527 6.56109 9.20527 6.81665C9.20527 7.0722 9.29138 7.28609 9.46361 7.45831C9.63583 7.63054 9.84972 7.71665 10.1053 7.71665ZM1.97194 8.51665H11.8053V5.09998H1.97194V8.51665Z",fill:"currentColor"},null,-1),Yf=[Gf];function Xf(r,t){return ft(),wt("svg",Kf,Yf)}const Qf=Kt(Wf,[["render",Xf]]),Jf={},tp={viewBox:"0 0 15 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-emoji-clock"},ep=ot("path",{d:"M9.79443 10.25L10.6944 9.36665L8.09443 6.73331V3.48331H6.89443V7.23331L9.79443 10.25ZM7.44443 13.9C6.49999 13.9 5.60832 13.7194 4.76943 13.3583C3.93054 12.9972 3.19721 12.5028 2.56943 11.875C1.94166 11.2472 1.44721 10.5166 1.0861 9.68331C0.724989 8.84998 0.544434 7.95554 0.544434 6.99998C0.544434 6.05554 0.724989 5.16387 1.0861 4.32498C1.44721 3.48609 1.94166 2.75276 2.56943 2.12498C3.19721 1.4972 3.93054 0.99998 4.76943 0.633313C5.60832 0.266646 6.49999 0.083313 7.44443 0.083313C8.38888 0.083313 9.28055 0.266646 10.1194 0.633313C10.9583 0.99998 11.6917 1.4972 12.3194 2.12498C12.9472 2.75276 13.4444 3.48609 13.8111 4.32498C14.1778 5.16387 14.3611 6.05554 14.3611 6.99998C14.3611 7.94442 14.1778 8.83609 13.8111 9.67498C13.4444 10.5139 12.9472 11.2472 12.3194 11.875C11.6917 12.5028 10.9611 12.9972 10.1278 13.3583C9.29443 13.7194 8.39999 13.9 7.44443 13.9ZM7.44443 12.5833C8.97777 12.5833 10.2917 12.0389 11.3861 10.95C12.4805 9.86109 13.0278 8.54442 13.0278 6.99998C13.0278 5.46665 12.4805 4.15276 11.3861 3.05831C10.2917 1.96387 8.97777 1.41665 7.44443 1.41665C5.9111 1.41665 4.59721 1.96387 3.50277 3.05831C2.40832 4.15276 1.8611 5.46665 1.8611 6.99998C1.8611 8.54442 2.40832 9.86109 3.50277 10.95C4.59721 12.0389 5.9111 12.5833 7.44443 12.5833Z",fill:"currentColor"},null,-1),np=[ep];function rp(r,t){return ft(),wt("svg",tp,np)}const sp=Kt(Jf,[["render",rp]]),ip={},op={viewBox:"0 0 12 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-emoji-flag"},ap=ot("path",{d:"M0.655762 12.2334V0.416687H6.80576L7.12243 1.85002H11.1391V8.50002H6.42243L6.10576 7.08335H1.97243V12.2334H0.655762ZM7.55576 7.18335H9.80576V3.18335H5.98909L5.67243 1.75002H1.97243V5.76669H7.2391L7.55576 7.18335Z",fill:"currentColor"},null,-1),lp=[ap];function cp(r,t){return ft(),wt("svg",op,lp)}const up=Kt(ip,[["render",cp]]),hp={},dp={viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-emoji-hamburger"},fp=ot("path",{d:"M0.277344 5.69999V4.84999C0.277344 3.69443 0.888455 2.73054 2.11068 1.95832C3.3329 1.1861 4.99957 0.799988 7.11068 0.799988C9.2329 0.799988 10.9023 1.1861 12.119 1.95832C13.3357 2.73054 13.944 3.69443 13.944 4.84999V5.69999H0.277344ZM1.71068 4.53332H12.5107C12.4218 3.85554 11.8857 3.28332 10.9023 2.81665C9.91901 2.34999 8.65512 2.11665 7.11068 2.11665C5.56623 2.11665 4.29957 2.34999 3.31068 2.81665C2.32179 3.28332 1.78846 3.85554 1.71068 4.53332ZM0.277344 8.64999V7.48332C0.64401 7.48332 0.96901 7.3611 1.25234 7.11665C1.53568 6.87221 1.97734 6.74999 2.57734 6.74999C3.18845 6.74999 3.60234 6.87221 3.81901 7.11665C4.03568 7.3611 4.36623 7.48332 4.81068 7.48332C5.26623 7.48332 5.61346 7.3611 5.85234 7.11665C6.09123 6.87221 6.51068 6.74999 7.11068 6.74999C7.71068 6.74999 8.13012 6.87221 8.36901 7.11665C8.6079 7.3611 8.95512 7.48332 9.41068 7.48332C9.85512 7.48332 10.1857 7.3611 10.4023 7.11665C10.619 6.87221 11.0329 6.74999 11.644 6.74999C12.244 6.74999 12.6857 6.87221 12.969 7.11665C13.2523 7.3611 13.5773 7.48332 13.944 7.48332V8.64999C13.344 8.64999 12.9218 8.52777 12.6773 8.28332C12.4329 8.03888 12.0885 7.91665 11.644 7.91665C11.1885 7.91665 10.8523 8.03888 10.6357 8.28332C10.419 8.52777 10.0107 8.64999 9.41068 8.64999C8.79957 8.64999 8.37734 8.52777 8.14401 8.28332C7.91068 8.03888 7.56623 7.91665 7.11068 7.91665C6.65512 7.91665 6.31068 8.03888 6.07734 8.28332C5.84401 8.52777 5.42179 8.64999 4.81068 8.64999C4.21068 8.64999 3.80234 8.52777 3.58568 8.28332C3.36901 8.03888 3.03846 7.91665 2.59401 7.91665C2.13845 7.91665 1.79123 8.03888 1.55234 8.28332C1.31345 8.52777 0.888455 8.64999 0.277344 8.64999ZM1.61068 13.35C1.24401 13.35 0.930122 13.2222 0.66901 12.9667C0.407899 12.7111 0.277344 12.4 0.277344 12.0333V9.73332H13.944V12.0333C13.944 12.4 13.8135 12.7111 13.5523 12.9667C13.2912 13.2222 12.9773 13.35 12.6107 13.35H1.61068ZM1.61068 12.0333H12.6107V10.9H1.61068V12.0333ZM1.61068 10.9H12.6107H1.61068ZM1.71068 4.53332H12.5107H1.71068Z",fill:"currentColor"},null,-1),pp=[fp];function mp(r,t){return ft(),wt("svg",dp,pp)}const gp=Kt(hp,[["render",mp]]),bp={},vp={viewBox:"0 0 12 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-emoji-lightbulb"},yp=ot("path",{d:"M5.77777 15.1C5.37777 15.1 5.03888 14.9527 4.7611 14.6583C4.48332 14.3639 4.34443 14.0055 4.34443 13.5833H7.2111C7.2111 14.0055 7.07221 14.3639 6.79443 14.6583C6.51666 14.9527 6.17777 15.1 5.77777 15.1ZM3.0111 12.4833V11.3833H8.54443V12.4833H3.0111ZM3.09443 10.3C2.32777 9.79997 1.7111 9.17219 1.24443 8.41664C0.777767 7.66108 0.544434 6.80553 0.544434 5.84997C0.544434 4.43886 1.0611 3.21386 2.09443 2.17497C3.12777 1.13608 4.35554 0.616638 5.77777 0.616638C7.19999 0.616638 8.43055 1.13608 9.46943 2.17497C10.5083 3.21386 11.0278 4.43886 11.0278 5.84997C11.0278 6.80553 10.7972 7.66108 10.3361 8.41664C9.87499 9.17219 9.24999 9.79997 8.4611 10.3H3.09443ZM3.5611 8.9833H8.0111C8.53332 8.63886 8.94443 8.19164 9.24443 7.64164C9.54443 7.09164 9.69443 6.49442 9.69443 5.84997C9.69443 4.77219 9.3111 3.85275 8.54443 3.09164C7.77777 2.33053 6.85555 1.94997 5.77777 1.94997C4.69999 1.94997 3.77777 2.33053 3.0111 3.09164C2.24443 3.85275 1.8611 4.77219 1.8611 5.84997C1.8611 6.49442 2.01388 7.09164 2.31943 7.64164C2.62499 8.19164 3.03888 8.63886 3.5611 8.9833Z",fill:"currentColor"},null,-1),_p=[yp];function wp(r,t){return ft(),wt("svg",vp,_p)}const Cp=Kt(bp,[["render",wp]]),xp={},kp={viewBox:"0 0 15 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-emoji-paw"},Ep=ot("path",{d:"M1.85566 6.81666C1.42233 6.81666 1.05566 6.66666 0.755664 6.36666C0.455664 6.06666 0.305664 5.69444 0.305664 5.24999C0.305664 4.81666 0.455664 4.44999 0.755664 4.14999C1.05566 3.84999 1.42233 3.69999 1.85566 3.69999C2.30011 3.69999 2.67233 3.84999 2.97233 4.14999C3.27233 4.44999 3.42233 4.81666 3.42233 5.24999C3.42233 5.69444 3.27233 6.06666 2.97233 6.36666C2.67233 6.66666 2.30011 6.81666 1.85566 6.81666ZM5.05566 3.88333C4.62233 3.88333 4.25844 3.73333 3.964 3.43333C3.66955 3.13333 3.52233 2.76666 3.52233 2.33333C3.52233 1.89999 3.67233 1.53333 3.97233 1.23333C4.27233 0.933325 4.639 0.783325 5.07233 0.783325C5.50566 0.783325 5.87233 0.933325 6.17233 1.23333C6.47233 1.53333 6.62233 1.89999 6.62233 2.33333C6.62233 2.76666 6.47233 3.13333 6.17233 3.43333C5.87233 3.73333 5.50011 3.88333 5.05566 3.88333ZM9.37233 3.88333C8.939 3.88333 8.57233 3.73333 8.27233 3.43333C7.97233 3.13333 7.82233 2.76666 7.82233 2.33333C7.82233 1.89999 7.97233 1.53333 8.27233 1.23333C8.57233 0.933325 8.94455 0.783325 9.389 0.783325C9.82233 0.783325 10.189 0.933325 10.489 1.23333C10.789 1.53333 10.939 1.89999 10.939 2.33333C10.939 2.76666 10.7862 3.13333 10.4807 3.43333C10.1751 3.73333 9.80566 3.88333 9.37233 3.88333ZM12.589 6.81666C12.1446 6.81666 11.7723 6.66666 11.4723 6.36666C11.1723 6.06666 11.0223 5.69444 11.0223 5.24999C11.0223 4.80555 11.1723 4.4361 11.4723 4.14166C11.7723 3.84721 12.1446 3.69999 12.589 3.69999C13.0223 3.69999 13.389 3.84999 13.689 4.14999C13.989 4.44999 14.139 4.81666 14.139 5.24999C14.139 5.69444 13.989 6.06666 13.689 6.36666C13.389 6.66666 13.0223 6.81666 12.589 6.81666ZM3.589 13.9C3.10011 13.9 2.69733 13.7167 2.38066 13.35C2.064 12.9833 1.90566 12.55 1.90566 12.05C1.90566 11.5611 2.05566 11.1333 2.35566 10.7667C2.65566 10.4 2.96677 10.0389 3.289 9.68332C3.52233 9.41666 3.74733 9.14721 3.964 8.87499C4.18066 8.60277 4.389 8.31666 4.589 8.01666C4.92233 7.51666 5.29455 7.05277 5.70566 6.62499C6.11678 6.19721 6.62233 5.98333 7.22233 5.98333C7.82233 5.98333 8.33066 6.19721 8.74733 6.62499C9.164 7.05277 9.539 7.52221 9.87233 8.03333C10.0723 8.32221 10.2751 8.60555 10.4807 8.88333C10.6862 9.1611 10.9112 9.42777 11.1557 9.68332C11.4779 10.0389 11.789 10.4 12.089 10.7667C12.389 11.1333 12.539 11.5611 12.539 12.05C12.539 12.55 12.3807 12.9833 12.064 13.35C11.7473 13.7167 11.3446 13.9 10.8557 13.9C10.2446 13.9 9.639 13.8472 9.039 13.7417C8.439 13.6361 7.83344 13.5833 7.22233 13.5833C6.61122 13.5833 6.00566 13.6361 5.40566 13.7417C4.80566 13.8472 4.20011 13.9 3.589 13.9Z",fill:"currentColor"},null,-1),Sp=[Ep];function Tp(r,t){return ft(),wt("svg",kp,Sp)}const Ap=Kt(xp,[["render",Tp]]),Lp={},Np={viewBox:"0 0 15 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-emoji-smile"},Mp=ot("path",{d:"M9.71644 6.16665C9.97199 6.16665 10.1942 6.07498 10.3831 5.89165C10.572 5.70831 10.6664 5.48331 10.6664 5.21665C10.6664 4.94998 10.572 4.72498 10.3831 4.54165C10.1942 4.35831 9.97199 4.26665 9.71644 4.26665C9.44977 4.26665 9.22477 4.35831 9.04144 4.54165C8.85811 4.72498 8.76644 4.94998 8.76644 5.21665C8.76644 5.48331 8.85811 5.70831 9.04144 5.89165C9.22477 6.07498 9.44977 6.16665 9.71644 6.16665ZM4.94977 6.16665C5.21644 6.16665 5.44144 6.07498 5.62477 5.89165C5.80811 5.70831 5.89977 5.48331 5.89977 5.21665C5.89977 4.94998 5.80811 4.72498 5.62477 4.54165C5.44144 4.35831 5.21644 4.26665 4.94977 4.26665C4.69422 4.26665 4.47199 4.35831 4.28311 4.54165C4.09422 4.72498 3.99977 4.94998 3.99977 5.21665C3.99977 5.48331 4.09422 5.70831 4.28311 5.89165C4.47199 6.07498 4.69422 6.16665 4.94977 6.16665ZM7.33311 10.65C8.08866 10.65 8.77755 10.4444 9.39977 10.0333C10.022 9.6222 10.4664 9.06665 10.7331 8.36665H3.93311C4.21088 9.06665 4.65811 9.6222 5.27477 10.0333C5.89144 10.4444 6.57755 10.65 7.33311 10.65ZM7.33311 13.9C6.37755 13.9 5.48033 13.7194 4.64144 13.3583C3.80255 12.9972 3.07199 12.5055 2.44977 11.8833C1.82755 11.2611 1.33588 10.5305 0.974772 9.69165C0.613661 8.85276 0.433105 7.95554 0.433105 6.99998C0.433105 6.04442 0.613661 5.1472 0.974772 4.30831C1.33588 3.46942 1.82755 2.73887 2.44977 2.11665C3.07199 1.49442 3.80255 0.99998 4.64144 0.633313C5.48033 0.266646 6.37755 0.083313 7.33311 0.083313C8.28866 0.083313 9.18588 0.263869 10.0248 0.62498C10.8637 0.986091 11.597 1.48054 12.2248 2.10831C12.8526 2.73609 13.347 3.46942 13.7081 4.30831C14.0692 5.1472 14.2498 6.04442 14.2498 6.99998C14.2498 7.95554 14.0664 8.85276 13.6998 9.69165C13.3331 10.5305 12.8387 11.2611 12.2164 11.8833C11.5942 12.5055 10.8637 12.9972 10.0248 13.3583C9.18588 13.7194 8.28866 13.9 7.33311 13.9ZM7.33311 12.5833C8.88866 12.5833 10.2081 12.0416 11.2914 10.9583C12.3748 9.87498 12.9164 8.55554 12.9164 6.99998C12.9164 5.44442 12.3748 4.12498 11.2914 3.04165C10.2081 1.95831 8.88866 1.41665 7.33311 1.41665C5.77755 1.41665 4.45811 1.95831 3.37477 3.04165C2.29144 4.12498 1.74977 5.44442 1.74977 6.99998C1.74977 8.55554 2.29144 9.87498 3.37477 10.9583C4.45811 12.0416 5.77755 12.5833 7.33311 12.5833Z",fill:"currentColor"},null,-1),Ip=[Mp];function Op(r,t){return ft(),wt("svg",Np,Ip)}const qp=Kt(Lp,[["render",Op]]),Rp={},Bp={viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-emoji-symbols"},jp=ot("path",{d:"M0.449707 1.11667V0H5.88304V1.11667H0.449707ZM2.61637 6.08333V2.93333H0.449707V1.81667H5.88304V2.93333H3.71637V6.08333H2.61637ZM7.93304 13.5833L7.14971 12.7833L12.433 7.5L13.233 8.28333L7.93304 13.5833ZM8.39971 9.58333C8.13304 9.58333 7.91082 9.49167 7.73304 9.30833C7.55526 9.125 7.46637 8.9 7.46637 8.63333C7.46637 8.37778 7.55526 8.15833 7.73304 7.975C7.91082 7.79167 8.13304 7.7 8.39971 7.7C8.66637 7.7 8.89137 7.79167 9.07471 7.975C9.25804 8.15833 9.34971 8.37778 9.34971 8.63333C9.34971 8.9 9.25804 9.125 9.07471 9.30833C8.89137 9.49167 8.66637 9.58333 8.39971 9.58333ZM12.0664 13.3333C11.8108 13.3333 11.5914 13.2417 11.408 13.0583C11.2247 12.875 11.133 12.6556 11.133 12.4C11.133 12.1333 11.2219 11.9083 11.3997 11.725C11.5775 11.5417 11.7997 11.45 12.0664 11.45C12.333 11.45 12.558 11.5417 12.7414 11.725C12.9247 11.9083 13.0164 12.1333 13.0164 12.4C13.0164 12.6556 12.9247 12.875 12.7414 13.0583C12.558 13.2417 12.333 13.3333 12.0664 13.3333ZM9.18304 6.33333C8.74971 6.33333 8.38304 6.175 8.08304 5.85833C7.78304 5.54167 7.63304 5.18333 7.63304 4.78333C7.63304 4.33889 7.78304 3.96944 8.08304 3.675C8.38304 3.38056 8.75526 3.23333 9.19971 3.23333C9.33304 3.23333 9.45526 3.25278 9.56637 3.29167C9.67748 3.33056 9.76637 3.37778 9.83304 3.43333V0.65C9.83304 0.505555 9.88582 0.380556 9.99137 0.275C10.0969 0.169444 10.2219 0.116667 10.3664 0.116667H12.7664V1.21667H10.733V4.76667C10.733 5.21111 10.5858 5.58333 10.2914 5.88333C9.99693 6.18333 9.62748 6.33333 9.18304 6.33333ZM2.08304 13.8C1.6386 13.8 1.26082 13.6472 0.949707 13.3417C0.638596 13.0361 0.48304 12.6667 0.48304 12.2333C0.48304 12 0.527485 11.7889 0.616374 11.6C0.705263 11.4111 0.83304 11.2333 0.999707 11.0667L1.81637 10.25L1.53304 9.93333C1.36637 9.77778 1.2386 9.59722 1.14971 9.39167C1.06082 9.18611 1.01637 8.98333 1.01637 8.78333C1.01637 8.35 1.17193 7.98056 1.48304 7.675C1.79415 7.36944 2.16637 7.21667 2.59971 7.21667C3.04415 7.21667 3.41915 7.36944 3.72471 7.675C4.03026 7.98056 4.18304 8.35 4.18304 8.78333C4.18304 8.98333 4.14971 9.18611 4.08304 9.39167C4.01637 9.59722 3.90526 9.77778 3.74971 9.93333L3.44971 10.25L4.21637 11.0167L5.21637 10.0167L5.98304 10.7833L4.93304 11.8333L5.81637 12.7167L5.04971 13.4667L4.08304 12.5L3.28304 13.3C3.11637 13.4667 2.93304 13.5917 2.73304 13.675C2.53304 13.7583 2.31637 13.8 2.08304 13.8ZM2.59971 9.53333L2.96637 9.16667C3.01082 9.11111 3.04137 9.05556 3.05804 9C3.07471 8.94444 3.08304 8.87222 3.08304 8.78333C3.08304 8.66111 3.0386 8.55278 2.94971 8.45833C2.86082 8.36389 2.74415 8.31667 2.59971 8.31667C2.45526 8.31667 2.34137 8.36389 2.25804 8.45833C2.17471 8.55278 2.13304 8.66111 2.13304 8.78333C2.13304 8.88333 2.14137 8.95833 2.15804 9.00833C2.17471 9.05833 2.20526 9.11111 2.24971 9.16667L2.59971 9.53333ZM2.08304 12.7C2.12748 12.7 2.1886 12.6833 2.26637 12.65C2.34415 12.6167 2.41082 12.5722 2.46637 12.5167L3.28304 11.7L2.63304 11.0333L1.78304 11.8833C1.7386 11.9389 1.70248 11.9972 1.67471 12.0583C1.64693 12.1194 1.63304 12.1778 1.63304 12.2333C1.63304 12.3778 1.67471 12.4917 1.75804 12.575C1.84137 12.6583 1.94971 12.7 2.08304 12.7Z",fill:"currentColor"},null,-1),Pp=[jp];function $p(r,t){return ft(),wt("svg",Bp,Pp)}const Dp=Kt(Rp,[["render",$p]]),Hp={emits:["selected-emoji","update:show"],setup(){return{rootStore:dn()}},components:{SvgEmojiBasketball:Zf,SvgEmojiCar:Qf,SvgEmojiClock:sp,SvgEmojiFlag:up,SvgEmojiHamburger:gp,SvgEmojiLightbulb:Cp,SvgEmojiPaw:Ap,SvgEmojiSmile:qp,SvgEmojiSymbols:Dp,SvgSearch:ec},props:{show:Boolean},data(){return{emojiSvgs:["svg-emoji-basketball","svg-emoji-car","svg-emoji-clock","svg-emoji-flag","svg-emoji-hamburger","svg-emoji-lightbulb","svg-emoji-paw","svg-emoji-smile","svg-emoji-symbols","svg-search"]}},watch:{show(r){if(r){this.startListening(),this.positionInModal(),this.rootStore.setActiveModal(this.modalName||this.$.uid);return}this.positionInModal(),this.stopListening()}},computed:{pickerOptions(){var r,t,e,n,s,i,a,l,u;return{theme:"light",emojiButtonColors:["#E6EEFC"],emojiButtonSize:30,emojiSize:19,maxFrequentRows:2,categoryIcons:{frequent:{svg:(r=this.$refs["aioseo-svg-emoji-clock"][0])==null?void 0:r.$el.outerHTML.replace(' style="display: none;"',"")},people:{svg:(t=this.$refs["aioseo-svg-emoji-smile"][0])==null?void 0:t.$el.outerHTML.replace(' style="display: none;"',"")},nature:{svg:(e=this.$refs["aioseo-svg-emoji-paw"][0])==null?void 0:e.$el.outerHTML.replace(' style="display: none;"',"")},foods:{svg:(n=this.$refs["aioseo-svg-emoji-hamburger"][0])==null?void 0:n.$el.outerHTML.replace(' style="display: none;"',"")},activity:{svg:(s=this.$refs["aioseo-svg-emoji-basketball"][0])==null?void 0:s.$el.outerHTML.replace(' style="display: none;"',"")},places:{svg:(i=this.$refs["aioseo-svg-emoji-car"][0])==null?void 0:i.$el.outerHTML.replace(' style="display: none;"',"")},objects:{svg:(a=this.$refs["aioseo-svg-emoji-lightbulb"][0])==null?void 0:a.$el.outerHTML.replace(' style="display: none;"',"")},symbols:{svg:(l=this.$refs["aioseo-svg-emoji-symbols"][0])==null?void 0:l.$el.outerHTML.replace(' style="display: none;"',"")},flags:{svg:(u=this.$refs["aioseo-svg-emoji-flag"][0])==null?void 0:u.$el.outerHTML.replace(' style="display: none;"',"")}},onEmojiSelect:p=>{this.closePicker(),this.$emit("selected-emoji",p)}}}},methods:{async startPicker(){var e;const r=new window.EmojiMart.Picker(this.pickerOptions),t=document.createElement("style");t.innerHTML=`
				.skin-tone-button {
					border-color: #D0D1D7;
					width: 24px !important;
					height: 24px !important;
				}

				.skin-tone {
					width: 12px;
					height: 12px;
				}

				.skin-tone:after {
					border: none;
					box-shadow: none;
				}

				#nav button {
					color: #8C8F9A;
				}

				#nav button:hover {
					color: #141B38;
				}

				#nav button[aria-selected] {
					color: #005AE0;
				}

				#nav .bar {
					background-color: #005AE0;
				}

				#nav[data-position=top]:before {
					height: 3px;
					background: none;
					background-color: #D0D1D7;
					margin: -3px 16px 0 12px;
					border-radius: 3px 3px 0 0;
				}

				.search input[type=search] {
					background-color: #fff;
					border: 1px solid #D0D1D7;
					transition: none;
					border-radius: 3px;
				}

				.search input[type=search]:focus {
					border-color: #005AE0;
					box-shadow: 0 0 0 1px #005AE0;
				}

				.search input[type=search]::placeholder {
					color: #8C8F9A;
				}

				.search .icon {
					color: #8C8F9A;
				}

				#preview .color-c {
					color: #141B38;
					font-size: 16px !important;
				}

				#preview .ellipsis {
					font-size: 16px;
				}

				#preview .ellipsis.color-c {
					display: none;
				}
			`,r.shadowRoot.appendChild(t),(e=this.$refs["aioseo-emoji-picker"])==null||e.appendChild(r)},closePicker(){this.$emit("update:show",!1),this.rootStore.unsetActiveModal(this.modalName||this.$.uid)},documentClick(r){if(!this.show)return;const t=r&&r.target?r.target:null,e=document.querySelectorAll(".aioseo-show-emoji-button");for(let n=0;n<e.length;n++){const s=e[n];if(s&&(s===t||s.contains(t))&&s.parentNode.contains(this.$refs["aioseo-emoji-picker"]))return}this.$refs["aioseo-emoji-picker"]&&(this.$refs["aioseo-emoji-picker"]===t||this.$refs["aioseo-emoji-picker"].contains(t)||(this.closePicker(),this.stopListening()))},escapeListener(r){r.key==="Escape"&&this.show&&(r.stopPropagation(),this.closePicker(),this.stopListening())},startListening(){document.addEventListener("keydown",this.escapeListener,!0),document.addEventListener("mousedown",this.documentClick)},stopListening(){document.removeEventListener("keydown",this.escapeListener),document.removeEventListener("mousedown",this.documentClick)},getModal(){const r=document.getElementsByClassName("aioseo-modal");if(r.length){for(const t of r)if(t.contains(this.$refs["aioseo-emoji-picker"]))return t.getElementsByClassName("modal-container")[0]}return!1},positionInModal(){const r=this.getModal();if(!r)return;const t=this.$refs["aioseo-emoji-picker"].getElementsByTagName("em-emoji-picker");t.length&&setTimeout(function(){const e=t[0].getBoundingClientRect(),n=r.getBoundingClientRect();let s="0px",i="4px";const a=e.x+e.width+40,l=n.x+n.width;a>l&&(s=l-a+"px");const u=e.y+e.height,p=n.y+n.height;u>p&&(i=p-u+"px"),t[0].style=`
					left: `+s+` !important;
					top:  `+i+` !important;
				`},1)}},async mounted(){setTimeout(()=>{this.startPicker()},1e3)}},Up={class:"aioseo-emoji-picker",ref:"aioseo-emoji-picker"};function zp(r,t,e,n,s,i){return ft(),wt("div",null,[jn(ot("div",Up,null,512),[[tr,e.show]]),(ft(!0),wt(Wr,null,ei(s.emojiSvgs,(a,l)=>jn((ft(),Kr(Vl(a),{key:l,ref_for:!0,ref:`aioseo-${a}`})),[[tr,!1]])),128))])}const Vp=Kt(Hp,[["render",zp]]),_a="aioseo-eeat",Fp={emits:["counter","update:modelValue"],setup(){return{rootStore:dn()}},components:{BaseEditor:If,CoreAddTemplateTag:Bf,CoreAlertUnfilteredHtml:Df,CoreEmoji:Vp},props:{single:Boolean,lineNumbers:{type:Boolean,default(){return!0}},minimumLineNumbers:{type:Number,default(){return 13}},allowTags:{type:Boolean,default(){return!0}},showTags:{type:Boolean,default(){return!0}},showAllTagsLink:{type:Boolean,default(){return!0}},defaultTags:Array,modelValue:{type:String,default:""},tagsContext:String,defaultMenuOrientation:String,description:Boolean,disableEmoji:Boolean,tagsDescription:{type:String,default(){return Ht("Click on the tags below to insert variables into your template.",_a)}},checkUnfilteredHtml:{type:Boolean,default(){return!1}},disabled:{type:Boolean,default(r){const t=dn();return r.checkUnfilteredHtml&&!t.aioseo.user.unfilteredHtml}}},data(){return{showEmojiPicker:!1,strings:{allTags:Ht("View all tags",_a)}}},computed:{filteredTags(){const r=this.tagsContext?Bi.context(this.tagsContext):this.rootStore.aioseo.tags.tags;return this.defaultTags?this.defaultTags.map(t=>r.find(e=>e.id===t)).filter(t=>t):r.filter(t=>!t.deprecated).slice(0,3)}},methods:{insertTag(r){this.$refs.editor.insertTag(r)},insertSelectedEmoji(r){this.$refs.editor.insertToCursor(r.native)}}},Zp={class:"aioseo-html-tags-editor"},Wp={key:1},Kp={key:0,class:"aioseo-description tags-description"},Gp={class:"add-tags"},Yp={key:1};function Xp(r,t,e,n,s,i){const a=se("core-alert-unfiltered-html"),l=se("core-add-template-tag"),u=se("core-emoji"),p=se("base-editor");return ft(),wt("div",Zp,[e.checkUnfilteredHtml?(ft(),Kr(a,{key:0})):Jt("",!0),e.disabled?Jt("",!0):(ft(),wt("div",Wp,[e.showTags&&e.allowTags&&e.tagsDescription.length?(ft(),wt("div",Kp,[zr(r.$slots,"tags-description",{},()=>[Ne(qt(e.tagsDescription),1)])])):Jt("",!0),ot("div",Gp,[e.allowTags&&e.showTags?(ft(!0),wt(Wr,{key:0},ei(i.filteredTags,(v,C)=>(ft(),Kr(l,{key:C,onClick:_=>i.insertTag(v.id)},{default:St(()=>[Ne(qt(v.name),1)]),_:2},1032,["onClick"]))),128)):Jt("",!0),e.disableEmoji?Jt("",!0):(ft(),wt("div",Yp,[ot("button",{class:"aioseo-show-emoji-button",onClick:t[0]||(t[0]=Fs(v=>s.showEmojiPicker=!s.showEmojiPicker,["prevent"]))},"  "),ct(u,{show:s.showEmojiPicker,"onUpdate:show":t[1]||(t[1]=v=>s.showEmojiPicker=v),onSelectedEmoji:i.insertSelectedEmoji,"modal-name":"aioseo-emoji-picker"},null,8,["show","onSelectedEmoji"])])),e.showAllTagsLink&&e.allowTags&&e.showTags?(ft(),wt("a",{key:2,class:"aioseo-view-all-tags",href:"#",onClick:t[2]||(t[2]=Fs(v=>i.insertTag(),["prevent"]))},qt(s.strings.allTags)+" ",1)):Jt("",!0)])])),ct(p,{ref:"editor",modelValue:e.modelValue,"onUpdate:modelValue":t[3]||(t[3]=v=>r.$emit("update:modelValue",v)),"allow-tags":e.allowTags,"line-numbers":e.lineNumbers,single:e.single,disabled:e.disabled,"minimum-line-numbers":e.minimumLineNumbers,onCounter:t[4]||(t[4]=v=>r.$emit("counter",v)),"tags-context":e.tagsContext,"default-menu-orientation":e.defaultMenuOrientation,description:e.description},{"append-icon":St(()=>[zr(r.$slots,"append-icon")]),"append-button":St(()=>[zr(r.$slots,"append-button")]),_:3},8,["modelValue","allow-tags","line-numbers","single","disabled","minimum-line-numbers","tags-context","default-menu-orientation","description"])])}const Qp=Kt(Fp,[["render",Xp]]),Jp={emits:["can-show","images"],props:{src:String,tag:{type:String,default(){return"img"}},debounce:{type:Boolean,default(){return!0}}},data(){return{canShow:!1,images:{}}},watch:{src(){if(this.debounce){oc(this.maybeShowImage,50);return}this.maybeShowImage()},canShow(r){this.$emit("can-show",r)},images:{handler:function(){this.$emit("images",this.images)},deep:!0}},methods:{async maybeShowImage(){if(this.canShow=!1,!this.src)return;if(this.images[this.src]){this.canShow=!0;return}const r=new Image;r.onload=await(()=>{this.canShow=!0;let t=0;const e=r.width,n=r.height;e&&n&&(t=e/n),!this.images[this.src]&&(this.images[this.src]={image:r,ratio:t,vertical:e>n})}),r.onerror=await(()=>{this.canShow=!1}),r.src=this.src}},mounted(){this.maybeShowImage()}},t0=["src"];function e0(r,t,e,n,s,i){return s.canShow?(ft(),wt("img",{key:0,src:e.src},null,8,t0)):Jt("",!0)}const n0=Kt(Jp,[["render",e0]]),qr="aioseo-eeat";let Rr={};const xo={emits:["update:modelValue"],components:{BaseButton:La,BaseImg:n0,BaseInput:er,SvgCirclePlus:Aa,SvgTrash:eo},props:{baseSize:{type:String,default:"medium"},imgPreviewMaxHeight:{type:String,default:"525px"},imgPreviewMaxWidth:{type:String,default:"525px"},description:String,modelValue:{type:String,default:""}},data(){return{strings:{description:Ht("Minimum size: 112px x 112px, The image must be in JPG, PNG, GIF, SVG, or WEBP format.",qr),pasteYourImageUrl:Ht("Paste your image URL or select a new image",qr),remove:Ht("Remove",qr),uploadOrSelectImage:Ht("Upload or Select Image",qr)}}},computed:{iconWidth(){return this.baseSize==="small"?"16":"20"}},methods:{setImgSrc(r){this.$emit("update:modelValue",r)},openUploadModal(){Rr=window.wp.media({title:Ht("Choose Image",qr),button:{text:Ht("Choose Image",qr)},multiple:!1}),Rr.on("select",()=>{const r=Rr.state().get("selection").first().toJSON();this.setImgSrc((r==null?void 0:r.url)||null)}),Rr.on("close",()=>{Rr.detach()}),this.$nextTick(()=>{Rr.open()})}}},wa=()=>{Fl(r=>({de1ed044:r.imgPreviewMaxHeight,"791ef42f":r.imgPreviewMaxWidth}))},Ca=xo.setup;xo.setup=Ca?(r,t)=>(wa(),Ca(r,t)):wa;const r0={class:"image-upload"},s0=["innerHTML"];function i0(r,t,e,n,s,i){const a=se("svg-trash"),l=se("base-button"),u=se("base-input"),p=se("svg-circle-plus"),v=se("base-img");return ft(),wt("div",{class:to(["aioseo-image-uploader",{"aioseo-image-uploader--has-image":!!e.modelValue}])},[ot("div",r0,[ct(u,{size:e.baseSize,modelValue:e.modelValue,placeholder:s.strings.pasteYourImageUrl,onChange:t[1]||(t[1]=C=>i.setImgSrc(C))},{"append-icon":St(()=>[e.modelValue?(ft(),Kr(l,{key:0,size:e.baseSize,class:"remove-image",type:"gray",onClick:t[0]||(t[0]=Fs(C=>i.setImgSrc(null),["prevent"]))},{default:St(()=>[ct(a,{width:i.iconWidth},null,8,["width"])]),_:1},8,["size"])):Jt("",!0)]),_:1},8,["size","modelValue","placeholder"]),ct(l,{size:e.baseSize,class:"insert-image",type:"black",onClick:t[2]||(t[2]=Fs(C=>i.openUploadModal(),["prevent"]))},{default:St(()=>[ct(p,{width:"14"}),Ne(" "+qt(s.strings.uploadOrSelectImage),1)]),_:1},8,["size"])]),ot("div",{class:"aioseo-description",innerHTML:e.description||s.strings.description},null,8,s0),ct(v,{class:"image-preview",src:e.modelValue},null,8,["src"])],2)}const o0=Kt(xo,[["render",i0],["__scopeId","data-v-5019dc3c"]]),a0=()=>{const r=Zs(!1),t=Zs(!1),e=C=>{if(!C)return"";let _=C;if(s(C)){const E=C.split("#")[1].split(":");_=dn().aioseo.urls.aio.dashboard.replace("page=aioseo",`page=${E[0]}#/${E[1]}`)}return _},n=C=>s(C)?null:"_blank",s=C=>C.startsWith("http://route#")||C.startsWith("https://route#"),i=C=>C.startsWith("http://action#")||C.startsWith("https://action#"),a=C=>i(C)?"button":"a",l=(C,_)=>{if(i(C))return u(C);if(s(C))return p(C)},u=(C,_)=>{const k=/[^#?]*/gm,E=C.match(k),T=E[2];Zl().processButtonAction(T).then(()=>{if(E[4]&&E[4].startsWith("redirect=")){const M=dn(),D=E[4].replace("redirect=","").split(":"),z=M.aioseo.urls.aio.dashboard.replace("page=aioseo",`page=${D[0]}#/${D[1]}`);if(z===window.location.href){window.location.reload();return}window.location.href=z}else E[4]&&E[4].startsWith("refresh")&&window.location.reload()})},p=C=>{const _=dn(),k=/[^#?]*/gm,T=C.match(k)[2].split(":");_.aioseo.urls.aio.dashboard.replace("page=aioseo",`page=${T[0]}#/${T[1]}`)===window.location.href&&window.location.reload()};return{button1Loading:r,button2Loading:t,getHref:e,getTagType:a,getTarget:n,processAction:u,processButtonClick:l,processRoute:p,decodeUrl:C=>{if(!C)return null;try{return decodeURIComponent(C)}catch{return C}}}},l0={id:"aioseo-author-seo-meta-data"},c0={class:"aioseo-settings-row aioseo-section-description"},u0={class:"alumni-of-table"},h0={class:"tooltip-wrapper"},d0={class:"tooltip-wrapper"},f0=ot("td",null,null,-1),p0={class:"name"},m0={class:"url"},g0={class:"actions"},b0={colspan:"4"},v0={class:"aioseo-description"},y0={class:"aioseo-description"},_0=["innerHTML"],w0={class:"aioseo-description"},C0={class:"aioseo-description"},x0={class:"aioseo-description"},k0={class:"author-bio-injection-default"},E0={key:0,class:"author-bio-injection-override"},S0=["innerHTML"],T0={__name:"App",setup(r){const t="aioseo-eeat",{getJsonValue:e,setJsonValue:n}=lc(),s=dn(),i=Wl(),a=nc(),{userProfile:l}=ac(i),u=Zs(!1),{decodeUrl:p}=a0(),v=Kl(()=>a.options.eeat.globalKnowsAbout.map(B=>({label:B.name,value:B.name})));ui(()=>di(Xl(i.userProfile)),B=>{T(B.authorMetaData)}),ui(()=>l.value.authorMetaData.enabled,(B,V)=>{B&&V===!1&&setTimeout(M,.5)});const C=Zs([{name:"",url:""}]),_={name:"",url:""},k=()=>{C.value.push(di(_))},E=B=>{C.value.splice(B,1),C.value.length===0&&k()};ui(C,B=>{l.value.authorMetaData.alumniOf=B},{deep:!0}),To(()=>{const B=l.value.authorMetaData.alumniOf;B.length&&(C.value=B),C.value.length===0&&k()});const T=B=>{document.getElementById("aioseo-author-seo-meta-data-input").value=JSON.stringify(B)},N=()=>{var V,G,mt,Tt,Pt,me,zt,kt;const B={tinymce:{toolbar1:"formatselect,bold,italic,bullist,numlist,blockquote,alignleft,aligncenter,alignright,link,spellchecker,wp_adv",toolbar2:"strikethrough,hr,forecolor,pastetext,removeformat,charmap,outdent,indent,undo,redo",height:400,skin:"lightgray",elementpath:!0},quicktags:!0,mediaButtons:!0};(V=window.wp)!=null&&V.oldEditor?(mt=(G=window.wp)==null?void 0:G.oldEditor)==null||mt.initialize("aioseo-author-bio-textarea",B):(Tt=window.wp)!=null&&Tt.editor&&((me=(Pt=window.wp)==null?void 0:Pt.editor)==null||me.initialize("aioseo-author-bio-textarea",B)),(kt=(zt=window.tinymce)==null?void 0:zt.activeEditor)==null||kt.on("Paste Change input Undo Redo",()=>{i.userProfile.authorMetaData.authorBio=window.tinymce.activeEditor.getContent()}),document.querySelectorAll(".aioseo-settings-row.aioseo-author-bio .settings-content > #wp-aioseo-author-bio-textarea-wrap #wp-aioseo-author-bio-textarea-wrap").forEach(Pe=>{Pe.remove()})},M=async()=>{window.tinymce.activeEditor&&window.tinymce.activeEditor.remove(),setTimeout(N,.5)},D=B=>{if(u.value=!1,!B)return;if(B.startsWith("/")){B.match(/(\/)[-a-zA-Z0-9@:%._+~#=]{0,256}/i)||(u.value=!0);return}B.startsWith("http://")&&(B=B.replace("http://","https://")),B&&!B.startsWith("https://")&&(B=`https://${B}`),B.match(/(http[s]?:\/\/)[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/i)||(u.value=!0)},z=B=>{const V=B.target.value;i.userProfile.authorMetaData.authorCustomUrl="",i.userProfile.authorMetaData.authorCustomUrl=p(V)};To(()=>{T(i.userProfile.authorMetaData),M();let B=!1;const V=document.getElementById("your-profile");V&&V.addEventListener("submit",()=>{B=!0});const G=di(i.userProfile.authorMetaData);window.addEventListener("beforeunload",mt=>{if(B)return;const Tt=Gl();if(Tt.normalize(G)===Tt.normalize(l.value.authorMetaData))return;const Pt=pt("Are you sure you want to leave? you have unsaved changes!","aioseo-eeat");return(mt||window.event).returnValue=Pt,Pt})});const P={authorInfo:pt("Author Info",t),description:pt("The fields below provide structured information for search engines about the current author. By filling out these fields, you will enhance your online presence and improve search engine visibility. This increases the chances of your author details appearing prominently in search results, making it easier for readers, publishers, and media representatives to discover and connect with you.",t),enable:pt("Enable Author Info",t),authorBioInjection:pt("Append Author Bio to Posts",t),injectAuthorBio:pt("Enable",t),injectAuthorBioDescription:hi(pt("Choose whether %1$s should automatically append a compact author bio block to all posts written by this user. %2$s",t),"AIOSEO",Ji.getDocLink(Ma.learnMore,"eeatAuthorBioInjection",!0)),alumniOf:pt("Alumni Of",t),worksFor:pt("Employer",t),worksForDescription:pt("The organization the author works for.",t),jobTitle:pt("Job Title",t),jobTitleDescription:pt("The job title of the author.",t),knowsAbout:pt("Knows About",t),knowsAboutPlaceholder:pt("Search for a topic...",t),knowsAboutDescription:hi(pt("The topics and areas of expertise the author writes about. You can add topics through the %1$sSearch Appearance > Author SEO > Author Experience Topics%2$s settings panel.",t),`<a href="${s.aioseo.urls.aio.searchAppearance}&aioseo-scroll=aioseo-author-seo-topics&aioseo-highlight=aioseo-author-seo-topics#/author-seo" target="_blank">`,"</a>"),authorImage:pt("Author Image",t),authorImageDescription:pt("Upload an image of the author. We recommend an image with a 1:1 aspect ratio. If no image is set, the user's Gravatar will be used.",t),authorExcerpt:pt("Author Excerpt",t),authorExcerptDescription:pt("A short description of the author. This information will be used inside the compact author biography block and reviewer tooltip.",t),authorBio:pt("Author Bio",t),authorBioDescription:pt("A detailed description of the author. This information will be used inside the author biography block.",t),authorCustomUrl:pt("Author Bio URL",t),authorCustomUrlDescription:hi(pt("The URL for the author's biography page. If left blank, %1$s will use the author archive page.",t),"AIOSEO"),authorCustomUrlError:pt("Your Author Bio URL is invalid. Please check the format and try again.",t),customUrl:pt("The custom URL of the author bio page",t),useDefault:pt("Use Default Setting",t),name:pt("Institution Name",t),url:pt("Institution URL",t),addItem:pt("Add Item",t),delete:pt("Delete",t),nameTooltip:pt("The school, college, or university where the author studied.",t),urlTooltip:pt("The URL of the school, college, or university where the author studied.",t),award:pt("Awards",t),awardPlaceholder:pt("Enter any awards the author has received",t),awardTagPlaceholder:pt("Press enter to add an award",t),knowsLanguage:pt("Spoken Languages",t),knowsLanguagePlaceholder:pt("Enter the languages spoken by the author",t),knowsLanguageTagPlaceholder:pt("Press enter to create a language",t)};return(B,V)=>(ft(),wt("div",l0,[ct(J(rc),{slug:"authorSeoMetaData","header-text":P.authorInfo,onToggleCard:M},{default:St(()=>[ot("div",c0,qt(P.description),1),ct(J(ve),{name:P.enable},{content:St(()=>[ct(J(mi),{modelValue:J(l).authorMetaData.enabled,"onUpdate:modelValue":V[0]||(V[0]=G=>J(l).authorMetaData.enabled=G)},null,8,["modelValue"])]),_:1},8,["name"]),J(l).authorMetaData.enabled?(ft(),wt(Wr,{key:0},[ct(J(ve),{name:P.alumniOf},{content:St(()=>[ot("table",u0,[ot("thead",null,[ot("tr",null,[ot("td",null,[ot("div",h0,[Ne(qt(P.name)+" ",1),ct(J(fi),null,{tooltip:St(()=>[Ne(qt(P.nameTooltip),1)]),default:St(()=>[ct(J(Ao))]),_:1})])]),ot("td",null,[ot("div",d0,[Ne(qt(P.url)+" ",1),ct(J(fi),null,{tooltip:St(()=>[Ne(qt(P.urlTooltip),1)]),default:St(()=>[ct(J(Ao))]),_:1})])]),f0])]),ot("tbody",null,[(ft(!0),wt(Wr,null,ei(C.value,(G,mt)=>(ft(),wt("tr",{class:to({even:mt%2===0}),key:mt},[ot("td",p0,[ct(J(er),{size:"medium",modelValue:G.name,"onUpdate:modelValue":Tt=>G.name=Tt,"append-icon":"circle-close","append-icon-on-value":"",onAppendIconClick:Tt=>G.name=""},null,8,["modelValue","onUpdate:modelValue","onAppendIconClick"])]),ot("td",m0,[ct(J(er),{size:"medium",modelValue:G.url,"onUpdate:modelValue":Tt=>G.url=Tt,"append-icon":"circle-close","append-icon-on-value":"",onAppendIconClick:Tt=>G.url=""},null,8,["modelValue","onUpdate:modelValue","onAppendIconClick"])]),ot("td",g0,[ct(J(fi),{type:"action"},{tooltip:St(()=>[Ne(qt(P.delete),1)]),default:St(()=>[ct(J(eo),{onClick:Tt=>E(mt)},null,8,["onClick"])]),_:2},1024)])],2))),128))]),ot("tfoot",null,[ot("tr",null,[ot("td",b0,[ct(J(La),{size:"small-table",type:"black",onClick:V[1]||(V[1]=G=>k(null))},{default:St(()=>[ct(J(Aa)),Ne(" "+qt(P.addItem),1)]),_:1})])])])])]),_:1},8,["name"]),ct(J(ve),{name:P.worksFor},{content:St(()=>[ct(J(er),{size:"medium",modelValue:J(l).authorMetaData.worksFor,"onUpdate:modelValue":V[2]||(V[2]=G=>J(l).authorMetaData.worksFor=G),placeholder:P.worksFor},null,8,["modelValue","placeholder"]),ot("div",v0,qt(P.worksForDescription),1)]),_:1},8,["name"]),ct(J(ve),{name:P.jobTitle},{content:St(()=>[ct(J(er),{size:"medium",modelValue:J(l).authorMetaData.jobTitle,"onUpdate:modelValue":V[3]||(V[3]=G=>J(l).authorMetaData.jobTitle=G),placeholder:P.jobTitle},null,8,["modelValue","placeholder"]),ot("div",y0,qt(P.jobTitleDescription),1)]),_:1},8,["name"]),ct(J(ve),{name:P.knowsAbout},{content:St(()=>[ct(J(pi),{size:"medium",multiple:"",options:v.value,modelValue:J(e)(J(l).authorMetaData.knowsAbout)||[],"onUpdate:modelValue":V[4]||(V[4]=G=>J(l).authorMetaData.knowsAbout=J(n)(G)),placeholder:P.knowsAboutPlaceholder},null,8,["options","modelValue","placeholder"]),ot("div",{class:"aioseo-description",innerHTML:P.knowsAboutDescription},null,8,_0)]),_:1},8,["name"]),ct(J(ve),{name:P.award},{content:St(()=>[ct(J(pi),{size:"medium",multiple:"",taggable:"",placeholder:P.awardPlaceholder,tagPlaceholder:P.awardTagPlaceholder,options:J(e)(J(l).authorMetaData.award)||[],modelValue:J(e)(J(l).authorMetaData.award)||[],"onUpdate:modelValue":V[5]||(V[5]=G=>J(l).authorMetaData.award=J(n)(G))},null,8,["placeholder","tagPlaceholder","options","modelValue"])]),_:1},8,["name"]),ct(J(ve),{name:P.knowsLanguage},{content:St(()=>[ct(J(pi),{size:"medium",multiple:"",taggable:"",placeholder:P.knowsLanguagePlaceholder,tagPlaceholder:P.knowsLanguageTagPlaceholder,options:J(e)(J(l).authorMetaData.knowsLanguage)||[],modelValue:J(e)(J(l).authorMetaData.knowsLanguage)||[],"onUpdate:modelValue":V[6]||(V[6]=G=>J(l).authorMetaData.knowsLanguage=J(n)(G))},null,8,["placeholder","tagPlaceholder","options","modelValue"])]),_:1},8,["name"]),ct(J(ve),{name:P.authorImage},{content:St(()=>[ct(J(o0),{"img-preview-max-width":"200px","img-preview-max-height":"200px",description:P.authorImageDescription,modelValue:J(l).authorMetaData.authorImage,"onUpdate:modelValue":V[7]||(V[7]=G=>J(l).authorMetaData.authorImage=G)},null,8,["description","modelValue"])]),_:1},8,["name"]),ct(J(ve),{class:"aioseo-author-excerpt",name:P.authorExcerpt},{content:St(()=>[ct(J(Qp),{modelValue:J(l).authorMetaData.authorExcerpt,"onUpdate:modelValue":V[8]||(V[8]=G=>J(l).authorMetaData.authorExcerpt=G),"line-numbers":!1,"tags-context":"authorExcerpt",defaultMenuOrientation:"bottom",tagsDescription:"","default-tags":["author_bio"]},null,8,["modelValue"]),ot("div",w0,qt(P.authorExcerptDescription),1)]),_:1},8,["name"]),ct(J(ve),{name:P.authorBio,class:"aioseo-author-bio"},{content:St(()=>[jn(ot("textarea",{id:"aioseo-author-bio-textarea","onUpdate:modelValue":V[9]||(V[9]=G=>J(l).authorMetaData.authorBio=G)},null,512),[[Yl,J(l).authorMetaData.authorBio]]),ot("div",C0,qt(P.authorBioDescription),1)]),_:1},8,["name"]),ct(J(ve),{name:P.authorCustomUrl,class:"aioseo-author-custom-url"},{content:St(()=>[ct(J(er),{type:"text",size:"medium",modelValue:J(l).authorMetaData.authorCustomUrl,"onUpdate:modelValue":V[10]||(V[10]=G=>J(l).authorMetaData.authorCustomUrl=G),placeholder:P.customUrl,onInput:z,onBlur:V[11]||(V[11]=G=>D(G))},null,8,["modelValue","placeholder"]),u.value?(ft(),Kr(J(Na),{key:0,class:"profile-error",type:"red"},{default:St(()=>[ot("strong",null,qt(P.authorCustomUrlError),1)]),_:1})):Jt("",!0),ot("div",x0,qt(P.authorCustomUrlDescription),1)]),_:1},8,["name"]),ct(J(ve),{class:"author-bio-injection",name:P.authorBioInjection},{content:St(()=>[ot("div",k0,[ct(J(mi),{modelValue:J(l).authorMetaData.injectAuthorBioDefault,"onUpdate:modelValue":V[12]||(V[12]=G=>J(l).authorMetaData.injectAuthorBioDefault=G)},null,8,["modelValue"]),Ne(" "+qt(P.useDefault),1)]),J(l).authorMetaData.injectAuthorBioDefault?Jt("",!0):(ft(),wt("div",E0,[ct(J(mi),{modelValue:J(l).authorMetaData.injectAuthorBio,"onUpdate:modelValue":V[13]||(V[13]=G=>J(l).authorMetaData.injectAuthorBio=G)},null,8,["modelValue"]),Ne(" "+qt(P.injectAuthorBio)+" ",1),ot("div",{class:"aioseo-description",innerHTML:P.injectAuthorBioDescription},null,8,S0)]))]),_:1},8,["name"])],64)):Jt("",!0)]),_:1},8,["header-text"])]))}},A0=()=>{const r=document.querySelector("#aioseo-user-profile-tab .aioseo-user-profile-fields");if(!r)return;const t=document.createElement("div");t.id="aioseo-author-meta-data",r.prepend(t);let e=document.getElementById("aioseo-author-seo-meta-data-input");if(e)return;const n=document.getElementById("your-profile");n&&(e=document.createElement("input"),e.id="aioseo-author-seo-meta-data-input",e.name="aioseo-author-seo-meta-data-input",e.type="hidden",n.prepend(e))},L0=()=>{let r=Ql({...T0,name:"Addon/Eeat/Standalone/UserProfileTab"});r=Jl(r),tc(r,null,sc),r.mount("#aioseo-author-meta-data")};cc("#aioseo-user-profile-tab .aioseo-user-profile-fields","aioseoSocialProfilePageLoaded");document.addEventListener("animationstart",function(r){r.animationName==="aioseoSocialProfilePageLoaded"&&(A0(),L0())});
